"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[425],{2458:(e,n,t)=>{t.d(n,{A:()=>a});async function a(e){var n,t;let{lat:a,lon:o}=e,i=null;try{let e=await fetch(window.cConfig.apiUrl+"/api/country?lat=".concat(a,"&lon=").concat(o));i=await e.json()}catch(e){i={address:{country:"Unknown"}}}return null!=(t=null==(n=i.address)?void 0:n.country)?t:"Unknown"}},5367:(e,n,t)=>{t.d(n,{A:()=>s});var a=t(7876),o=t(4279),i=t(9395);function s(e){let{username:n,countryCode:t=null,isGuest:s=!1,flagStyle:r={},usernameStyle:l={}}=e,d=s?(0,i.A)(n):n;return(0,a.jsxs)(a.Fragment,{children:[d,t&&" ",t&&(0,a.jsx)(o.A,{countryCode:t,style:r})]})}},6425:(e,n,t)=>{t.d(n,{A:()=>eq});var a=t(7876),o=t(7328),i=t(4232),s=t(5364);function r(e){let{text:n,inCoolMathGames:t,inCrazyGames:r=!1}=e;return(0,i.useEffect)(()=>{if(window.location.search.includes("crazygames")||s.env.NEXT_PUBLIC_POKI||s.env.NEXT_PUBLIC_COOLMATH){if(window.location.search.includes("crazygames")){console.log("CrazyGames detected");let e=document.createElement("script");return e.src="https://sdk.crazygames.com/crazygames-sdk-v3.js",e.async=!1,console.log(window.CrazyGames),e.onload=()=>{console.log("sdk loaded",window.CrazyGames),window.onCrazyload&&window.onCrazyload()},document.body.appendChild(e),()=>{document.body.removeChild(e)}}else if("true"===s.env.NEXT_PUBLIC_COOLMATH){let e=document.createElement("script");e.src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.3/jquery.min.js",e.async=!1,document.body.appendChild(e);let n=document.createElement("script");return n.src="https://www.coolmathgames.com/sites/default/files/cmg-ads.js",n.async=!1,document.body.appendChild(n),()=>{document.body.removeChild(e),document.body.removeChild(n)}}else if("true"===s.env.NEXT_PUBLIC_POKI){let e=document.createElement("script");return e.src="https://game-cdn.poki.com/scripts/v2/poki-sdk.js",e.async=!0,document.body.appendChild(e),()=>{document.body.removeChild(e)}}}else{window.nitroAds=window.nitroAds||{createAd:function(){return new Promise(e=>{window.nitroAds.queue.push(["createAd",arguments,e])})},addUserToken:function(){window.nitroAds.queue.push(["addUserToken",arguments])},queue:[]};let e=()=>{if(document.querySelector('script[src*="nitropay.com"]'))return;let e=document.createElement("script");e.src="https://s.nitropay.com/ads-2071.js",e.async=!0,document.head.appendChild(e)},n=()=>{"requestIdleCallback"in window?requestIdleCallback(e,{timeout:3e3}):setTimeout(e,1e3)};return"complete"===document.readyState?n():window.addEventListener("load",n,{once:!0}),()=>{}}},[]),(0,a.jsxs)(o,{children:[(0,a.jsx)("title",{children:t?"WorldGuessr - Play it now at CoolmathGames.com":n("tabTitle")}),(0,a.jsx)("meta",{property:"og:title",content:n("fullTitle")}),(0,a.jsx)("meta",{name:"description",content:n("shortDescMeta")}),(0,a.jsx)("meta",{property:"og:description",content:n("fullDescMeta")}),(0,a.jsx)("meta",{name:"viewport",content:"width=device-width, height=device-height, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, viewport-fit=cover, user-scalable=no"}),(0,a.jsx)("link",{rel:"icon",type:"image/x-icon",href:"/icon.ico"}),(0,a.jsx)("meta",{name:"google-site-verification",content:"7s9wNJJCXTQqp6yr1GiQxREhloXKjtlbOIPTHZhtY04"}),(0,a.jsx)("meta",{name:"yandex-verification",content:"2eb7e8ef6fb55e24"}),(0,a.jsx)("link",{rel:"preconnect",href:"https://fonts.googleapis.com"}),(0,a.jsx)("link",{rel:"preconnect",href:"https://fonts.gstatic.com",crossOrigin:"anonymous"}),r&&(0,a.jsx)("link",{rel:"preload",href:"https://sdk.crazygames.com/crazygames-sdk-v3.js",as:"script"}),(0,a.jsx)("link",{href:"https://fonts.googleapis.com/css2?family=Jockey+One&family=Lexend:wght@100..900&display=swap",rel:"stylesheet"}),(0,a.jsx)("meta",{property:"og:image",content:"/icon_144x144.png"}),(0,a.jsx)("meta",{property:"og:url",content:"https://worldguessr.com"}),(0,a.jsx)("meta",{property:"og:type",content:"website"})]})}var l=t(3679),d=t(6059),c=t(6336),u=t(8207);t(2227);var p=t(1213),m=t(8847);function h(){let{innerWidth:e,innerHeight:n}=window;return{width:e,height:n}}function g(){let[e,n]=(0,i.useState)(h());return(0,i.useEffect)(()=>{function e(){n(h())}return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),e}function x(e){let{lat:n,lon:t,guessLat:a,guessLon:o,usedHint:i,maxDist:s}=e,r=function(e,n,t,a){try{var o=(t-e).toRad(),i=(a-n).toRad(),s=Math.sin(o/2)*Math.sin(o/2)+Math.cos(e.toRad())*Math.cos(t.toRad())*Math.sin(i/2)*Math.sin(i/2),r=2*Math.atan2(Math.sqrt(s),Math.sqrt(1-s)),l=6371*r}catch(e){return console.log(e),0}return l}(n,t,a,o),l=5e3*Math.E**-(r/s*10);return i&&(l/=2),l>4997&&(l=5e3),r<.03&&(l=5e3),Math.round(l)}Number.prototype.toRad=function(){return this*Math.PI/180};var f=t(1173);async function y(){try{let e=(await t.e(324).then(t.bind(t,1324))).default,n=Date.now()+150,a=["#ff0000","#ffa500","#ffff00","#00ff00","#00ffff","#0000ff","#ff00ff","#ff69b4","#ffd700","#ffffff"],o=window.innerWidth,i=.7*Math.min(90,Math.max(40,.045*o)),s=2*Math.min(2,Math.max(.5,.001*o)),r=.2*Math.min(600,Math.max(300,.3*o)),l=2*Math.round(Math.min(8,Math.max(3,.004*o)));!function t(){e({particleCount:l,angle:60,spread:70,origin:{x:0,y:.6},colors:a,zIndex:9999,startVelocity:i,gravity:1.2,drift:s,scalar:1.3,ticks:r,shapes:["square","circle"]}),e({particleCount:l,angle:120,spread:70,origin:{x:1,y:.6},colors:a,zIndex:9999,startVelocity:i,gravity:1.2,drift:-s,scalar:1.3,ticks:r,shapes:["square","circle"]}),Date.now()<n&&requestAnimationFrame(t)}()}catch(e){console.error("Error triggering confetti:",e)}}function v(e){var n,t,o,s,r;let{countryStreaksEnabled:l,singlePlayerRound:d,onboarding:c,countryGuesser:u,countryGuesserCorrect:p,options:m,lostCountryStreak:h,session:g,guessed:v,latLong:b,pinPoint:w,countryStreak:j,fullReset:S,km:k,multiplayerState:C,usedHint:D,toggleMap:N,panoShown:_,setExplanationModalShown:A}=e,{t:E}=(0,f.B)("common"),G=(0,i.useRef)(!1),M=(null==C?void 0:C.inGame)||(null==d?void 0:d.lastPoint)==null?b&&w?x({lat:b.lat,lon:b.long,guessLat:w.lat,guessLon:w.lng,usedHint:!1,maxDist:null!=(s=null==C||null==(n=C.gameData)?void 0:n.maxDist)?s:2e4}):0:d.lastPoint;return(0,i.useEffect)(()=>{v&&M>=4850&&!G.current&&(G.current=!0,y()),v||(G.current=!1)},[v,M]),(0,a.jsxs)("div",{id:"endBanner",style:{display:v?"":"none"},children:[(0,a.jsx)("button",{className:"openInMaps topGameInfoButton",onClick:()=>{N()},children:E(_?"showMap":"showPano")}),(0,a.jsxs)("div",{className:"bannerContent",children:[w&&k>=0?(0,a.jsx)("span",{className:"mainBannerTxt",children:E("guessDistance".concat("imperial"===m.units?"Mi":"Km"),{d:"imperial"===m.units?(.621371*k).toFixed(1):k})}):(0,a.jsxs)("span",{className:"mainBannerTxt",children:[E(u?p?"correctCountry":"incorrectCountry":"didntGuess"),"!"]}),(0,a.jsxs)("p",{className:"motivation",children:[b&&w&&(c||(null==C?void 0:C.inGame))&&"".concat(E("gotPoints",{p:x({lat:b.lat,lon:b.long,guessLat:w.lat,guessLon:w.lng,usedHint:!1,maxDist:null!=(r=null==C||null==(t=C.gameData)?void 0:t.maxDist)?r:2e4})}),"! "),u&&c&&b&&"".concat(E("gotPoints",{p:2500}),"!")]}),l&&(0,a.jsxs)("p",{className:"motivation",children:[j>0?E("onCountryStreak",{streak:j}):"",h>0?"".concat(E("lostCountryStreak",{streak:h}),"!"):""]}),(0,a.jsx)("p",{className:"motivation",children:d&&E("gotPoints",{p:d.lastPoint})})]}),!C&&(0,a.jsxs)("div",{className:"endButtonContainer",children:[(0,a.jsx)("button",{className:"playAgain",onClick:S,children:E(c&&5===c.round||d&&d.round===d.totalRounds?"viewResults":"nextRound")}),(null==g||null==(o=g.token)?void 0:o.canMakeClues)&&(0,a.jsx)("button",{className:"openInMaps",onClick:()=>{_||N(),A(!0)},children:E("writeExplanation")})]})]})}var b=t(2458),w=t(4587);function j(e){let{shown:n,text:t,hideCompass:o,subText:i,position:s}=e;return(0,a.jsxs)("div",{className:"banner-text ".concat(n?"shown":"hidden"),style:{position:s||"fixed",zIndex:1e3,top:"50%",left:"50%",transform:"translate(-50%, -50%)",pointerEvents:"none",flexDirection:"column"},children:[(0,a.jsxs)("div",{style:{display:"flex"},children:[(0,a.jsx)("span",{style:{color:"white",fontSize:"50px",marginTop:"20px",textAlign:"center"},children:t||"Loading..."}),!o&&(0,a.jsx)(w.default,{alt:"Loading compass",src:"./loader.gif",width:100,height:100})]}),i&&(0,a.jsx)("span",{style:{color:"white",fontSize:"30px",marginTop:"20px",textAlign:"center"},children:i})]})}var S=t(2446),k=t(5367),C=t(5364);function D(e){var n,t,o,i,s,r,l,c,u,p,m,h,g,x,y,v,b,w,j,D,N,_,A,E,G,M,T,R,I,B,P,z,O;let{multiplayerState:L,playAgain:W,backBtn:F,startGameHost:H,onEditClick:U}=e,{t:q}=(0,f.B)("common"),J=(null!=(z=null==L||null==(n=L.gameData)?void 0:n.finalPlayers)?z:null==L||null==(t=L.gameData)?void 0:t.players).sort((e,n)=>n.score-e.score),K=null==L||null==(o=L.gameData)?void 0:o.myId,V=J.findIndex(e=>e.id===K),Y=(null==(i=L.gameData)?void 0:i.state)==="waiting",Z=(null==(s=L.gameData)?void 0:s.state)==="end",Q=null==(r=L.gameData)?void 0:r.host,X=Y?200:5;return(0,a.jsxs)("div",{className:"multiplayerLeaderboard g2_container",children:[(0,a.jsxs)("span",{className:"bigSpan",children:[Z?q("gameOver"):Y?Q?q("yourPrivateGame"):q("privateGame"):q("leaderboard"),Y&&(0,a.jsxs)("span",{style:{color:"white"},children:[" (",q("roundsCount",{rounds:null==(l=L.gameData)?void 0:l.rounds}),(null==L||null==(c=L.gameData)?void 0:c.nm)&&(null==L||null==(u=L.gameData)?void 0:u.npz)&&", NMPZ",(null==L||null==(p=L.gameData)?void 0:p.nm)&&!(null==L||null==(m=L.gameData)?void 0:m.npz)&&", NM",(null==L||null==(h=L.gameData)?void 0:h.npz)&&!(null==L||null==(g=L.gameData)?void 0:g.nm)&&", NPZ",")"]})]}),Y&&(null==L||null==(x=L.gameData)?void 0:x.displayLocation)&&(0,a.jsxs)("span",{children:[q("map"),": ",null!=(O=null==L||null==(y=L.gameData)?void 0:y.displayLocation)?O:""]}),Y&&(0,a.jsxs)("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",flexWrap:"wrap",justifyContent:"center",gap:"10px",marginTop:"8px"},children:[(0,a.jsxs)("div",{style:{display:"flex",alignItems:"center",backgroundColor:"#fff3cd",border:"1px solid #ffc107",borderRadius:"8px",padding:"10px 16px"},children:[(0,a.jsxs)("span",{style:{color:"#856404",fontWeight:"700",fontSize:"clamp(16px, 4vw, 20px)"},children:[q("gameCode"),": ",null==(v=L.gameData)?void 0:v.code]}),(0,a.jsx)("button",{onClick:()=>{var e;navigator.clipboard.writeText(null==(e=L.gameData)?void 0:e.code),S.oR.success(q("copiedToClipboard"))},style:{marginLeft:"12px",padding:"8px 12px",backgroundColor:"#ffc107",color:"#000",border:"none",cursor:"pointer",pointerEvents:"all",borderRadius:"6px",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.15s ease"},children:(0,a.jsx)(d.paH,{})})]}),Q&&(0,a.jsx)("button",{onClick:()=>{U()},style:{padding:"10px 20px",backgroundColor:(null==L||null==(b=L.gameData)?void 0:b.rounds)>(null==L||null==(w=L.gameData)?void 0:w.generated)?"#6c757d":"#28a745",color:"white",border:"none",cursor:(null==L||null==(j=L.gameData)?void 0:j.rounds)>(null==L||null==(D=L.gameData)?void 0:D.generated)?"not-allowed":"pointer",pointerEvents:"all",borderRadius:"8px",fontWeight:"600",fontSize:"14px",transition:"all 0.15s ease",boxShadow:"0 2px 6px rgba(0, 0, 0, 0.15)"},disabled:(null==L||null==(N=L.gameData)?void 0:N.rounds)>(null==L||null==(_=L.gameData)?void 0:_.generated),children:q("editOptions")})]}),J.slice(0,X).map((e,n)=>{var t,o;return(0,a.jsx)("div",{className:"multiplayerLeaderboard__player ".concat(e.id===K?"me":""),children:Y?(0,a.jsxs)("div",{className:"multiplayerLeaderboard__player__username",children:[(0,a.jsx)(k.A,{username:e.username,countryCode:e.countryCode,isGuest:C.env.NEXT_PUBLIC_COOLMATH}),e.id===K&&(null==(t=e.username)?void 0:t.startsWith("Guest #"))&&(0,a.jsxs)("span",{style:{color:"#28a745",fontWeight:"600",fontSize:"12px"},children:[" (",q("you"),")"]}),e.supporter&&(0,a.jsx)("span",{className:"badge",style:{marginLeft:"6px",backgroundColor:"#ffc107",color:"#000",padding:"2px 8px",borderRadius:"4px",fontSize:"11px",fontWeight:"700",textTransform:"uppercase"},children:q("supporter")}),e.host&&(0,a.jsxs)("span",{style:{color:"#dc3545",fontWeight:"600",fontSize:"12px",marginLeft:"4px"},children:[" (",q("host"),")"]})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"multiplayerLeaderboard__player__username",children:["#",n+1," - ",(0,a.jsx)(k.A,{username:e.username,countryCode:e.countryCode,isGuest:C.env.NEXT_PUBLIC_COOLMATH}),e.id===K&&(null==(o=e.username)?void 0:o.startsWith("Guest #"))&&(0,a.jsxs)("span",{style:{color:"#28a745",fontWeight:"600",fontSize:"12px"},children:[" (",q("you"),")"]}),e.supporter&&(0,a.jsx)("span",{className:"badge",style:{marginLeft:"6px",backgroundColor:"#ffc107",color:"#000",padding:"2px 8px",borderRadius:"4px",fontSize:"11px",fontWeight:"700",textTransform:"uppercase"},children:q("supporter")})]}),(0,a.jsx)("div",{className:"multiplayerLeaderboard__player__score",children:e.score})]})},n)}),V>=X&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{className:"multiplayerLeaderboard__separator",children:"..."}),(0,a.jsxs)("div",{className:"multiplayerLeaderboard__player me",children:[(0,a.jsxs)("div",{className:"multiplayerLeaderboard__player__username",children:["#",V+1," - ",(0,a.jsx)(k.A,{username:J[V].username,countryCode:J[V].countryCode,isGuest:C.env.NEXT_PUBLIC_COOLMATH})," ",(null==(A=J[V].username)?void 0:A.startsWith("Guest #"))&&(0,a.jsxs)("span",{style:{color:"#28a745",fontWeight:"600",fontSize:"12px"},children:["(",q("you"),")"]})]}),(0,a.jsx)("div",{className:"multiplayerLeaderboard__player__score",children:J[V].score})]})]}),Z&&(0,a.jsxs)("div",{className:"multiplayerFinalBtns",children:[(null==(E=L.gameData)?void 0:E.public)&&(0,a.jsx)("button",{className:"gameBtn",onClick:W,children:q("playAgain")}),(null==(G=L.gameData)?void 0:G.public)||Q&&(0,a.jsx)("button",{className:"gameBtn",onClick:F,children:q("back")})]}),Y&&Q&&(0,a.jsx)("div",{className:"multiplayerFinalBtns",children:J.length<2?(0,a.jsx)("p",{style:{color:"#721c24",fontSize:"14px",fontWeight:"500",padding:"10px 20px",backgroundColor:"#f8d7da",borderRadius:"6px",border:"1px solid #f5c6cb"},children:q("singlePlayerNeeded")}):(null==L||null==(M=L.gameData)?void 0:M.rounds)>(null==L||null==(T=L.gameData)?void 0:T.generated)?null:(0,a.jsx)("button",{className:"gameBtn g2_green_button g2_button_style",onClick:()=>H(),children:q("startGame")})}),(null==L||null==(R=L.gameData)?void 0:R.rounds)>(null==L||null==(I=L.gameData)?void 0:I.generated)&&(0,a.jsx)("p",{style:{color:"#856404",fontSize:"14px",fontWeight:"500",padding:"10px 20px",backgroundColor:"#fff3cd",borderRadius:"6px",border:"1px solid #ffc107",marginTop:"10px"},children:q("generating")}),Y&&!Q&&(null==L||null==(B=L.gameData)?void 0:B.rounds)==(null==L||null==(P=L.gameData)?void 0:P.generated)&&(0,a.jsxs)("p",{style:{color:"#fff",fontSize:"14px",fontWeight:"500",padding:"10px 20px",backgroundColor:"rgba(255, 255, 255, 0.15)",borderRadius:"6px",marginTop:"10px"},children:[q("waitingForHostToStart"),"..."]})]})}var N=t(4679);function _(e){let{countries:n,onCountryPress:t,shown:o}=e;return(0,a.jsx)("div",{className:"countryGuessrOptions ".concat(o?"shown":""),children:n.map(e=>(function(e){let{country:n,onPress:t}=e;return(0,a.jsx)("div",{className:"countryCard countryGuessrCard",style:{backgroundImage:"url(https://flagcdn.com/w160/".concat(null==n?void 0:n.toLowerCase(),".png)")},onClick:()=>{t(n)},children:(0,a.jsx)("h3",{className:"countryName",children:(0,N.A)(n)})},n)})({country:e,onPress:t}))})}function A(e){let{words:n,onboarding:t,pageDone:o,shown:s}=e,[r,l]=(0,i.useState)(""),[d,c]=(0,i.useState)(0),[u,p]=(0,i.useState)(0),[m,h]=(0,i.useState)(!1),[g,x]=(0,i.useState)(!1);return(0,i.useEffect)(()=>{if(g)return;let e=setTimeout(()=>{let e=n[d];e&&(m?(l(e=>e.slice(0,-1)),p(e=>e-1),0===u&&(h(!1),c(e=>(e+1)%n.length),d+1===n.length&&(x(!0),o()))):(l(n=>n+e.charAt(u)),p(e=>e+1),u+1===e.length&&setTimeout(()=>h(!0),1e3)))},m?10:25);return()=>clearTimeout(e)},[r,u,m,d,g,n]),(0,i.useEffect)(()=>{l(""),c(0),p(0),h(!1),x(!1)},[n]),(0,a.jsx)("div",{className:"onboardingDiv ".concat(s?"shown":""),children:(0,a.jsx)("span",{children:r})})}var E=t(5259),G=t(8845),M=t(8230);function T(e){var n;let{explanations:t,close:o,session:s}=e,{t:r}=(0,f.B)("common"),[l,d]=(0,i.useState)(0),[c,u]=(0,i.useState)({});(0,i.useEffect)(()=>{u({})},[t]);let p=t[l];if(!p)return null;let m=(0,E.A)(p.created_at),h=null==s||null==(n=s.token)||!n.secret||!!c["rate".concat(l)],g=c["rate".concat(l)]?c["rate".concat(l)]:p.rating;return(0,a.jsx)("div",{id:"endBanner",className:"clueBanner",children:(0,a.jsxs)("div",{className:"explanationContainer",style:{overflowY:"scroll",maxHeight:"40vh"},children:[(0,a.jsxs)("div",{className:"bannerContent",children:[(0,a.jsx)("span",{className:"smallmainBannerTxt",children:"Explanations (beta)"}),p.cluetext.split("\n").map((e,n)=>(0,a.jsx)("p",{className:"motivation",style:{fontSize:"0.6em",marginBottom:"15px"},children:e.split(" ").map((e,n)=>e.startsWith("http")||e.startsWith("www.")||e.startsWith("plonkit.net")?(0,a.jsx)("button",{className:"linkButton",onClick:()=>window.open(e.startsWith("http")?e:"https://".concat(e),"_blank"),children:e},n):e+" ")},n))]}),(0,a.jsx)("div",{className:"explanationFooter",children:(0,a.jsxs)("div",{style:{display:"flex",justifyContent:"center"},children:[(0,a.jsx)("span",{className:"createdBy",style:{fontWeight:10},children:r("explanationFooter",{name:p.created_by_name,time:m})}),"\xa0\xa0 | \xa0",(0,a.jsx)(G.GW,{style:{maxWidth:100},halfFillMode:"svg",value:h?g:Math.round(g),readOnly:h,onChange:e=>{var n;c["rate".concat(l)]||(u({...c,["rate".concat(l)]:e}),fetch(window.cConfig.apiUrl+"/api/clues/rateClue",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({clueId:p.id,rating:e,secret:null==s||null==(n=s.token)?void 0:n.secret})}).then(e=>{e.ok?S.oR.success("Rating submitted successfully!"):u({...c,["rate".concat(l)]:void 0})}).catch(()=>{u({...c,["rate".concat(l)]:void 0})}))}}),"(",p.ratingcount+ +!!c["rate".concat(l)],")"]})}),(0,a.jsx)("div",{class:"endButtonContainer",children:(0,a.jsx)("button",{className:"openInMaps",onClick:o,children:r("close")})})]})})}var R=t(6148);function I(e){let{lat:n,long:t,session:o,shown:s,onClose:r}=e,{t:l}=(0,f.B)("common"),[d,c]=(0,i.useState)(""),[u,p]=(0,i.useState)(null),[m,h]=(0,i.useState)(!1),g=async()=>{if(!d)return void p("Explanation is required");try{var e;let a=new FormData;a.append("lat",n),a.append("lng",t),a.append("secret",null==o||null==(e=o.token)?void 0:e.secret),a.append("clueText",d),h(!0);let i=await fetch(window.cConfig.apiUrl+"/api/clues/makeClue",{method:"POST",headers:{},body:a});if(i.ok)h(!1),S.oR.success("Explanation submitted successfully!"),c(""),r();else{let e=await i.json();h(!1),p(e.message||"An error occurred")}}catch(e){h(!1),p("An error occurred while submitting the explanation")}};return(0,a.jsxs)(R.a,{id:"explanationModal",styles:{modal:{zIndex:100,background:"#333",color:"white",padding:"20px",borderRadius:"10px",fontFamily:"'Arial', sans-serif",maxWidth:"500px",textAlign:"center"}},open:s,center:!0,onClose:r,children:[(0,a.jsx)("h2",{children:"Write an explanation"}),(0,a.jsx)("p",{children:"Explain the reasoning behind your guess (in English)"}),(0,a.jsx)("p",{children:"Be specific and explain specific details in the streetview that helped you pinpoint the country and region"}),(0,a.jsxs)("p",{style:{color:d.length<100?"red":"green"},children:["(",d.length," / 1000)"]}),(0,a.jsx)("textarea",{value:d,onChange:e=>c(e.target.value),placeholder:"Enter Explanation",maxLength:1e3,style:{width:"100%",height:"150px",padding:"10px",borderRadius:"5px",border:"1px solid #ccc",marginBottom:"20px",fontSize:"16px",fontFamily:"'Arial', sans-serif",resize:"none",background:"#444",color:"white"}}),u&&(0,a.jsx)("p",{style:{color:"red"},children:u}),(0,a.jsx)("button",{onClick:g,disabled:m,style:{background:m?"gray":"green",color:"white",padding:"10px 20px",borderRadius:"5px",border:"none",cursor:"pointer",fontSize:"16px",fontWeight:"bold",marginBottom:"20px"},children:m?l("loading"):"Submit Explanation"})]})}function B(e){let{shown:n,close:t,playAd:o,countryStreak:i,setCountryStreak:s,lostCountryStreak:r,setLostCountryStreak:l}=e,{t:d}=(0,f.B)("common");return n?(0,a.jsxs)("div",{id:"endBanner",className:"clueBanner",children:[(0,a.jsxs)("div",{className:"bannerContent",children:[(0,a.jsx)("span",{className:"smallmainBannerTxt",children:d("restoreYourStreak",{streak:r})}),(0,a.jsx)("p",{className:"motivation",children:d("watchAnAdToRestore")})]}),(0,a.jsxs)("div",{class:"endButtonContainer",children:[(0,a.jsx)("button",{className:"openInMaps",onClick:o,style:{backgroundColor:"green"},children:d("watchAd")}),(0,a.jsx)("button",{className:"openInMaps",onClick:t,children:d("close")})]})]}):null}var P=t(409);function z(e,n,t,a){let o=0;for(let i=0;i<t.length;i++)t[i][0]<=.9*e&&t[i][1]<=n*a&&(o=i);return t[o][0]>e||t[o][1]>n*a?-1:o}function O(e){let{types:n,unit:t,vertThresh:o=.3,screenW:s,screenH:r,showAdvertisementText:l=!0}=e,[d,c]=(0,i.useState)(z(s,r,n,o)),[u,p]=(0,i.useState)(!1),m=(0,i.useRef)(null);return((0,i.useEffect)(()=>{"localhost"===window.location.hostname?p("debug"):p(!0)},[]),(0,i.useEffect)(()=>{c(z(s,r,n,o))},[s,r,JSON.stringify(n),o]),(0,i.useEffect)(()=>{if(-1===d||!u||"debug"===u)return;let e={refreshTime:30,renderVisibleOnly:!0,report:{enabled:!0,icon:!0,wording:"Report Ad",position:"top-right"},sizes:n.filter(e=>e[0]<=n[d][0]&&e[1]<=n[d][1]).map(e=>[e[0],e[1]]),report:{load:()=>{(0,P.A)("ad_request_".concat(n[d][0],"x").concat(n[d][1],"_").concat(t))}}};try{window.nitroAds.createAd(t,e)}catch(e){console.error("Error creating Nitro ad:",e)}return()=>{}},[d,u,t]),-1!==d&&u)?(0,a.jsxs)("div",{style:{position:"relative",display:"inline-block"},children:[l&&(0,a.jsx)("span",{style:{position:"absolute",top:"-24px",left:"0px",padding:"0 5px",fontSize:"18px",fontWeight:"bold"},children:"Advertisement"}),(0,a.jsx)("div",{style:{backgroundColor:"rgba(0,0,0,".concat(.5*("debug"===u),")"),height:n[d][1],width:n[d][0],textAlign:"center",position:"relative"},id:t,ref:m,children:"debug"===u&&(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{style:{position:"absolute",bottom:"10px",left:"0",width:"100%",color:"white",zIndex:2,backgroundColor:"rgba(0, 0, 0, 0.5)"},children:[(0,a.jsx)("h3",{children:"Banner Ad Here (Nitro)"}),(0,a.jsxs)("p",{style:{fontSize:"0.8em"},children:["Ad sizes: ",n.filter(e=>e[0]<=n[d][0]&&e[1]<=n[d][1]).map(e=>"".concat(e[0],"x").concat(e[1])).join(", ")]}),(0,a.jsxs)("p",{style:{fontSize:"0.6em"},children:["Unit: ",t]})]})})})]}):null}function L(e){let{value:n,duration:t=800,className:o="",showIncrement:s=!0,incrementColor:r="#22c55e",formatNumber:l=!0}=e,[d,c]=(0,i.useState)(n),[u,p]=(0,i.useState)(!1),[m,h]=(0,i.useState)(0),[g,x]=(0,i.useState)(!1),f=(0,i.useRef)(n),y=(0,i.useRef)(),v=(0,i.useRef)();(0,i.useEffect)(()=>{let e=f.current,a=n-e;if(a<=0){c(n),f.current=n;return}s&&a>0&&(h(a),x(!0),v.current=setTimeout(()=>{x(!1)},t+200)),p(!0);let o=Date.now(),i=()=>{let s=Math.min((Date.now()-o)/t,1);c(Math.round(e+a*(1-Math.pow(1-s,3)))),s<1?y.current=requestAnimationFrame(i):(c(n),p(!1),f.current=n)};return y.current=requestAnimationFrame(i),()=>{y.current&&cancelAnimationFrame(y.current),v.current&&clearTimeout(v.current)}},[n,t,s]);let b=l&&d>=1e3?d.toLocaleString():d;return(0,a.jsxs)("span",{className:"animated-counter ".concat(o," ").concat(u?"animating":""),children:[(0,a.jsx)("span",{className:"counter-value",children:b}),s&&g&&m>0&&(0,a.jsxs)("span",{className:"increment-indicator",style:{color:r,animation:"pointIncrement ".concat(t,"ms cubic-bezier(0.4, 0, 0.2, 1) forwards")},children:["+",l&&m>=1e3?m.toLocaleString():m]})]})}class W{static isCrazyGames(){return window.inCrazyGames}static setItem(e,n){try{W.isCrazyGames()?window.CrazyGames.SDK.data.setItem(e,n):window.localStorage.setItem(e,n)}catch(e){}}static getItem(e){try{if(W.isCrazyGames())return window.CrazyGames.SDK.data.getItem(e);return window.localStorage.getItem(e)}catch(e){}}static removeItem(e){try{W.isCrazyGames()?window.CrazyGames.SDK.data.removeItem(e):window.localStorage.removeItem(e)}catch(e){}}}var F=t(2069),H=t(4279);let U=e=>{var n,t,o,s,r,l,d,c;let{health:u,maxHealth:p,name:m,elo:h,start:g,isStartingDuel:x,isOpponent:f=!1,countryCode:y=null}=e,[v,b]=(0,i.useState)(u),[w,j]=(0,i.useState)(u),[S,k]=(0,i.useState)(!1),[C,D]=(0,i.useState)(null),N=(0,i.useRef)(u),_=Math.max(0,v/p*100),A=(e=>e>60?{bg:"#4ade80",glow:"#22c55e"}:e>30?{bg:"#fbbf24",glow:"#f59e0b"}:{bg:"#ef4444",glow:"#dc2626"})(_);return(0,i.useEffect)(()=>{let e;if(u!==N.current){let e=N.current-u;e>0&&(D(e),setTimeout(()=>D(null),2e3)),j(N.current),N.current=u}k(!0);let n=t=>{e||(e=t);let a=Math.min((t-e)/1200,1);b(Math.max(0,v+a*(u-v))),a<1?requestAnimationFrame(n):k(!1)};requestAnimationFrame(n)},[u]),(0,a.jsxs)("div",{className:"health-bar-container modern ".concat(g?"start":""," ").concat(S?"animating":""),children:[C&&(0,a.jsxs)("div",{className:"damage-indicator",children:["-",C]}),!x&&(0,a.jsx)("div",{className:"health-bar-wrapper",children:(0,a.jsxs)("div",{className:"health-bar-bg",children:[(0,a.jsx)("div",{className:"health-bar-track",children:(0,a.jsxs)("div",{className:"health-bar-fill",style:{width:"".concat(_,"%"),backgroundColor:A.bg,boxShadow:"0 0 20px ".concat(A.glow,"40, inset 0 2px 4px rgba(255,255,255,0.3)")},children:[(0,a.jsx)("div",{className:"health-bar-shine"}),(0,a.jsx)("div",{className:"health-bar-pulse",style:{backgroundColor:A.glow}})]})}),(0,a.jsxs)("div",{className:"health-text",children:[(0,a.jsx)("span",{className:"health-number",children:Math.max(0,Math.round(v))}),(0,a.jsxs)("span",{className:"health-max",children:["/",p]})]})]})}),(0,a.jsx)("div",{className:"player-info-modern ".concat(x?"starting":""),children:(0,a.jsxs)("div",{className:"player-name-wrapper",children:[f&&m?(0,a.jsxs)(M,{href:"/user?u=".concat(encodeURIComponent(m)),target:"_blank",className:"player-name",style:{color:"white",textDecoration:"underline",cursor:"pointer",transition:"opacity 0.2s ease",pointerEvents:"auto",display:"inline-flex",alignItems:"center",gap:"6px"},onMouseEnter:e=>{e.currentTarget.style.opacity="0.8"},onMouseLeave:e=>{e.currentTarget.style.opacity="1"},children:[m,y&&(0,a.jsx)(H.A,{countryCode:y})]}):(0,a.jsxs)("span",{className:"player-name",style:{display:"inline-flex",alignItems:"center",gap:"6px"},children:[m,y&&(0,a.jsx)(H.A,{countryCode:y})]}),h&&(0,a.jsxs)("span",{className:"player-elo",style:{color:null!=(l=null!=(r=null==(n=(0,F.WV)(h))?void 0:n.light)?r:null==(t=(0,F.WV)(h))?void 0:t.color)?l:"#60a5fa",textShadow:"0 0 10px ".concat(null!=(c=null!=(d=null==(o=(0,F.WV)(h))?void 0:o.light)?d:null==(s=(0,F.WV)(h))?void 0:s.color)?c:"#60a5fa","60")},children:["(",h,")"]})]})})]})};var q=t(5364);let J=m(()=>Promise.all([t.e(562),t.e(805),t.e(299)]).then(t.bind(t,6299)),{loadableGenerated:{webpack:()=>[require.resolveWeak("../components/Map")]},ssr:!1}),K=m(()=>Promise.all([t.e(562),t.e(805),t.e(845)]).then(t.bind(t,1226)),{loadableGenerated:{webpack:()=>[require.resolveWeak("./roundOverScreen")]},ssr:!1});function V(e){var n,t,o,s,r,c,u,p,m,h,y,w,k,C,N,E,G,M,R,z,F,H,V,Y,Z,Q,X,$,ee,en,et,ea,eo,ei,es,er,el,ed,ec,eu,ep,em,eh,eg,ex,ef,ey,ev,eb,ew,ej,eS,ek,eC,eD,eN,e_,eA,eE,eG,eM,eT,eR,eI,eB,eP,ez,eO,eL,eW,eF,eH,eU,eq,eJ,eK,eV,eY,eZ,eQ,eX,e$,e0,e1,e2,e5,e3,e6,e4,e9,e8,e7,ne;let{inCoolMathGames:nn,miniMapShown:nt,setMiniMapShown:na,singlePlayerRound:no,setSinglePlayerRound:ni,showDiscordModal:ns,setShowDiscordModal:nr,inCrazyGames:nl,showPanoOnResult:nd,setShowPanoOnResult:nc,countryGuesserCorrect:nu,setCountryGuesserCorrect:np,otherOptions:nm,onboarding:nh,setOnboarding:ng,countryGuesser:nx,options:nf,timeOffset:ny,ws:nv,multiplayerState:nb,backBtnPressed:nw,setMultiplayerState:nj,countryStreak:nS,setCountryStreak:nk,loading:nC,setLoading:nD,session:nN,gameOptionsModalShown:n_,setGameOptionsModalShown:nA,latLong:nE,loadLocation:nG,gameOptions:nM,setGameOptions:nT,showAnswer:nR,setShowAnswer:nI,pinPoint:nB,setPinPoint:nP,hintShown:nz,setHintShown:nO,showCountryButtons:nL,setShowCountryButtons:nW}=e,{t:nF}=(0,f.B)("common"),[nH,nU]=(0,i.useState)(!1);function nq(){if("true"===q.env.NEXT_PUBLIC_COOLMATH)try{console.log("Sending start event to CoolMathGames"),window.parent.postMessage({cm_game_event:!0,cm_game_evt:"start",cm_game_lvl:"singleplayer"},"*")}catch(e){console.log("Failed sending start event to CoolMathGames",e)}!function(){if(!nr||ns)return;let e=window.gameOpen;if(W.getItem("shownDiscordModal"))return console.log("Discord modal already shown");Date.now()-e>6e5&&!q.env.NEXT_PUBLIC_COOLMATH?(nr(!0),(0,P.A)("discord_modal_shown")):console.log("Not showing discord modal, waiting for "+(6e5-(Date.now()-e))+"ms")}(),nU(!1),nh?nh.completed?ng({round:1,points:0,startTime:Date.now(),locations:nh.locations,gameResults:[]}):5===nh.round?(console.log("Setting onboarding to completed",nh),ng(e=>{let n={completed:!0,finalOnboardingShown:!0,round:e.round,points:e.points,timeTaken:Date.now()-e.startTime,locations:e.gameResults||[]};return console.log("Completed onboarding state:",n),n}),nI(!1)):ng(e=>({...e,round:e.round+1,nextRoundTime:0})):!no||no.round!==no.totalRounds||(null==no?void 0:no.done)?(nG(),!no||(null==no?void 0:no.done)?ni&&ni({round:1,totalRounds:5,locations:[]}):ni(e=>({...e,round:e.round+1}))):(nI(!1),ni(e=>{var n;let t={...e,done:!0};return(null==nN||null==(n=nN.token)?void 0:n.secret)&&e.locations.length>0&&(e.locations.reduce((e,n)=>e+(n.xpEarned||0),0),fetch(window.cConfig.apiUrl+"/api/storeGame",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({secret:nN.token.secret,official:nM.official,location:nM.communityMapName||nM.location,rounds:e.locations.map(e=>({lat:e.guessLat,long:e.guessLong,actualLat:e.lat,actualLong:e.long,panoId:e.panoId,usedHint:!1,maxDist:nM.maxDist,roundTime:e.timeTaken,xp:e.xpEarned,points:e.points}))})}).then(e=>e.json()).then(e=>{if(e.error)return void console.error(e.error)}).catch(e=>{console.error(e)})),t}))}let{width:nJ,height:nK}=g(),nV=!1;window.matchMedia("(pointer: coarse)").matches&&(nV=!0);let[nY,nZ]=(0,i.useState)(!1),[nQ,nX]=(0,i.useState)(!1),[n$,n0]=(0,i.useState)(null),[n1,n2]=(0,i.useState)(0),[n5,n3]=(0,i.useState)(0),[n6,n4]=(0,i.useState)(0),[n9,n8]=(0,i.useState)(!1),[n7,te]=(0,i.useState)(null),[tn,tt]=(0,i.useState)(!1),[ta,to]=(0,i.useState)([]),[ti,ts]=(0,i.useState)(!1),[tr,tl]=(0,i.useState)([]),[td,tc]=(0,i.useState)(!1),tu=nb&&nb.inGame&&(null==nb||null==(n=nb.gameData)?void 0:n.state)==="getready"&&(null==nb||null==(t=nb.gameData)?void 0:t.curRound)===1;function tp(){nO(!0)}function tm(){if(nI(!0),(nL||nW)&&nW(!1),nh){let e=nx?2500:x({lat:nE.lat,lon:nE.long,guessLat:nB.lat,guessLon:nB.lng,usedHint:nz,maxDist:2e4});ng(n=>{var t;return{...n,nextRoundTime:0,points:(null!=(t=n.points)?t:0)+e,gameResults:[...n.gameResults||[],{lat:nE.lat,long:nE.long,guessLat:nB.lat,guessLong:nB.lng,points:e,timeTaken:Math.round((Date.now()-n$)/1e3)}]}}),n4(0)}if(no){let e=x({lat:nE.lat,lon:nE.long,guessLat:nB.lat,guessLon:nB.lng,usedHint:nz,maxDist:nM.maxDist}),n=(null==nM?void 0:nM.official)?Math.round(e/50):0;ni(t=>({...t,locations:[...t.locations,{lat:nE.lat,long:nE.long,panoId:nE.panoId||null,guessLat:nB.lat,guessLong:nB.lng,points:e,timeTaken:Math.round((Date.now()-n$)/1e3),xpEarned:n}],lastPoint:e}))}if((null==nb||!nb.inGame)&&"all"===nM.location&&nB){function e(e){if(n2(0),e===nE.country)nk(nS+1),nU(!1);else if("Unknown"!==e){nk(0),n2(nS);let e=/iPad|iPhone|iPod/.test(navigator.userAgent);!(nS>0)||!window.adBreak||nl||nn||e||(console.log("requesting reward ad"),window.adBreak({type:"reward",name:"reward-continue",beforeReward:e=>{window.showRewardedAdFn=()=>{e(),(0,P.A)("reward_ad_play",{countryStreak:nS})},nU(!0),(0,P.A)("reward_ad_available",{countryStreak:nS}),console.log("reward ad available")},beforeAd:()=>{},adDismissed:()=>{S.oR.error(nF("adDismissed")),(0,P.A)("reward_ad_dismissed",{countryStreak:nS})},adViewed:()=>{nk(nS),n2(0),S.oR.success(nF("streakRestored")),(0,P.A)("reward_ad_viewed",{countryStreak:nS})},afterAd:()=>{nU(!1)}}))}}(0,b.A)({lat:nB.lat,lon:nB.lng}).then(n=>{e(n)}).catch(n=>{console.error(n),e("Unknown")})}}(0,i.useEffect)(()=>{nR&&nc(!1)},[nR]),(0,i.useEffect)(()=>{let e=setInterval(()=>{var e;(null==nb?void 0:nb.inGame)&&(null==nb||null==(e=nb.gameData)?void 0:e.nextEvtTime)&&n3(Math.max(0,Math.floor((nb.gameData.nextEvtTime-Date.now()-ny)/100)/10))},100);return()=>{clearInterval(e)}},[nb,ny]),(0,i.useEffect)(()=>{tl([]),window.location.search.includes("learn=true")&&fetch(window.cConfig.apiUrl+"/api/clues/getClue"+(nE?"?lat=".concat(nE.lat,"&lng=").concat(nE.long):"")).then(e=>e.json()).then(e=>{if(e.error)return void console.error(e.error);0===e.length||e.message||(tc(!0),tl(e))})},[nE]),(0,i.useEffect)(()=>{if(null==nh?void 0:nh.nextRoundTime){let e=setInterval(()=>{let e=Math.max(0,Math.floor((nh.nextRoundTime-Date.now())/100)/10);n4(e),0===e&&(ng(e=>({...e,nextRoundTime:Date.now()+(window.location.search.includes("crazygames")?6e4:2e4)})),to([nF("onboardingTimeEnd")]),tt(!0))},100);return()=>{clearInterval(e)}}},[null==nh?void 0:nh.nextRoundTime]),(0,i.useEffect)(()=>{null!=nb&&nb.inGame||(nE?n0(Date.now()):nD(!0))},[nE,nb]),(0,i.useEffect)(()=>{try{W.setItem("countryStreak",nS)}catch(e){console.log("error setting countryStreak in localstorage")}},[nS]),(0,i.useEffect)(()=>{},[null==nh?void 0:nh.round]),(0,i.useEffect)(()=>{function e(e){if("INPUT"!==e.target.tagName&&"TEXTAREA"!==e.target.tagName&&!e.target.isContentEditable&&!ti&&(null==nh||!nh.completed)){if((null==no?void 0:no.done)&&" "===e.key)return void nq();nB&&" "===e.key&&!nR?tm():nR&&" "===e.key&&nq()}}return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}},[nB,nR,nh,ti,no]),(0,i.useEffect)(()=>{!nC&&nE&&nJ>600&&!nV?na(!0):na(!1)},[nC,nE,nJ]),(0,i.useEffect)(()=>{nG(),no&&ni({round:1,totalRounds:5,locations:[]})},[null==nM?void 0:nM.location]);let th=!(nC||nR||!nb||(null==nb||null==(o=nb.gameData)?void 0:o.state)==="getready"&&(null==nb||null==(s=nb.gameData)?void 0:s.curRound)===1||(null==nb||null==(r=nb.gameData)?void 0:r.state)==="end"),tg=!(nR||!nh);return(0,a.jsxs)("div",{className:"gameUI",children:[!nh&&!nl&&!nn&&!(null==nN||null==(c=nN.token)?void 0:c.supporter)&&!(null==no?void 0:no.done)&&!(null==nh?void 0:nh.completed)&&(0,a.jsx)("div",{className:"topAdFixed ".concat(th||tg||no?"moreDown":""),children:(0,a.jsx)(O,{unit:"worldguessr_gameui_ad",inCrazyGames:nl,showAdvertisementText:!1,screenH:nK,types:[[728,90]],centerOnOverflow:600,screenW:Math.max(400,nJ-450),vertThresh:.3})}),(null==nb||null==(u=nb.gameData)?void 0:u.duel)&&(null==nb||null==(p=nb.gameData)?void 0:p.state)!=="end"&&(0,a.jsxs)("div",{className:"hbparent ".concat(tu?"hb-parent":""),children:[(0,a.jsxs)("div",{className:"".concat(tu?"hb-bars":""),children:[(0,a.jsx)("div",{style:{zIndex:1001,position:"fixed",top:0,left:0,pointerEvents:"none"},className:nb&&tu?"hb-start1":"",children:(0,a.jsx)(U,{health:null==nb||null==(h=nb.gameData)||null==(m=h.players.find(e=>{var n;return e.id===(null==nb||null==(n=nb.gameData)?void 0:n.myId)}))?void 0:m.score,maxHealth:5e3,name:nF("you"),isStartingDuel:tu,elo:null==nb||null==(w=nb.gameData)||null==(y=w.players.find(e=>{var n;return e.id===(null==nb||null==(n=nb.gameData)?void 0:n.myId)}))?void 0:y.elo,countryCode:null==nb||null==(C=nb.gameData)||null==(k=C.players.find(e=>{var n;return e.id===(null==nb||null==(n=nb.gameData)?void 0:n.myId)}))?void 0:k.countryCode,start:tu})}),tu&&(0,a.jsx)("p",{style:{zIndex:1e3,pointerEvents:"none",color:"white",fontSize:50,padding:10,backgroundColor:"rgba(0,0,0,0.5)",display:tu?"":"none"},children:"VS"}),(0,a.jsx)("div",{style:{zIndex:1001,position:"fixed",top:0,right:0,pointerEvents:"none"},className:tu?"hb-start2":"",children:(0,a.jsx)(U,{health:null==nb||null==(E=nb.gameData)||null==(N=E.players.find(e=>{var n;return e.id!==(null==nb||null==(n=nb.gameData)?void 0:n.myId)}))?void 0:N.score,maxHealth:5e3,isStartingDuel:tu,name:null==nb||null==(M=nb.gameData)||null==(G=M.players.find(e=>{var n;return e.id!==(null==nb||null==(n=nb.gameData)?void 0:n.myId)}))?void 0:G.username,elo:null==nb||null==(z=nb.gameData)||null==(R=z.players.find(e=>{var n;return e.id!==(null==nb||null==(n=nb.gameData)?void 0:n.myId)}))?void 0:R.elo,countryCode:null==nb||null==(H=nb.gameData)||null==(F=H.players.find(e=>{var n;return e.id!==(null==nb||null==(n=nb.gameData)?void 0:n.myId)}))?void 0:F.countryCode,start:!0,isOpponent:!0})})]}),(0,a.jsx)("p",{style:{zIndex:1e3,pointerEvents:"none",color:"white",fontSize:20,padding:10,backgroundColor:"rgba(0,0,0,0.5)",display:tu?"":"none",marginTop:"10px"},children:n5})]}),(null==nb||null==(V=nb.gameData)?void 0:V.duel)&&(null==nb||null==(Y=nb.gameData)?void 0:Y.public)&&tu&&(0,a.jsx)("div",{className:"duel-warning-container",children:(0,a.jsxs)("div",{className:"duel-warning-content",children:[(0,a.jsx)("div",{className:"warning-icon",children:"⚠️"}),(0,a.jsx)("div",{className:"warning-text",children:(0,a.jsx)("div",{className:"warning-subtitle",children:nF("duelWarningText")})})]})}),(null==no?void 0:no.done)&&(0,a.jsx)(K,{points:no.locations.reduce((e,n)=>e+n.points,0),maxPoints:25e3,history:no.locations,button1Text:"\uD83C\uDFAE "+nF("playAgain"),button1Press:()=>{window.crazyMidgame(()=>nq())},session:nN}),(!nx||nx&&nR)&&(!nb||nb.inGame&&["guess","getready"].includes(null==(Z=nb.gameData)?void 0:Z.state))&&(null==nb||!nb.inGame||(null==nb||null==(Q=nb.gameData)?void 0:Q.curRound)!==1||(null==nb||null==(X=nb.gameData)?void 0:X.state)==="guess")&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{id:"miniMapArea",onMouseEnter:()=>{nZ(!0)},onMouseLeave:()=>{n9||nZ(!1)},className:"miniMap ".concat(nY?"mapExpanded":""," ").concat((nt||nR)&&!(null==no?void 0:no.done)&&!(null==nh?void 0:nh.completed)&&(!nd&&nR||!nR)?"shown":""," ").concat(nR?"answerShown":"answerNotShown"," ").concat(nQ&&nY?"fullscreen":""),children:[!nR&&(0,a.jsxs)("div",{className:"mapCornerBtns desktop",style:{visibility:nY?"visible":"hidden"},children:[(0,a.jsx)("button",{className:"cornerBtn",onClick:()=>{nX(!nQ),nQ||nZ(!0)},children:nQ?(0,a.jsx)(d.ENo,{}):(0,a.jsx)(d._AH,{})}),"\xa0",(0,a.jsx)("button",{className:"cornerBtn",onClick:()=>{n8(!n9)},children:(0,a.jsx)(d.LBY,{style:{transform:n9?"rotate(90deg)":"rotate(0deg)",transition:"transform 0.2s"}})})]}),(0,a.jsx)(J,{shown:nE&&!nC,focused:nY,options:nf,ws:nv,gameOptions:nM,answerShown:nR,session:nN,showHint:nz,pinPoint:nB,setPinPoint:nP,guessed:!1,guessing:!1,location:nE,setKm:te,multiplayerState:nb}),(0,a.jsxs)("div",{className:"miniMap__btns ".concat(nR?"answerShownBtns":""),children:[(0,a.jsx)("button",{className:"miniMap__btn ".concat(!nB||(null==nb?void 0:nb.inGame)&&(null==nb||null==(ee=nb.gameData)||null==($=ee.players.find(e=>{var n;return e.id===(null==nb||null==(n=nb.gameData)?void 0:n.myId)}))?void 0:$.final)?"unavailable":""," guessBtn"),disabled:!nB||(null==nb?void 0:nb.inGame)&&(null==nb||null==(et=nb.gameData)||null==(en=et.players.find(e=>{var n;return e.id===(null==nb||null==(n=nb.gameData)?void 0:n.myId)}))?void 0:en.final),onClick:tm,children:(null==nb?void 0:nb.inGame)&&(null==nb||null==(eo=nb.gameData)||null==(ea=eo.players.find(e=>{var n;return e.id===(null==nb||null==(n=nb.gameData)?void 0:n.myId)}))?void 0:ea.final)?(null==nb||null==(er=nb.gameData)||null==(es=er.players)?void 0:es.reduce((e,n)=>n.final?e-1:e,null==nb||null==(ei=nb.gameData)?void 0:ei.players.length))>0?"".concat(nF("waitingForPlayers",{p:null==nb||null==(ec=nb.gameData)||null==(ed=ec.players)?void 0:ed.reduce((e,n)=>n.final?e-1:e,null==nb||null==(el=nb.gameData)?void 0:el.players.length)}),"..."):"".concat(nF("waiting"),"..."):nF("guess")}),!(null==nb?void 0:nb.inGame)&&(0,a.jsx)("button",{className:"miniMap__btn hintBtn ".concat(nz?"hintShown":""),onClick:tp,children:nF("hint")})]})]}),(0,a.jsxs)("div",{className:"mobile_minimap__btns ".concat(nt?"miniMapShown":""," ").concat(nR||(null==no?void 0:no.done)||(null==nh?void 0:nh.completed)?"answerShownBtns":""),children:[nt&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("button",{className:"miniMap__btn ".concat(!nB||(null==nb?void 0:nb.inGame)&&(null==nb||null==(ep=nb.gameData)||null==(eu=ep.players.find(e=>{var n;return e.id===(null==nb||null==(n=nb.gameData)?void 0:n.myId)}))?void 0:eu.final)?"unavailable":""," guessBtn"),disabled:!nB||(null==nb?void 0:nb.inGame)&&(null==nb||null==(eh=nb.gameData)||null==(em=eh.players.find(e=>{var n;return e.id===(null==nb||null==(n=nb.gameData)?void 0:n.myId)}))?void 0:em.final),onClick:tm,children:(null==nb?void 0:nb.inGame)&&(null==nb||null==(ex=nb.gameData)||null==(eg=ex.players.find(e=>{var n;return e.id===(null==nb||null==(n=nb.gameData)?void 0:n.myId)}))?void 0:eg.final)?(null==nb||null==(ev=nb.gameData)||null==(ey=ev.players)?void 0:ey.reduce((e,n)=>n.final?e-1:e,null==nb||null==(ef=nb.gameData)?void 0:ef.players.length))>0?"".concat(nF("waitingForPlayers",{p:null==nb||null==(ej=nb.gameData)||null==(ew=ej.players)?void 0:ew.reduce((e,n)=>n.final?e-1:e,null==nb||null==(eb=nb.gameData)?void 0:eb.players.length)}),"..."):"".concat(nF("waiting"),"..."):nF("guess")}),!(null==nb?void 0:nb.inGame)&&(0,a.jsx)("button",{className:"miniMap__btn hintBtn ".concat(nz?"hintShown":""),onClick:tp,children:nF("hint")})]}),!nC&&(0,a.jsx)("button",{className:"gameBtn g2_mobile_guess ".concat(nt?"mobileMiniMapExpandedToggle":""),onClick:()=>{na(!nt)},children:nt?(0,a.jsx)(d.$TP,{size:30}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(l.A4L,{size:nt?30:50})," ",nt?"":nF("guess")]})})]})]}),nx&&nm&&(0,a.jsx)(_,{countries:nm,shown:!nC&&nL&&!nR,onCountryPress:e=>{e!==nE.country&&nh?(to(["Not quite. Try again!"]),tt(!0),np(!1)):(np(!0),tm())}}),nh&&(0,a.jsx)(A,{onboarding:nh,shown:!nC&&tn,words:ta,pageDone:()=>{nW(!0),tt(!1),(null==nh?void 0:nh.round)>=2&&!window.location.search.includes("crazygames")&&ng(e=>({...e,nextRoundTime:Date.now()+2e4}))}}),(0,a.jsx)("span",{className:"timer ".concat((null==nb||null==(eS=nb.gameData)?void 0:eS.duel)&&(null==nb||null==(ek=nb.gameData)?void 0:ek.public)?"duel":""," ").concat(!th?"":"shown"," ").concat(n5<=5&&n5>0&&!nR&&!nB&&(null==nb||null==(eC=nb.gameData)?void 0:eC.state)==="guess"?"critical":""),children:(null==nb||null==(eD=nb.gameData)?void 0:eD.timePerRound)===864e5&&n5>120?nF("round",{r:null==nb||null==(eN=nb.gameData)?void 0:eN.curRound,mr:null==nb||null==(e_=nb.gameData)?void 0:e_.rounds}):nF("roundTimer",{r:null==nb||null==(eA=nb.gameData)?void 0:eA.curRound,mr:null==nb||null==(eE=nb.gameData)?void 0:eE.rounds,t:n5.toFixed(1)})}),(0,a.jsxs)("span",{className:"timer ".concat(!tg?"":"shown"," ").concat(n6<=5&&n6>0&&!nR&&!nB&&nh?"critical":""),children:[n6?nF("roundTimer",{r:null==nh?void 0:nh.round,mr:5,t:n6.toFixed(1)}):nF("round",{r:null==nh?void 0:nh.round,mr:5})," - ",(0,a.jsx)(L,{value:(null==nh?void 0:nh.points)||0,showIncrement:!1})," ",nF("points")]}),no&&!(null==no?void 0:no.done)&&(0,a.jsxs)("span",{className:"timer shown",children:[nF("round",{r:no.round,mr:no.totalRounds})," - ",(0,a.jsx)(L,{value:no.locations.reduce((e,n)=>e+n.points,0),showIncrement:!1})," ",nF("points")]}),nb&&nb.inGame&&!(null==nb||null==(eG=nb.gameData)?void 0:eG.duel)&&(null==nb||null==(eM=nb.gameData)?void 0:eM.state)==="getready"&&(null==nb||null==(eT=nb.gameData)?void 0:eT.curRound)===1&&(0,a.jsx)(j,{text:nF("gameStartingIn",{t:n5}),shown:!0}),nb&&nb.inGame&&!(null==nb||null==(eR=nb.gameData)?void 0:eR.duel)&&(null==nb||null==(eI=nb.gameData)?void 0:eI.state)==="getready"&&n5>0&&n5<5&&(null==nb||null==(eB=nb.gameData)?void 0:eB.curRound)!==1&&(null==nb||null==(eP=nb.gameData)?void 0:eP.curRound)<=(null==nb||null==(ez=nb.gameData)?void 0:ez.rounds)&&(()=>{var e;let n=(null==nb||null==(e=nb.gameData)?void 0:e.nextEvtTime)?Math.max(0,Math.floor((nb.gameData.nextEvtTime-Date.now()-ny)/100)/10):0;return n>0&&n<5})()&&(0,a.jsx)(D,{multiplayerState:nb,playAgain:()=>{nw(!0,"unranked")},backBtn:()=>{nw()}}),nb&&nb.inGame&&!(null==nb||null==(eO=nb.gameData)?void 0:eO.duel)&&(null==nb||null==(eL=nb.gameData)?void 0:eL.state)==="end"&&(0,a.jsx)(K,{history:(null==nb||null==(eW=nb.gameData)?void 0:eW.history)||[],duel:!1,multiplayerState:nb,gameId:null==nb||null==(eF=nb.gameData)?void 0:eF.code,points:(null==nb||null==(eq=nb.gameData)||null==(eU=eq.players)||null==(eH=eU.find(e=>{var n;return e.id===(null==nb||null==(n=nb.gameData)?void 0:n.myId)}))?void 0:eH.score)||0,maxPoints:(null==nb||null==(eJ=nb.gameData)?void 0:eJ.rounds)*5e3,button1Text:(null==nb||null==(eK=nb.gameData)?void 0:eK.public)?nF("playAgain"):null,button1Press:(null==nb||null==(eV=nb.gameData)?void 0:eV.public)?()=>nw(!0,"unranked"):null,button2Text:(null==nb||null==(eY=nb.gameData)?void 0:eY.public)||(null==nb||null==(eZ=nb.gameData)?void 0:eZ.host)?nF("back"):null,button2Press:(null==nb||null==(eQ=nb.gameData)?void 0:eQ.public)||(null==nb||null==(eX=nb.gameData)?void 0:eX.host)?()=>nw():null,session:nN,options:nf}),nb&&nb.inGame&&(null==nb||null==(e$=nb.gameData)?void 0:e$.duel)&&(null==nb||null==(e0=nb.gameData)?void 0:e0.state)==="end"&&(0,a.jsx)(K,{history:(null==nb||null==(e1=nb.gameData)?void 0:e1.history)||[],duel:!0,data:null==nb||null==(e2=nb.gameData)?void 0:e2.duelEnd,multiplayerState:nb,gameId:null==nb||null==(e5=nb.gameData)?void 0:e5.code,button1Text:(null==nb||null==(e3=nb.gameData)?void 0:e3.public)?nF("playAgain"):null,button1Press:(null==nb||null==(e6=nb.gameData)?void 0:e6.public)?()=>nw(!0,"ranked"):null,button2Text:(null==nb||null==(e4=nb.gameData)?void 0:e4.public)||(null==nb||null==(e9=nb.gameData)?void 0:e9.host)?nF("back"):null,button2Press:(null==nb||null==(e8=nb.gameData)?void 0:e8.public)||(null==nb||null==(e7=nb.gameData)?void 0:e7.host)?()=>nw():null,session:nN,options:nf}),(0,a.jsx)(I,{lat:null==nE?void 0:nE.lat,long:null==nE?void 0:nE.long,shown:ti,onClose:()=>{ts(!1)},session:nN}),(0,a.jsxs)("div",{className:"endCards",children:[nR&&td&&(0,a.jsx)(T,{session:nN,explanations:tr,close:()=>{tc(!1)}}),(0,a.jsx)(B,{shown:nH,close:()=>{nU(!1)},lostCountryStreak:n1,playAd:()=>{window.showRewardedAdFn()},setLostCountryStreak:n2,countryStreak:nS,setCountryStreak:nk}),(0,a.jsx)(v,{countryStreaksEnabled:(null==nM?void 0:nM.location)==="all",singlePlayerRound:no,onboarding:nh,countryGuesser:nx,countryGuesserCorrect:nu,options:nf,countryStreak:nS,lostCountryStreak:n1,usedHint:nz,session:nN,guessed:nR,latLong:nE,pinPoint:nB,fullReset:()=>{nq()},km:n7,setExplanationModalShown:ts,multiplayerState:nb,toggleMap:()=>{nc(!nd)},panoShown:nd}),(n5<=5&&n5>0&&th&&!nR&&!nB&&(null==nb?void 0:nb.inGame)&&(null==nb||null==(ne=nb.gameData)?void 0:ne.state)==="guess"||n6<=5&&n6>0&&tg&&!nR&&!nB&&nh)&&(0,a.jsx)("div",{className:"screen-critical-warning"})]})]})}var Y=t(9701);t(9099);let Z={open:!1,progress:!1,name:"",description_short:"",description_long:"",data:"",edit:!1,mapId:""};function Q(e){let{gameOptions:n,mapModalClosing:t,setGameOptions:o,shown:s,onClose:r,session:l,text:d,customChooseMapCallback:c,chosenMap:u,showAllCountriesOption:p,showOptions:m}=e,[h,g]=(0,i.useState)(Z),[x,f]=(0,i.useState)(""),[y,v]=(0,i.useState)([]);return s?(0,a.jsxs)(R.a,{classNames:{modal:"g2_modal"},styles:{modal:X.modalShell,overlay:X.overlayDisable},open:s,onClose:r,showCloseIcon:!1,animationDuration:0,blockScroll:!1,closeOnOverlayClick:!0,children:[(0,a.jsxs)("div",{className:"g2_nav_ui map-modal-sidebar ".concat(t?"g2_slide_out":""," desktop"),children:[(0,a.jsx)("div",{className:"g2_nav_hr desktop"}),!h.open&&(0,a.jsxs)("div",{className:"g2_nav_group map_categories",children:[(0,a.jsx)("button",{className:"g2_nav_text singleplayer comm_map_category_header",onClick:()=>{var e;return null==(e=document.getElementById("countryMaps_map_view_section"))?void 0:e.scrollIntoView({behavior:"smooth"})},children:d("countryMaps")}),(0,a.jsx)("button",{className:"g2_nav_text singleplayer comm_map_category_header",onClick:()=>{var e;return null==(e=document.getElementById("spotlight_map_view_section"))?void 0:e.scrollIntoView({behavior:"smooth"})},children:d("spotlight")}),(0,a.jsx)("button",{className:"g2_nav_text singleplayer comm_map_category_header",onClick:()=>{var e;return null==(e=document.getElementById("popular_map_view_section"))?void 0:e.scrollIntoView({behavior:"smooth"})},children:d("popular")}),(0,a.jsx)("button",{className:"g2_nav_text singleplayer comm_map_category_header",onClick:()=>{var e;return null==(e=document.getElementById("recent_map_view_section"))?void 0:e.scrollIntoView({behavior:"smooth"})},children:d("recent")})]}),(0,a.jsx)("div",{className:"g2_nav_hr"}),!h.open&&(0,a.jsx)("button",{className:"g2_nav_text singleplayer red",onClick:r,children:d("back")})]}),(0,a.jsx)("div",{className:"g2_content map-modal-content",style:X.scrollWrap,children:(0,a.jsx)("div",{style:X.modalContent,children:(0,a.jsx)(Y.A,{mapModalClosing:t,showOptions:m,showAllCountriesOption:p,chosenMap:u,close:r,session:l,text:d,onMapClick:e=>{c?c(e):window.location.href="/map/".concat(e.slug).concat(window.location.search.includes("crazygames")?"&crazygames=true":"")},gameOptions:n,setGameOptions:o,makeMap:h,setMakeMap:g,initMakeMap:Z,searchTerm:x,setSearchTerm:f,searchResults:y,setSearchResults:v})})})]}):null}let X={modalShell:{background:'linear-gradient(0deg, rgba(0, 0, 0, 0.8) 0%, rgba(0, 30, 15, 0.6) 100%), url("/street2.webp")',backgroundSize:"cover",backgroundPosition:"center",boxShadow:"none",padding:0,margin:0,width:"100%",maxWidth:"100%",height:"100vh",maxHeight:"100vh",display:"flex",alignItems:"stretch",justifyContent:"stretch",overflow:"hidden",position:"relative"},scrollWrap:{height:"100%",width:"100%",overflowY:"scroll",overflowX:"hidden",WebkitOverflowScrolling:"touch",touchAction:"pan-y pinch-zoom",overscrollBehavior:"contain",scrollbarGutter:"stable",padding:"20px",position:"relative",zIndex:1130,flex:"1 1 auto",minHeight:0,minWidth:0,boxSizing:"border-box",transform:"translateZ(0)",willChange:"scroll-position"},modalContent:{width:"100%",overflowY:"visible",overflowX:"hidden",paddingBottom:"40px",minHeight:"calc(100vh + 1px)",zIndex:1130}};var $=t(4250);function ee(e){var n,t,o,s,r,d,c,u,p,m;let{onClose:h,ws:g,setWs:x,multiplayerError:y,multiplayerState:v,setMultiplayerState:b,session:w,handleAction:j,gameOptions:S,setGameOptions:k,shown:C,setSelectCountryModalShown:D,selectCountryModalShown:N}=e,{t:_}=(0,f.B)("common"),[A,E]=(0,i.useState)((null==v||null==(t=v.createOptions)||null==(n=t.rounds)?void 0:n.toString())||"5"),[G,M]=(0,i.useState)((null==v||null==(s=v.createOptions)||null==(o=s.timePerRound)?void 0:o.toString())||"30");(0,i.useEffect)(()=>{if(C){var e,n,t;E((null==v||null==(n=v.createOptions)||null==(e=n.rounds)?void 0:e.toString())||"5");let a=null==v||null==(t=v.createOptions)?void 0:t.timePerRound;86400!==a&&M((null==a?void 0:a.toString())||"30")}},[C,null==v||null==(r=v.createOptions)?void 0:r.rounds,null==v||null==(d=v.createOptions)?void 0:d.timePerRound]);let T=(null==v||null==(c=v.createOptions)?void 0:c.timePerRound)===86400,I=e=>{let n=Math.max(1,Math.min(20,parseInt(e)||1));E(n.toString()),b(e=>({...e,createOptions:{...e.createOptions,rounds:n}}))},B=e=>{let n=Math.max(10,Math.min(300,parseInt(e)||10));M(n.toString()),b(e=>({...e,createOptions:{...e.createOptions,timePerRound:n}}))},P=e=>{I((parseInt(A)||5)+e)},z=e=>{B((parseInt(G)||30)+e)};return N?(0,a.jsx)(Q,{showAllCountriesOption:!0,shown:N,onClose:()=>D(!1),session:w,text:_,customChooseMapCallback:e=>{b(n=>({...n,createOptions:{...n.createOptions,location:e.countryMap||e.slug,displayLocation:e.name,nm:null==S?void 0:S.nm,npz:null==S?void 0:S.npz,showRoadName:null==S?void 0:S.showRoadName}})),D(!1)},chosenMap:null==v||null==(m=v.createOptions)?void 0:m.location,showOptions:!0,gameOptions:S,setGameOptions:k}):(0,a.jsxs)(R.A,{onClose:h,open:C,center:!0,showCloseIcon:!1,classNames:{modal:"party-modal-container"},styles:{modal:{background:"transparent",padding:0,boxShadow:"none"},overlay:{background:"rgba(0, 0, 0, 0.75)",backdropFilter:"blur(4px)"}},children:[(0,a.jsxs)("div",{className:"jsx-3c322c936d19f159 party-modal",children:[(0,a.jsx)("div",{className:"jsx-3c322c936d19f159 party-modal__header",children:(0,a.jsx)("h2",{className:"jsx-3c322c936d19f159 party-modal__title",children:_("editOptions")})}),(0,a.jsxs)("div",{className:"jsx-3c322c936d19f159 party-modal__content",children:[(0,a.jsxs)("div",{className:"jsx-3c322c936d19f159 party-modal__setting",children:[(0,a.jsx)("label",{className:"jsx-3c322c936d19f159 party-modal__label",children:_("numOfRounds")}),(0,a.jsxs)("div",{className:"jsx-3c322c936d19f159 party-modal__stepper",children:[(0,a.jsx)("button",{onClick:()=>P(-1),disabled:1>=parseInt(A),"aria-label":"Decrease rounds",className:"jsx-3c322c936d19f159 party-modal__stepper-btn",children:(0,a.jsx)(l.iu5,{})}),(0,a.jsx)("input",{type:"text",inputMode:"numeric",pattern:"[0-9]*",value:A,onChange:e=>E(e.target.value.replace(/[^0-9]/g,"")),onBlur:e=>I(e.target.value),onKeyDown:e=>"Enter"===e.key&&I(e.target.value),className:"jsx-3c322c936d19f159 party-modal__stepper-input"}),(0,a.jsx)("button",{onClick:()=>P(1),disabled:parseInt(A)>=20,"aria-label":"Increase rounds",className:"jsx-3c322c936d19f159 party-modal__stepper-btn",children:(0,a.jsx)(l.OiG,{})})]}),(0,a.jsx)("span",{className:"jsx-3c322c936d19f159 party-modal__hint",children:"1-20 rounds"})]}),(0,a.jsxs)("div",{className:"jsx-3c322c936d19f159 party-modal__setting party-modal__setting--toggle",children:[(0,a.jsx)("label",{className:"jsx-3c322c936d19f159 party-modal__label",children:_("disableTimer")}),(0,a.jsx)("button",{onClick:()=>{if(T){let e=Math.max(10,Math.min(300,parseInt(G)||30));b(n=>({...n,createOptions:{...n.createOptions,timePerRound:e}}))}else b(e=>({...e,createOptions:{...e.createOptions,timePerRound:86400}}))},"aria-pressed":T,className:"jsx-3c322c936d19f159 "+"party-modal__toggle ".concat(T?"party-modal__toggle--active":""),children:(0,a.jsx)("span",{className:"jsx-3c322c936d19f159 party-modal__toggle-track",children:(0,a.jsx)("span",{className:"jsx-3c322c936d19f159 party-modal__toggle-thumb"})})})]}),!T&&(0,a.jsxs)("div",{className:"jsx-3c322c936d19f159 party-modal__setting",children:[(0,a.jsx)("label",{className:"jsx-3c322c936d19f159 party-modal__label",children:_("timePerRoundSecs")}),(0,a.jsxs)("div",{className:"jsx-3c322c936d19f159 party-modal__stepper",children:[(0,a.jsx)("button",{onClick:()=>z(-10),disabled:10>=parseInt(G),"aria-label":"Decrease time",className:"jsx-3c322c936d19f159 party-modal__stepper-btn",children:(0,a.jsx)(l.iu5,{})}),(0,a.jsx)("input",{type:"text",inputMode:"numeric",pattern:"[0-9]*",value:G,onChange:e=>M(e.target.value.replace(/[^0-9]/g,"")),onBlur:e=>B(e.target.value),onKeyDown:e=>"Enter"===e.key&&B(e.target.value),className:"jsx-3c322c936d19f159 party-modal__stepper-input"}),(0,a.jsx)("button",{onClick:()=>z(10),disabled:parseInt(G)>=300,"aria-label":"Increase time",className:"jsx-3c322c936d19f159 party-modal__stepper-btn",children:(0,a.jsx)(l.OiG,{})})]}),(0,a.jsx)("span",{className:"jsx-3c322c936d19f159 party-modal__hint",children:"10-300 seconds"})]}),(0,a.jsx)("div",{className:"jsx-3c322c936d19f159 party-modal__divider"}),(0,a.jsxs)("div",{className:"jsx-3c322c936d19f159 party-modal__setting party-modal__setting--toggle",children:[(0,a.jsx)("label",{className:"jsx-3c322c936d19f159 party-modal__label",children:_("nmpz")}),(0,a.jsx)("button",{onClick:()=>{let e=!(S.nm&&S.npz);k({...S,nm:e,npz:e})},"aria-pressed":S.nm&&S.npz,className:"jsx-3c322c936d19f159 "+"party-modal__toggle ".concat(S.nm&&S.npz?"party-modal__toggle--active":""),children:(0,a.jsx)("span",{className:"jsx-3c322c936d19f159 party-modal__toggle-track",children:(0,a.jsx)("span",{className:"jsx-3c322c936d19f159 party-modal__toggle-thumb"})})})]}),(0,a.jsx)("div",{className:"jsx-3c322c936d19f159 party-modal__divider"}),(0,a.jsxs)("div",{className:"jsx-3c322c936d19f159 party-modal__setting party-modal__setting--map",children:[(0,a.jsxs)("div",{className:"jsx-3c322c936d19f159 party-modal__map-info",children:[(0,a.jsx)(l.A4L,{className:"party-modal__map-icon"}),(0,a.jsxs)("div",{className:"jsx-3c322c936d19f159 party-modal__map-details",children:[(0,a.jsx)("span",{className:"jsx-3c322c936d19f159 party-modal__map-label",children:_("map")}),(0,a.jsx)("span",{className:"jsx-3c322c936d19f159 party-modal__map-name",children:(null==v||null==(u=v.createOptions)?void 0:u.displayLocation)||(null==v||null==(p=v.createOptions)?void 0:p.location)||_("allCountries")})]})]}),(0,a.jsx)("button",{onClick:()=>D(!0),className:"jsx-3c322c936d19f159 party-modal__change-map-btn",children:_("change")})]})]}),(0,a.jsx)("div",{className:"jsx-3c322c936d19f159 party-modal__footer",children:(0,a.jsxs)("button",{onClick:()=>{let e={...v.createOptions,nm:S.nm,npz:S.npz,showRoadName:S.showRoadName};b(n=>({...n,createOptions:e})),j("setPrivateGameOptions",e),h()},className:"jsx-3c322c936d19f159 party-modal__save-btn",children:[(0,a.jsx)(l.CMH,{style:{marginRight:"8px"}}),_("save")]})})]}),(0,a.jsx)($,{id:"477ba1a95643acbd",children:".party-modal-container{max-width:480px!important;width:94vw!important}"}),(0,a.jsx)($,{id:"eaff8bb37b6e1209",children:".party-modal.jsx-3c322c936d19f159{background:linear-gradient(165deg,#1a2a1a 0%,#0d1a0d 100%);border-radius:20px;border:1px solid rgba(76,175,80,.3);box-shadow:0 25px 50px rgba(0,0,0,.5),0 0 0 1px rgba(255,255,255,.05),inset 0 1px 0 rgba(255,255,255,.1);overflow:hidden;width:100%;max-width:480px}.party-modal__header.jsx-3c322c936d19f159{display:flex;align-items:center;justify-content:center;padding:20px 24px;border-bottom:1px solid rgba(255,255,255,.08);background:rgba(0,0,0,.2)}.party-modal__title.jsx-3c322c936d19f159{margin:0;font-size:1.25rem;font-weight:600;color:#fff;letter-spacing:.02em}.party-modal__content.jsx-3c322c936d19f159{padding:20px 24px;display:flex;flex-direction:column;gap:16px}.party-modal__setting.jsx-3c322c936d19f159{display:flex;flex-direction:column;gap:10px}.party-modal__setting--toggle.jsx-3c322c936d19f159{flex-direction:row;align-items:center;justify-content:space-between}.party-modal__setting--map.jsx-3c322c936d19f159{flex-direction:row;align-items:center;justify-content:space-between;padding:12px 16px;background:rgba(255,255,255,.03);border-radius:12px;border:1px solid rgba(255,255,255,.06)}.party-modal__label.jsx-3c322c936d19f159{font-size:.9rem;font-weight:500;color:rgba(255,255,255,.85)}.party-modal__stepper.jsx-3c322c936d19f159{display:flex;align-items:center;gap:0;background:rgba(0,0,0,.3);border-radius:12px;border:1px solid rgba(255,255,255,.1);overflow:hidden}.party-modal__stepper-btn.jsx-3c322c936d19f159{display:flex;align-items:center;justify-content:center;width:48px;height:48px;border:none;background:transparent;color:rgba(255,255,255,.7);cursor:pointer;transition:all.2s ease;font-size:.9rem}.party-modal__stepper-btn.jsx-3c322c936d19f159:hover:not(:disabled){background:rgba(76,175,80,.2);color:#4caf50}.party-modal__stepper-btn.jsx-3c322c936d19f159:disabled{opacity:.3;cursor:not-allowed}.party-modal__stepper-input.jsx-3c322c936d19f159{width:70px;height:48px;border:none;background:transparent;color:#fff;font-size:1.1rem;font-weight:600;text-align:center;outline:none;-moz-appearance:textfield}.party-modal__stepper-input.jsx-3c322c936d19f159::-webkit-outer-spin-button,.party-modal__stepper-input.jsx-3c322c936d19f159::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}.party-modal__stepper-input.jsx-3c322c936d19f159:focus{background:rgba(76,175,80,.1)}.party-modal__hint.jsx-3c322c936d19f159{font-size:.75rem;color:rgba(255,255,255,.4)}.party-modal__toggle.jsx-3c322c936d19f159{position:relative;width:52px;height:28px;padding:0;border:none;background:transparent;cursor:pointer}.party-modal__toggle-track.jsx-3c322c936d19f159{display:block;width:100%;height:100%;background:rgba(255,255,255,.15);border-radius:14px;transition:background.25s ease}.party-modal__toggle--active.jsx-3c322c936d19f159 .party-modal__toggle-track.jsx-3c322c936d19f159{background:#4caf50}.party-modal__toggle-thumb.jsx-3c322c936d19f159{position:absolute;top:3px;left:3px;width:22px;height:22px;background:#fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.3);transition:transform.25s ease}.party-modal__toggle--active.jsx-3c322c936d19f159 .party-modal__toggle-thumb.jsx-3c322c936d19f159{transform:translatex(24px)}.party-modal__divider.jsx-3c322c936d19f159{height:1px;background:rgba(255,255,255,.08);margin:4px 0}.party-modal__map-info.jsx-3c322c936d19f159{display:flex;align-items:center;gap:12px;min-width:0;flex:1}.party-modal__map-icon.jsx-3c322c936d19f159{font-size:1.25rem;color:#4caf50;flex-shrink:0}.party-modal__map-details.jsx-3c322c936d19f159{display:flex;flex-direction:column;min-width:0}.party-modal__map-label.jsx-3c322c936d19f159{font-size:.75rem;color:rgba(255,255,255,.5);text-transform:uppercase;letter-spacing:.05em}.party-modal__map-name.jsx-3c322c936d19f159{font-size:.95rem;font-weight:500;color:#fff;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.party-modal__change-map-btn.jsx-3c322c936d19f159{padding:8px 16px;border:1px solid rgba(76,175,80,.5);border-radius:8px;background:transparent;color:#4caf50;font-size:.85rem;font-weight:500;cursor:pointer;transition:all.2s ease;flex-shrink:0}.party-modal__change-map-btn.jsx-3c322c936d19f159:hover{background:rgba(76,175,80,.15);border-color:#4caf50}.party-modal__footer.jsx-3c322c936d19f159{padding:16px 24px 20px;border-top:1px solid rgba(255,255,255,.08);background:rgba(0,0,0,.2)}.party-modal__save-btn.jsx-3c322c936d19f159{width:100%;display:flex;align-items:center;justify-content:center;padding:14px 24px;border:none;border-radius:12px;background:linear-gradient(135deg,#4caf50 0%,#388e3c 100%);color:#fff;font-size:1rem;font-weight:600;cursor:pointer;transition:all.2s ease;box-shadow:0 4px 12px rgba(76,175,80,.3)}.party-modal__save-btn.jsx-3c322c936d19f159:hover{background:linear-gradient(135deg,#5cbf60 0%,#43a047 100%);box-shadow:0 6px 16px rgba(76,175,80,.4);transform:translatey(-1px)}.party-modal__save-btn.jsx-3c322c936d19f159:active{transform:translatey(0)}@media(max-width:480px){.party-modal__header.jsx-3c322c936d19f159{padding:16px 18px}.party-modal__title.jsx-3c322c936d19f159{font-size:1.1rem}.party-modal__content.jsx-3c322c936d19f159{padding:16px 18px;gap:14px}.party-modal__stepper-btn.jsx-3c322c936d19f159{width:44px;height:44px}.party-modal__stepper-input.jsx-3c322c936d19f159{width:60px;height:44px}.party-modal__footer.jsx-3c322c936d19f159{padding:14px 18px 18px}.party-modal__save-btn.jsx-3c322c936d19f159{padding:12px 20px}}"})]})}function en(e){var n,t,o,s,r,l,d,c,u,p;let{ws:m,setWs:h,multiplayerError:g,multiplayerState:x,setMultiplayerState:y,session:v,handleAction:b,partyModalShown:w,setPartyModalShown:S,selectCountryModalShown:k,setSelectCountryModalShown:C}=e,{t:N}=(0,f.B)("common"),[_,A]=(0,i.useState)({showRoadName:!0,nm:!1,npz:!1});return((0,i.useEffect)(()=>{y(e=>({...e,createOptions:{...e.createOptions,..._}}))},[_]),g||!((null==x?void 0:x.inGame)||(null==x?void 0:x.enteringGameCode)||(null==x?void 0:x.gameQueued)||(null==x?void 0:x.nextGameQueued)))?(0,a.jsx)("div",{className:"multiplayerHome",children:(0,a.jsx)(j,{position:"auto",text:N("connectionLost"),shown:!0,hideCompass:!0})}):(0,a.jsxs)("div",{className:"multiplayerHome g2_slide_in ".concat(["waiting"].includes(null==x||null==(n=x.gameData)?void 0:n.state)?"":"inGame"),children:[x.connected&&!x.inGame&&!x.gameQueued&&x.enteringGameCode&&(0,a.jsx)("div",{className:"join-party-container",children:(0,a.jsxs)("div",{className:"join-party-card",children:[(0,a.jsx)("h2",{className:"join-party-title",children:N("joinGame")}),(0,a.jsxs)("div",{className:"join-party-form",children:[(0,a.jsxs)("div",{className:"join-party-input-group",children:[(0,a.jsx)("input",{type:"text",className:"join-party-input",placeholder:N("gameCode"),value:x.joinOptions.gameCode||"",maxLength:6,onChange:e=>y(n=>({...n,joinOptions:{...n.joinOptions,gameCode:e.target.value.replace(/\D/g,"")}}))}),(0,a.jsx)("button",{className:"join-party-button",disabled:(null==x||null==(o=x.joinOptions)||null==(t=o.gameCode)?void 0:t.length)!==6||(null==x||null==(s=x.joinOptions)?void 0:s.progress),onClick:()=>{var e;return b("joinPrivateGame",null==x||null==(e=x.joinOptions)?void 0:e.gameCode)},children:(null==x||null==(r=x.joinOptions)?void 0:r.progress)?"...":N("go")})]}),(null==x||null==(l=x.joinOptions)?void 0:l.error)&&(0,a.jsx)("div",{className:"join-party-error",children:x.joinOptions.error})]})]})}),(0,a.jsx)(j,{text:N("findingGame"),shown:x.gameQueued,position:"auto",subText:(null==x?void 0:x.publicDuelRange)?"".concat(N("eloRange"),": ").concat(null==x?void 0:x.publicDuelRange[0]," - ").concat(null==x?void 0:x.publicDuelRange[1]):void 0}),(0,a.jsx)(j,{position:"auto",text:"".concat(N("waiting"),"..."),shown:x.inGame&&(null==(d=x.gameData)?void 0:d.state)==="waiting"&&(null==(c=x.gameData)?void 0:c.public)}),x.inGame&&(null==(u=x.gameData)?void 0:u.state)==="waiting"&&!(null==(p=x.gameData)?void 0:p.public)&&(0,a.jsx)(D,{multiplayerState:x,startGameHost:()=>b("startGameHost"),onEditClick:()=>S(!0)}),(0,a.jsx)(ee,{selectCountryModalShown:k,setSelectCountryModalShown:C,ws:m,setWs:h,multiplayerError:g,multiplayerState:x,setMultiplayerState:y,session:v,handleAction:b,gameOptions:_,setGameOptions:A,onClose:()=>S(!1),shown:w})]})}var et=t(62),ea=t(9262),eo=t(1771),ei=t(7648);function es(e){var n,t,o,s,r,l,d,c,u,p,m,h,g,x,y;let{session:v}=e,{t:b}=(0,f.B)("common"),[w,j]=(0,i.useState)(!0),[S,k]=(0,i.useState)(null),[C,D]=(0,i.useState)(null),N=null==v||null==(n=v.token)?void 0:n.banned,_=null==v||null==(t=v.token)?void 0:t.banType,A=null==v||null==(o=v.token)?void 0:o.banExpiresAt,E=null==v||null==(s=v.token)?void 0:s.banPublicNote,G=null==v||null==(r=v.token)?void 0:r.pendingNameChange,M=null==v||null==(l=v.token)?void 0:l.pendingNameChangePublicNote,[T,R]=(0,i.useState)(N||G?"history":"refunds");(0,i.useEffect)(()=>{(async()=>{var e;if(null==v||null==(e=v.token)?void 0:e.secret)try{j(!0);let e=await fetch(window.cConfig.apiUrl+"/api/userModerationData",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({secret:v.token.secret})});if(!e.ok)throw Error("Failed to fetch moderation data");let n=await e.json();D(n)}catch(e){k(e.message)}finally{j(!1)}})()},[null==v||null==(d=v.token)?void 0:d.secret]);let I={display:"flex",flexDirection:"column",gap:"clamp(15px, 4vw, 30px)",color:"#fff",fontFamily:"Arial, sans-serif"},B={background:"rgba(255, 255, 255, 0.1)",borderRadius:"clamp(10px, 3vw, 20px)",padding:"clamp(15px, 4vw, 30px)",backdropFilter:"blur(20px)",border:"1px solid rgba(255, 255, 255, 0.1)",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.3)"},P={fontSize:"clamp(20px, 4vw, 32px)",fontWeight:600,marginBottom:"clamp(10px, 3vw, 20px)",color:"white",textAlign:"center"},z=e=>({padding:"clamp(8px, 2vw, 12px) clamp(16px, 4vw, 24px)",borderRadius:"clamp(8px, 2vw, 12px)",background:e?"rgba(255, 215, 0, 0.2)":"rgba(255, 255, 255, 0.05)",border:e?"2px solid #ffd700":"1px solid rgba(255, 255, 255, 0.1)",color:e?"#ffd700":"#b0b0b0",cursor:"pointer",fontWeight:e?"bold":"normal",fontSize:"clamp(12px, 3vw, 16px)",transition:"all 0.3s ease"}),O={background:"rgba(255, 255, 255, 0.05)",borderRadius:"clamp(8px, 2vw, 12px)",padding:"clamp(12px, 3vw, 18px)",marginBottom:"clamp(8px, 2vw, 12px)",border:"1px solid rgba(255, 255, 255, 0.1)"},L={textAlign:"center",color:"#888",padding:"clamp(20px, 5vw, 40px)",fontSize:"clamp(14px, 3vw, 16px)"},W={background:"rgba(255, 255, 255, 0.05)",borderRadius:"clamp(8px, 2vw, 12px)",padding:"clamp(10px, 2.5vw, 15px)",textAlign:"center",border:"1px solid rgba(255, 255, 255, 0.1)"},F=e=>new Date(e).toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"});return w?(0,a.jsx)("div",{style:I,children:(0,a.jsx)("div",{style:B,children:(0,a.jsx)("div",{style:{textAlign:"center",padding:"40px",color:"#b0b0b0"},children:b("loadingModerationData")})})}):S?(0,a.jsx)("div",{style:I,children:(0,a.jsx)("div",{style:B,children:(0,a.jsxs)("div",{style:{textAlign:"center",padding:"40px",color:"#f44336"},children:["Error: ",S]})})}):(0,a.jsxs)("div",{style:I,children:[N&&!G&&(0,a.jsxs)("div",{style:{background:"linear-gradient(135deg, rgba(244, 67, 54, 0.2) 0%, rgba(183, 28, 28, 0.3) 100%)",border:"2px solid #f44336",borderRadius:"clamp(10px, 3vw, 20px)",padding:"clamp(20px, 5vw, 35px)",marginBottom:"clamp(15px, 4vw, 25px)",textAlign:"center",boxShadow:"0 8px 32px rgba(244, 67, 54, 0.3)"},children:[(0,a.jsx)("div",{style:{fontSize:"clamp(36px, 8vw, 56px)",marginBottom:"15px"},children:"\uD83D\uDEAB"}),(0,a.jsx)("h2",{style:{fontSize:"clamp(22px, 5vw, 32px)",color:"#f44336",fontWeight:"bold",marginBottom:"15px",textTransform:"uppercase",letterSpacing:"2px"},children:"temporary"===_?b("accountTempSuspended"):b("accountSuspended")}),"temporary"===_&&A&&(0,a.jsxs)("div",{style:{background:"rgba(0,0,0,0.3)",padding:"15px 25px",borderRadius:"12px",display:"inline-block",marginBottom:"15px"},children:[(0,a.jsx)("div",{style:{color:"#b0b0b0",fontSize:"clamp(12px, 2.5vw, 14px)",marginBottom:"5px"},children:b("timeRemaining").toUpperCase()}),(0,a.jsx)("div",{style:{color:"#ffd700",fontSize:"clamp(20px, 4vw, 28px)",fontWeight:"bold"},children:(e=>{if(!e)return null;let n=new Date,t=new Date(e)-n;if(t<=0)return b("expired");let a=Math.floor(t/864e5),o=Math.floor(t%864e5/36e5),i=Math.floor(t%36e5/6e4),s=a>1?b("daysPlural"):b("daysSingular"),r=1!==o?b("hourPlural"):b("hourSingular"),l=1!==i?b("minutePlural"):b("minuteSingular");return a>0?"".concat(a," ").concat(s,", ").concat(o," ").concat(r):o>0?"".concat(o," ").concat(r,", ").concat(i," ").concat(l):"".concat(i," ").concat(l)})(A)}),(0,a.jsxs)("div",{style:{color:"#888",fontSize:"clamp(11px, 2.5vw, 13px)",marginTop:"5px"},children:[b("expires"),": ",new Date(A).toLocaleString()]})]}),E&&(0,a.jsxs)("div",{style:{marginTop:"15px",padding:"15px 20px",background:"rgba(255,255,255,0.05)",borderRadius:"10px",maxWidth:"500px",margin:"15px auto 0"},children:[(0,a.jsx)("div",{style:{color:"#b0b0b0",fontSize:"clamp(11px, 2.5vw, 13px)",marginBottom:"8px"},children:b("reason").toUpperCase()}),(0,a.jsx)("div",{style:{color:"#e0e0e0",fontSize:"clamp(14px, 3vw, 16px)",lineHeight:"1.5"},children:E})]}),(0,a.jsx)("p",{style:{color:"#b0b0b0",fontSize:"clamp(12px, 2.5vw, 14px)",marginTop:"20px",maxWidth:"450px",margin:"20px auto 0",lineHeight:"1.6"},children:"temporary"===_?b("suspensionExplanationTemp"):b("suspensionExplanationPerm")}),(0,a.jsxs)("div",{style:{marginTop:"25px",padding:"20px",background:"rgba(88, 101, 242, 0.15)",border:"1px solid rgba(88, 101, 242, 0.3)",borderRadius:"12px",maxWidth:"450px",margin:"25px auto 0"},children:[(0,a.jsxs)("p",{style:{color:"#5865F2",fontWeight:"bold",marginBottom:"10px",fontSize:"clamp(14px, 3vw, 16px)"},children:["\uD83D\uDCCB ",b("wantToAppeal")||"Want to Appeal?"]}),(0,a.jsx)("p",{style:{color:"#b0b0b0",fontSize:"clamp(12px, 2.5vw, 14px)",lineHeight:"1.6",marginBottom:"15px"},children:b("appealInstructions")||"Appeals are handled through our Discord server. Join, verify, and create a ticket in #appeal-game-ban."}),(0,a.jsx)("a",{href:"https://discord.gg/ADw47GAyS5",target:"_blank",rel:"noopener noreferrer",style:{display:"inline-block",padding:"10px 20px",background:"#5865F2",color:"white",textDecoration:"none",borderRadius:"8px",fontWeight:"bold",fontSize:"clamp(12px, 2.5vw, 14px)"},children:b("joinDiscord")||"Join Discord"})]})]}),G&&(0,a.jsxs)("div",{style:{background:"linear-gradient(135deg, rgba(255, 152, 0, 0.2) 0%, rgba(230, 81, 0, 0.3) 100%)",border:"2px solid #ff9800",borderRadius:"clamp(10px, 3vw, 20px)",padding:"clamp(20px, 5vw, 35px)",marginBottom:"clamp(15px, 4vw, 25px)",textAlign:"center",boxShadow:"0 8px 32px rgba(255, 152, 0, 0.3)"},children:[(0,a.jsx)("div",{style:{fontSize:"clamp(36px, 8vw, 56px)",marginBottom:"15px"},children:"✏️"}),(0,a.jsx)("h2",{style:{fontSize:"clamp(22px, 5vw, 32px)",color:"#ff9800",fontWeight:"bold",marginBottom:"15px"},children:b("usernameChangeRequired")}),M&&(0,a.jsxs)("div",{style:{marginBottom:"20px",padding:"15px 20px",background:"rgba(255,255,255,0.05)",borderRadius:"10px",maxWidth:"500px",margin:"0 auto 20px"},children:[(0,a.jsx)("div",{style:{color:"#b0b0b0",fontSize:"clamp(11px, 2.5vw, 13px)",marginBottom:"8px"},children:b("reason").toUpperCase()}),(0,a.jsx)("div",{style:{color:"#e0e0e0",fontSize:"clamp(14px, 3vw, 16px)",lineHeight:"1.5"},children:M})]}),(0,a.jsx)("p",{style:{color:"#e0e0e0",fontSize:"clamp(14px, 3vw, 16px)",maxWidth:"450px",margin:"0 auto 15px",lineHeight:"1.6"},children:b("usernameChangeExplanation")}),(0,a.jsx)("p",{style:{color:"#888",fontSize:"clamp(12px, 2.5vw, 14px)"},children:b("goToProfileToChange")})]}),(0,a.jsxs)("div",{style:B,children:[(0,a.jsxs)("h2",{style:P,children:["⚖️ ",b("moderation")]}),(0,a.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(120px, 1fr))",gap:"clamp(10px, 3vw, 15px)",marginBottom:"clamp(15px, 4vw, 25px)"},children:[(0,a.jsxs)("div",{style:W,children:[(0,a.jsx)("div",{style:{fontSize:"clamp(10px, 2.5vw, 12px)",color:"#b0b0b0",marginBottom:"4px"},children:b("eloRefunded").toUpperCase()}),(0,a.jsxs)("div",{style:{fontSize:"clamp(18px, 4vw, 24px)",color:"#4caf50",fontWeight:"bold"},children:["+",(null==C?void 0:C.totalEloRefunded)||0]})]}),(0,a.jsxs)("div",{style:W,children:[(0,a.jsx)("div",{style:{fontSize:"clamp(10px, 2.5vw, 12px)",color:"#b0b0b0",marginBottom:"4px"},children:b("reportsFiled").toUpperCase()}),(0,a.jsx)("div",{style:{fontSize:"clamp(18px, 4vw, 24px)",color:"#ffd700",fontWeight:"bold"},children:(null==C||null==(c=C.reportStats)?void 0:c.total)||0})]}),(0,a.jsxs)("div",{style:W,children:[(0,a.jsx)("div",{style:{fontSize:"clamp(10px, 2.5vw, 12px)",color:"#b0b0b0",marginBottom:"4px"},children:b("effectiveReports").toUpperCase()}),(0,a.jsx)("div",{style:{fontSize:"clamp(18px, 4vw, 24px)",color:"#4caf50",fontWeight:"bold"},children:(null==C||null==(u=C.reportStats)?void 0:u.actionTaken)||0})]})]}),(0,a.jsxs)("div",{style:{display:"flex",justifyContent:"center",gap:"clamp(8px, 2vw, 15px)",marginBottom:"clamp(15px, 4vw, 25px)",flexWrap:"wrap"},children:[(0,a.jsxs)("button",{style:z("refunds"===T),onClick:()=>R("refunds"),children:["\uD83D\uDCB0 ",b("eloRefundsTab")," (",(null==C||null==(p=C.eloRefunds)?void 0:p.length)||0,")"]}),(0,a.jsxs)("button",{style:z("history"===T),onClick:()=>R("history"),children:["\uD83D\uDCCB ",b("accountHistoryTab")," (",(null==C||null==(m=C.moderationHistory)?void 0:m.length)||0,")"]}),(0,a.jsxs)("button",{style:z("reports"===T),onClick:()=>R("reports"),children:["\uD83D\uDEA9 ",b("myReportsTab")," (",(null==C||null==(h=C.submittedReports)?void 0:h.length)||0,")"]})]})]}),(0,a.jsxs)("div",{style:B,children:["refunds"===T&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("h3",{style:{...P,fontSize:"clamp(16px, 3.5vw, 24px)"},children:b("eloRefundsTitle")}),(0,a.jsx)("p",{style:{color:"#888",textAlign:"center",marginBottom:"20px",fontSize:"clamp(12px, 2.5vw, 14px)"},children:b("eloRefundsDesc")}),(null==C||null==(g=C.eloRefunds)?void 0:g.length)>0?(0,a.jsx)("div",{style:{maxHeight:"400px",overflowY:"auto"},children:C.eloRefunds.map(e=>(0,a.jsx)("div",{style:O,children:(0,a.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:"10px"},children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{style:{color:"#4caf50",fontWeight:"bold",fontSize:"clamp(16px, 3.5vw, 20px)"},children:b("eloRefundAmount",{amount:e.amount})}),(0,a.jsxs)("span",{style:{color:"#888",marginLeft:"10px",fontSize:"clamp(12px, 2.5vw, 14px)"},children:[b("fromBannedPlayer"),": ",(0,a.jsx)("span",{style:{color:"#f44336"},children:e.bannedUsername})]})]}),(0,a.jsx)("div",{style:{color:"#888",fontSize:"clamp(11px, 2.5vw, 13px)"},children:F(e.date)})]})},e.id))}):(0,a.jsx)("div",{style:L,children:b("noEloRefundsYet")})]}),"history"===T&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("h3",{style:{...P,fontSize:"clamp(16px, 3.5vw, 24px)"},children:b("accountModerationHistory")}),(null==C||null==(x=C.moderationHistory)?void 0:x.length)>0?(0,a.jsx)("div",{style:{maxHeight:"400px",overflowY:"auto"},children:C.moderationHistory.map(e=>(0,a.jsx)("div",{style:O,children:(0,a.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",flexWrap:"wrap",gap:"10px"},children:[(0,a.jsxs)("div",{style:{flex:1},children:[(0,a.jsx)("div",{style:{fontWeight:"bold",fontSize:"clamp(14px, 3vw, 16px)",color:e.actionType.includes("ban")&&"unban"!==e.actionType?"#f44336":"unban"===e.actionType?"#4caf50":"#ffd700"},children:e.actionDescription}),e.publicNote&&(0,a.jsx)("div",{style:{color:"#b0b0b0",marginTop:"8px",fontSize:"clamp(12px, 2.5vw, 14px)"},children:e.publicNote}),e.expiresAt&&new Date(e.expiresAt)>new Date&&(0,a.jsxs)("div",{style:{color:"#ffd700",marginTop:"8px",fontSize:"clamp(11px, 2.5vw, 13px)"},children:[b("expires"),": ",F(e.expiresAt)," (",e.durationString,")"]})]}),(0,a.jsx)("div",{style:{color:"#888",fontSize:"clamp(11px, 2.5vw, 13px)"},children:F(e.date)})]})},e.id))}):(0,a.jsxs)("div",{style:L,children:["✅ ",b("noModerationActions")]})]}),"reports"===T&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("h3",{style:{...P,fontSize:"clamp(16px, 3.5vw, 24px)"},children:b("reportsYouSubmitted")}),(0,a.jsx)("p",{style:{color:"#888",textAlign:"center",marginBottom:"20px",fontSize:"clamp(12px, 2.5vw, 14px)"},children:b("reportsPrivacyNote")}),(null==C||null==(y=C.submittedReports)?void 0:y.length)>0?(0,a.jsx)("div",{style:{maxHeight:"400px",overflowY:"auto"},children:C.submittedReports.map(e=>(0,a.jsx)("div",{style:O,children:(0,a.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:"10px"},children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{style:{color:"#e0e0e0",fontWeight:"bold",fontSize:"clamp(14px, 3vw, 16px)"},children:e.reportedUsername}),(0,a.jsx)("span",{style:{marginLeft:"10px",padding:"2px 8px",borderRadius:"4px",background:"rgba(255,255,255,0.1)",fontSize:"clamp(10px, 2.5vw, 12px)",color:"#888"},children:(e=>{switch(e){case"inappropriate_username":return b("reportReasonInappropriateUsername");case"cheating":return b("reportReasonCheating");case"other":return b("reportReasonOther");default:return e}})(e.reason)})]}),(0,a.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"15px"},children:[(0,a.jsx)("span",{style:{color:(e=>{switch(e){case"open":return"#ffd700";case"action_taken":return"#4caf50";case"ignored":return"#888";default:return"#b0b0b0"}})(e.status),fontWeight:"bold",fontSize:"clamp(11px, 2.5vw, 13px)"},children:(e=>{switch(e){case"open":return b("reportStatusOpen");case"action_taken":return b("reportStatusActionTaken");case"ignored":return b("reportStatusIgnored");default:return e}})(e.status)}),(0,a.jsx)("span",{style:{color:"#888",fontSize:"clamp(11px, 2.5vw, 13px)"},children:F(e.date)})]})]})},e.id))}):(0,a.jsx)("div",{style:L,children:b("noReportsSubmitted")})]})]})]})}function er(e){let{shown:n,onClose:t,session:o,ws:s,canSendInvite:r,sendInvite:l,accountModalPage:d,setAccountModalPage:c,friends:u,setFriends:p,sentRequests:m,setSentRequests:h,receivedRequests:g,setReceivedRequests:x}=e,[y,v]=(0,i.useState)(0),[b,w]=(0,i.useState)(!1),[j,S]=(0,i.useState)(!1),[k,C]=(0,i.useState)(""),{t:D}=(0,f.B)("common"),N=(0,i.useRef)(null);return(0,i.useEffect)(()=>{if(s)return s.addEventListener("message",e),()=>{s.removeEventListener("message",e)};function e(e){let n=JSON.parse(e.data);"friends"===n.type&&(p(n.friends),h(n.sentRequests),x(n.receivedRequests),S(n.allowFriendReq)),"friendReqState"===n.type&&(v(n.state),w(!1),C(""))}},[s]),(0,i.useEffect)(()=>(y>0&&(N.current&&clearTimeout(N.current),N.current=setTimeout(()=>{v(0),N.current=null},5e3)),()=>{N.current&&(clearTimeout(N.current),N.current=null)}),[y]),(0,i.useEffect)(()=>{let e;if(s)return n&&(s.send(JSON.stringify({type:"getFriends"})),e=setInterval(()=>{s.send(JSON.stringify({type:"getFriends"}))},5e3)),()=>{clearInterval(e)}},[n,s]),(0,a.jsxs)("div",{id:"friendsModal",style:{zIndex:100,color:"white",padding:"20px",borderRadius:"10px",fontFamily:"'Arial', sans-serif",textAlign:"center",width:"100%",height:"100%"},className:"friendsModal",open:n,center:!0,onClose:t,children:[s&&1!==s.readyState&&(0,a.jsx)("div",{children:D("disconnected")}),(0,a.jsx)("div",{className:"friendsContent",children:(0,a.jsx)("div",{className:"friendsSection",children:(0,a.jsxs)("div",{style:{width:"100%"},children:[(0,a.jsxs)("div",{style:{marginBottom:"30px",padding:"20px",background:"rgba(255,255,255,0.1)",borderRadius:"10px"},children:[(0,a.jsx)("h3",{children:D("addFriend")}),(0,a.jsx)("p",{style:{fontSize:"0.9rem",opacity:.8,marginBottom:"15px"},children:D("addFriendDescription")}),(0,a.jsxs)("div",{className:"input-group",children:[(0,a.jsx)("input",{type:"text",value:k,onChange:e=>C(e.target.value),placeholder:D("addFriendPlaceholder"),className:"g2_input"}),(0,a.jsx)("button",{onClick:()=>{s&&(w(!0),s.send(JSON.stringify({type:"sendFriendRequest",name:k})))},className:"g2_green_button g2_button_style",disabled:b,children:b?D("loading"):D("sendRequest")})]}),(0,a.jsxs)("span",{className:"friend-request-sent",children:[1===y&&D("friendReqSent"),2===y&&D("friendReqNotAccepting"),3===y&&D("friendReqNotFound"),4===y&&D("friendReqAlreadySent"),5===y&&D("friendReqAlreadyReceived"),6===y&&D("alreadyFriends"),y>6&&D("friendReqError")]})]}),(0,a.jsx)("div",{style:{marginBottom:"30px",padding:"15px",background:"rgba(255,255,255,0.05)",borderRadius:"10px"},children:(0,a.jsx)("div",{style:{marginBottom:"15px"},children:(0,a.jsxs)("span",{children:[D("allowFriendRequests"),"\xa0",(0,a.jsx)("input",{type:"checkbox",checked:j,onChange:e=>null==s?void 0:s.send(JSON.stringify({type:"setAllowFriendReq",allow:e.target.checked}))})]})})}),g.length>0&&(0,a.jsxs)("div",{style:{marginBottom:"30px"},children:[(0,a.jsx)("h3",{children:D("viewReceivedRequests",{cnt:g.length})}),(0,a.jsx)("div",{className:"friends-list",children:g.map(e=>(0,a.jsxs)("div",{className:"friend-card",children:[(0,a.jsx)("div",{className:"friend-details",children:(0,a.jsxs)("span",{className:"friend-name",children:[null==e?void 0:e.name,(null==e?void 0:e.supporter)&&(0,a.jsx)("span",{className:"badge",children:D("supporter")})]})}),(0,a.jsxs)("div",{style:{float:"right"},children:[(0,a.jsx)("button",{onClick:()=>{var n;return n=e.id,void(s&&s.send(JSON.stringify({type:"acceptFriend",id:n})))},className:"accept-button",children:"✔"}),(0,a.jsx)("button",{onClick:()=>{var n;return n=e.id,void(s&&s.send(JSON.stringify({type:"declineFriend",id:n})))},className:"decline-button",children:"✖"})]})]},e.id))})]}),m.length>0&&(0,a.jsxs)("div",{style:{marginBottom:"30px"},children:[(0,a.jsx)("h3",{children:D("viewSentRequests",{cnt:m.length})}),(0,a.jsx)("div",{className:"friends-list",children:m.map(e=>(0,a.jsxs)("div",{className:"friend-card",children:[(0,a.jsx)("div",{className:"friend-details",children:(0,a.jsxs)("span",{className:"friend-name",children:[null==e?void 0:e.name,(null==e?void 0:e.supporter)&&(0,a.jsx)("span",{className:"badge",children:D("supporter")})]})}),(0,a.jsx)("button",{onClick:()=>{var n;return n=e.id,void(s&&s.send(JSON.stringify({type:"cancelRequest",id:n})))},className:"cancel-button",children:"✖"})]},e.id))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{children:D("friends",{cnt:u.length})}),0===u.length&&(0,a.jsx)("div",{children:D("noFriends")}),(0,a.jsx)("div",{className:"friends-list",children:u.sort((e,n)=>n.online-e.online).map(e=>(0,a.jsxs)("div",{className:"friend-card",children:[(0,a.jsxs)("div",{className:"friend-details",children:[(0,a.jsxs)("span",{className:"friend-name",children:[null==e?void 0:e.name,(null==e?void 0:e.supporter)&&(0,a.jsx)("span",{className:"badge",children:D("supporter")})]}),(0,a.jsx)("span",{className:"friend-state",children:(null==e?void 0:e.online)?D("online"):D("offline")})]}),(0,a.jsxs)("div",{style:{float:"right"},children:[r&&e.online&&e.socketId&&(0,a.jsx)("button",{onClick:()=>l(e.socketId),className:"invite-button",children:D("invite")}),(0,a.jsx)("button",{onClick:()=>{var n;return n=e.id,void(s&&s.send(JSON.stringify({type:"removeFriend",id:n})))},className:"cancel-button",children:"✖"})]})]},e.id))})]})]})})})]})}function el(e){var n;let{session:t,setSession:o,shown:s,setAccountModalOpen:r,eloData:d,inCrazyGames:u,friendModal:p,accountModalPage:m,setAccountModalPage:h,ws:g,sendInvite:x,canSendInvite:y,options:v}=e,{t:b}=(0,f.B)("common"),[w,j]=(0,i.useState)({}),[S,k]=(0,i.useState)([]),[C,D]=(0,i.useState)([]),[N,_]=(0,i.useState)([]),[A,E]=(0,i.useState)(null),[G,M]=(0,i.useState)(!1),[T,I]=(0,i.useState)(!1),[B,P]=(0,i.useState)(!1);if((0,i.useEffect)(()=>{let e=()=>{let e=window.matchMedia&&window.matchMedia("(pointer: coarse)").matches,n="ontouchstart"in window||navigator.maxTouchPoints>0;I(e||n)};e();let n=window.matchMedia("(pointer: coarse)");return n.addListener(e),()=>{n.removeListener(e)}},[]),(0,i.useEffect)(()=>{s&&(null==t?void 0:t.token)?(j({username:t.token.username,totalXp:t.token.totalXp||0,createdAt:t.token.createdAt,gamesLen:t.token.gamesLen||0,lastLogin:t.token.lastLogin,canChangeUsername:t.token.canChangeUsername,daysUntilNameChange:t.token.daysUntilNameChange||0,recentChange:t.token.recentChange||!1,countryCode:t.token.countryCode||null}),fetch(window.cConfig.apiUrl+"/api/publicAccount",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:t.token.accountId})}).then(e=>e.ok?e.json():null).then(e=>{e&&j(e)}).catch(()=>{})):s||(M(!1),E(null))},[s,null==t||null==(n=t.token)?void 0:n.accountId]),(0,i.useEffect)(()=>{"history"!==m&&(M(!1),E(null))},[m]),!d)return null;let z=[{key:"profile",label:b("profile"),icon:"\uD83D\uDC64"},{key:"history",label:b("history"),icon:"\uD83D\uDCDC"},{key:"elo",label:b("ELO"),icon:"\uD83C\uDFC6"},{key:"list",label:b("friendsText"),icon:"\uD83D\uDC65"},{key:"moderation",label:b("moderationTab"),icon:"⚖️"}];return(0,a.jsxs)(a.Fragment,{children:["history"===m&&G&&A&&(0,a.jsx)(ei.A,{game:A,session:t,options:v,onBack:()=>{M(!1),E(null)}}),(0,a.jsx)(R.a,{styles:{modal:{padding:0,margin:0,maxWidth:"none",width:"100vw",height:"100vh",background:"transparent",borderRadius:0,overflow:"hidden",display:"flex",alignItems:"stretch",justifyContent:"stretch"},modalContainer:{height:"auto"},overlay:{overflow:"hidden"}},classNames:{modal:"account-modal",modalContainer:"account-modal-p-container"},open:s,center:!0,onClose:()=>r(!1),showCloseIcon:!1,animationDuration:300,blockScroll:!1,closeOnOverlayClick:!0,children:(0,a.jsxs)("div",{className:"account-modal-container",children:[(0,a.jsx)("div",{className:"account-modal-background"}),(0,a.jsxs)("div",{className:"account-modal-content",style:{display:"flex",flexDirection:"column",height:"100%",overflow:"hidden"},children:[(0,a.jsxs)("div",{className:"account-modal-header",style:{padding:T?"10px 20px":void 0,minHeight:T?"50px":void 0},children:[(0,a.jsxs)("h1",{className:"account-modal-title",style:{display:"flex",alignItems:"center",gap:"8px"},children:[(null==w?void 0:w.username)||b("account"),(null==w?void 0:w.countryCode)&&(0,a.jsx)(H.A,{countryCode:w.countryCode,style:{fontSize:"0.8em"}}),(null==w?void 0:w.username)&&(0,a.jsx)("button",{onClick:()=>{let e="".concat(window.location.origin,"/user?u=").concat(encodeURIComponent(w.username));navigator.clipboard.writeText(e).then(()=>{P(!0),setTimeout(()=>P(!1),2e3)})},title:b("copyProfileLink")||"Copy profile link",style:{marginLeft:"10px",background:"rgba(255,255,255,0.1)",border:"none",borderRadius:"6px",padding:"6px 10px",cursor:"pointer",color:B?"#4ade80":"rgba(255,255,255,0.7)",fontSize:"0.8rem",transition:"all 0.2s ease",display:"inline-flex",alignItems:"center",gap:"5px",verticalAlign:"middle"},onMouseEnter:e=>{B||(e.target.style.color="#fff"),e.target.style.background="rgba(255,255,255,0.2)"},onMouseLeave:e=>{B||(e.target.style.color="rgba(255,255,255,0.7)"),e.target.style.background="rgba(255,255,255,0.1)"},children:B?(0,a.jsx)(l.CMH,{}):(0,a.jsx)(l.AnD,{})}),(null==w?void 0:w.supporter)&&(0,a.jsx)("span",{style:{marginLeft:"15px",color:"black",fontSize:"0.7rem",background:"linear-gradient(135deg, #ffd700, #ffed4e)",padding:"4px 12px",borderRadius:"15px",fontWeight:"bold",textShadow:"none"},children:b("supporter")})]}),(0,a.jsx)("button",{className:"account-modal-close",onClick:()=>r(!1),"aria-label":"Close",children:(0,a.jsx)("span",{className:"close-icon",children:"✕"})})]}),(0,a.jsx)("div",{className:"account-modal-nav-container",style:{padding:T?"5px 0":void 0},children:(0,a.jsx)("nav",{className:"account-modal-nav",children:z.map(e=>(0,a.jsxs)("button",{className:"account-nav-item ".concat(m===e.key?"active":""),onClick:()=>h(e.key),style:{padding:T?"8px 12px":void 0,fontSize:T?"0.9rem":void 0},children:[(0,a.jsx)("span",{className:"nav-icon",children:e.icon}),(0,a.jsx)("span",{className:"nav-label",children:e.label})]},e.key))})}),(0,a.jsx)("div",{className:"account-modal-body",style:{height:"100%",overflowY:"auto",overflowX:"hidden",WebkitOverflowScrolling:"touch",touchAction:"pan-y pinch-zoom",overscrollBehavior:"contain",scrollbarGutter:"stable",flex:"1 1 auto",minHeight:0,minWidth:0,boxSizing:"border-box"},children:(0,a.jsx)("div",{style:{width:"100%",overflowY:"visible",overflowX:"hidden",minHeight:"history"===m||"profile"===m||"elo"===m||"moderation"===m?"calc(100vh + 1px)":"calc(100% + 1px)",paddingBottom:"40px"},children:(()=>{switch(m){case"profile":var e;return(0,a.jsxs)("div",{className:"profile-content",children:[(0,a.jsx)(et.A,{accountData:w,setAccountData:j,supporter:null==t||null==(e=t.token)?void 0:e.supporter,eloData:d,session:t,setSession:o,ws:g}),!u&&(0,a.jsx)("div",{className:"profile-actions",children:(0,a.jsx)("button",{className:"logout-button",onClick:()=>(0,c.CI)(),children:b("logOut")})})]});case"history":return(0,a.jsx)(eo.A,{session:t,onGameClick:e=>{E(e),M(!0)}});case"elo":return(0,a.jsx)(ea.A,{eloData:d,session:t});case"moderation":return(0,a.jsx)(es,{session:t});default:return(0,a.jsx)(er,{ws:g,canSendInvite:y,sendInvite:x,accountModalPage:"consolidated",setAccountModalPage:h,friends:S,shown:!0,setFriends:k,sentRequests:C,setSentRequests:D,receivedRequests:N,setReceivedRequests:_})}})()})})]})]})})]})}function ed(e){let{shown:n,onClose:t,session:o}=e,[s,r]=(0,i.useState)(""),[l,d]=(0,i.useState)(!1),[c,u]=(0,i.useState)(""),{t:p}=(0,f.B)("common"),m=async()=>{if(window.settingName||l)return;d(!0),u("");let e=o.token.secret;window.settingName=!0;try{let n=await fetch(window.cConfig.apiUrl+"/api/setName",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:s,token:e})});if(n.ok)(0,P.A)("sign_up"),setTimeout(()=>{window.location.reload()},200);else{window.settingName=!1;let e=await n.json();u(e.message||"An error occurred"),d(!1)}}catch(e){window.settingName=!1,u("Connection error. Please try again."),d(!1)}};return(0,a.jsxs)(R.a,{id:"setUsernameModal",styles:{modal:{background:"transparent",padding:0,margin:0,boxShadow:"none",maxWidth:"100%",width:"auto",overflow:"visible"},closeButton:{display:"none"},overlay:{background:"rgba(0, 0, 0, 0.8)",backdropFilter:"blur(10px)",overflow:"hidden"}},open:n,center:!0,onClose:()=>{},closeOnOverlayClick:!1,closeOnEsc:!1,children:[(0,a.jsxs)("div",{style:{minWidth:"400px",animation:"slideInUp 0.6s ease-out"},className:"jsx-90b4866ced2f645d join-party-card",children:[(0,a.jsx)("h2",{style:{marginBottom:"20px"},className:"jsx-90b4866ced2f645d join-party-title",children:p("welcomeToWorldguessr")}),(0,a.jsx)("p",{style:{color:"rgba(255, 255, 255, 0.8)",fontSize:"min(clamp(1rem, 2vw, 1.1rem), clamp(0.9rem, 2.5vh, 1rem))",marginBottom:"25px",lineHeight:"1.4"},className:"jsx-90b4866ced2f645d",children:p("enterUsername")}),(0,a.jsxs)("div",{className:"jsx-90b4866ced2f645d join-party-form",children:[(0,a.jsxs)("div",{className:"jsx-90b4866ced2f645d join-party-input-group",children:[(0,a.jsx)("input",{type:"text",placeholder:p("enterUsernameBox"),value:s,onChange:e=>r(e.target.value),onKeyPress:e=>{"Enter"===e.key&&s.trim()&&!l&&m()},disabled:l,maxLength:20,style:{opacity:l?.7:1,cursor:l?"not-allowed":"text"},className:"jsx-90b4866ced2f645d join-party-input"}),(0,a.jsx)("button",{onClick:m,disabled:!s.trim()||l,style:{position:"relative",overflow:"hidden"},className:"jsx-90b4866ced2f645d join-party-button",children:l?(0,a.jsx)("div",{style:{display:"flex",alignItems:"center",gap:"8px"},className:"jsx-90b4866ced2f645d",children:(0,a.jsx)("div",{style:{width:"16px",height:"16px",border:"2px solid rgba(255, 255, 255, 0.3)",borderTop:"2px solid white",borderRadius:"50%",animation:"spin 1s linear infinite"},className:"jsx-90b4866ced2f645d"})}):p("save")})]}),c&&(0,a.jsx)("div",{style:{animation:"errorSlideIn 0.3s ease-out"},className:"jsx-90b4866ced2f645d join-party-error",children:c})]})]}),(0,a.jsx)($,{id:"90b4866ced2f645d",children:"@keyframes spin{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}"})]})}var ec=t(232);t(8413);let eu=new(t(1598)).d,ep={initialMessages:[],customComponents:{header:()=>(0,a.jsx)("div",{className:"react-chatbot-kit-chat-header",children:"Chat"})},customMessages:{custom:e=>(0,a.jsx)(em,{...e,message:e.state.messages.find(n=>n.payload===e.payload)})}},em=e=>{var n;let{state:t,message:o}=e;return(0,a.jsxs)("div",{className:"react-chatbot-kit-chat-bot-message-container fgh",children:[(0,a.jsx)("div",{className:"react-chatbot-kit-chat-bot-avatar",children:(0,a.jsx)("div",{className:"react-chatbot-kit-chat-bot-avatar-container",children:(0,a.jsx)("p",{className:"react-chatbot-kit-chat-bot-avatar-letter",children:null==(n=JSON.parse(o.message).username)?void 0:n.charAt(0)})})}),(0,a.jsxs)("div",{className:"react-chatbot-kit-chat-bot-message",children:[(0,a.jsx)("span",{className:"authorName",children:JSON.parse(o.message).username}),(0,a.jsx)("br",{}),(0,a.jsx)("span",{children:JSON.parse(o.message).message}),(0,a.jsx)("div",{className:"react-chatbot-kit-chat-bot-message-arrow"})]})]})},eh=0,eg=i.memo(e=>{let{children:n,actions:t}=e,o=e=>{t.handleMsg(e)};return(0,a.jsx)("div",{children:i.Children.map(n,e=>i.cloneElement(e,{parse:o,actions:t}))})}),ex=i.memo(e=>{let{createChatBotMessage:n,setState:t,children:o,ws:s,myId:r,inGame:l}=e,d=(0,i.useRef)(r);(0,i.useEffect)(()=>{d.current=r},[r]),(0,i.useEffect)(()=>{if(!s)return;let e=e=>{let n=JSON.parse(e.data);if("chat"===n.type&&n.id!==d.current){let e=n.name;t(t=>({...t,messages:[...t.messages,(0,ec.createCustomMessage)(JSON.stringify({message:n.message,username:e}),"custom",{payload:n.message})]}))}};return s.addEventListener("message",e),()=>{s.removeEventListener("message",e)}},[s]),(0,i.useEffect)(()=>{l||t(e=>({...e,messages:[]}))},[l]);let c=e=>{s&&s.send(JSON.stringify({type:"chat",message:e}))};return(0,a.jsx)("div",{children:i.Children.map(o,e=>i.cloneElement(e,{actions:{handleMsg:c}}))})}),ef=i.memo(function(e){let{ws:n,open:t,onToggle:o,enabled:s,myId:r,inGame:l,miniMapShown:c,isGuest:u,publicGame:p,roundOverScreenShown:m}=e,{t:h}=(0,f.B)("common"),[g,x]=(0,i.useState)(0),y=(0,i.useRef)(n),v=(0,i.useRef)(r),b=(0,i.useRef)(l);(0,i.useEffect)(()=>{y.current=n},[n]),(0,i.useEffect)(()=>{v.current=r},[r]),(0,i.useEffect)(()=>{b.current=l},[l]);let w=!(!u||u&&!p),j=(0,i.useRef)(w);(0,i.useEffect)(()=>{j.current=w},[w]),(0,i.useEffect)(()=>{t&&x(0)},[t]),(0,i.useEffect)(()=>{if(!n)return;let e=e=>{let n=JSON.parse(e.data);"chat"!==n.type||n.id===r||t||x(e=>e+1)};return n.addEventListener("message",e),()=>{n.removeEventListener("message",e)}},[n,t,r]);let k=(0,i.useCallback)(e=>(0,a.jsx)(eg,{...e}),[]),C=(0,i.useCallback)(e=>(0,a.jsx)(ex,{...e,ws:y.current,myId:v.current,inGame:b.current}),[]),D=(0,i.useCallback)(e=>!(j.current||e.length<1||e.length>200||Date.now()-eh<1e3)&&(eu.isProfane(e)?(S.oR.error("Be nice!"),!1):(eh=Date.now(),!0)),[]);return window.innerWidth,(0,a.jsxs)("div",{className:"chatboxParent ".concat(s?"enabled":""," ").concat(w?"guest":""," ").concat(m?"roundOverScreen":""),children:[(0,a.jsx)("button",{className:"chatboxBtn ".concat(t?"open":""," ").concat(c?"minimap":""),style:{fontSize:"16px",fontWeight:"bold",color:"white",background:"green",border:"none",borderRadius:"5px",padding:"10px 20px",cursor:"pointer"},onClick:o,children:t?(0,a.jsx)(d.V2x,{style:{pointerEvents:"none"}}):"".concat(h("chat")).concat(g>0?" (".concat(g,")"):"")}),(0,a.jsx)("div",{className:"chatbox ".concat(t?"open":""),children:(0,a.jsx)(ec.Chatbot,{config:ep,placeholderText:w?"Please login to chat":void 0,messageParser:k,actionProvider:C,validator:D})})]})}),ey=JSON.parse('{"AX":177.356,"AF":1536.041,"US":6000,"AL":338.482,"GG":63.094,"DZ":2139.325,"AS":162.797,"IN":3828.242,"AD":32.106,"AO":1886.741,"AI":154.898,"AQ":3339.585,"AG":241.66,"AR":3720.101,"AM":362.697,"AW":45.913,"RU":8224.333,"AU":4600.556,"AT":577.829,"AZ":543.633,"PT":1837.279,"BH":132.22,"ES":2607.001,"BD":809.854,"BB":151.748,"BY":665.528,"BE":344.702,"BZ":311.937,"BJ":721.58,"BM":268.792,"BT":50.05,"BO":1609.119,"NL":300,"BA":366.143,"BW":1117.777,"BR":4670.419,"GB":1400,"VG":73.934,"BN":155.424,"BG":582.029,"BF":878.828,"BI":262.187,"KH":785.683,"CM":1311.784,"CA":5656.416,"CV":483.268,"KY":234.704,"CF":1445.673,"TD":1787.358,"NZ":2473.615,"CL":4815.36,"CN":5019.239,"CX":62.14,"CC":89.144,"CO":2352.2,"KM":248.617,"CK":2700.394,"FR":1400,"CR":787.658,"HR":537.169,"CU":1267.777,"CW":76.599,"CZ":490.955,"CI":845.04,"CD":2363.84,"DK":518.274,"DJ":278.17,"DM":121.94,"DO":437.401,"TL":391.871,"EC":1887.657,"SV":326.808,"GQ":891.319,"ER":827.573,"EE":525.912,"SZ":187.281,"ET":1651.256,"FK":440.884,"FO":206.903,"FM":3199.502,"FJ":1368.578,"FI":1266.549,"GF":424.6,"PF":3715.516,"GA":748.883,"PS":178.464,"GE":604.397,"DE":906.917,"GH":854.901,"GI":14.342,"GR":1005.522,"GL":3024.635,"GD":296.03,"GP":332.404,"GU":263.123,"GT":568.973,"GN":934.499,"GW":419.481,"GY":829.473,"HT":365.647,"HM":329.237,"HN":919.802,"HK":76.127,"HU":525.881,"IS":681.637,"IR":2321.367,"IQ":1032.476,"IE":570.923,"IM":58.9,"IL":439.764,"IT":1317.252,"JM":318.311,"NO":1942.584,"JP":3020.565,"ID":5642.759,"JE":39.157,"JO":580.272,"KZ":2957.307,"KE":1208.97,"KI":5061.583,"XK":157.911,"KW":240.868,"KG":957.809,"LA":1072.101,"LV":532.265,"LB":222.304,"LS":242.916,"LR":612.479,"LY":1994.679,"LI":24.791,"LT":395.23,"LU":84.613,"MO":15.869,"MG":1716.392,"MW":899.05,"MY":2239.742,"MV":938.47,"ML":1857.816,"MT":79.828,"MH":1686.188,"MQ":187.121,"MR":1569.765,"MU":939.267,"YT":112.29,"MX":3493.148,"MD":351.02,"MC":5.56,"MN":2400.001,"ME":193.061,"MS":73.936,"MA":2133.3,"MZ":2055.864,"MM":2128.672,"NA":1522.395,"NR":154.118,"NP":842.819,"NC":1062.947,"NI":686.027,"NE":1844.766,"NG":1470.5,"NU":307.885,"NF":346.291,"KP":828.101,"MK":217.524,"CY":257.473,"MP":775.898,"OM":1212.093,"PK":1919.535,"PW":196.955,"PA":655.405,"PG":2535.233,"PY":1062.014,"PE":2114.034,"PH":1976.332,"PN":790.047,"PL":827.137,"PR":305.067,"QA":259.469,"CG":1204.234,"RO":770.108,"RW":250.178,"RE":149.604,"SH":229.083,"PM":90.658,"BL":90.869,"MF":81.63,"WS":401.862,"SM":13.051,"SA":2281.49,"SN":726.193,"RS":493.043,"SC":1755.233,"SL":450.104,"SG":63.278,"SX":42.167,"SK":427.884,"SI":262.014,"SB":1686.787,"SO":1909.64,"ZA":1905.569,"GS":295.631,"KR":683,"SS":1466.586,"LK":505.193,"KN":111.057,"LC":286.251,"VC":296.03,"SD":2042.97,"SR":522.473,"SJ":822.874,"SE":1592.015,"CH":358.077,"SY":780.191,"ST":324.359,"TW":554.086,"TJ":716.912,"TZ":1529.874,"TH":1657.708,"BS":1009.82,"GM":396.55,"TG":603.047,"TK":378.202,"TO":844.39,"TT":292.787,"TA":127.108,"TN":829.055,"TR":1696.647,"TM":1326.514,"TC":602.683,"TV":863.803,"VI":92.922,"UG":794.321,"UA":1324.83,"AE":566.456,"UY":618.54,"UZ":1472.135,"VU":1064.455,"VA":1.089,"VE":1495.328,"VN":1800.49,"WF":382.802,"EH":1165.902,"YE":1650.325,"ZM":1423.059,"ZW":852.982}');var ev=t(5105);function eb(e){let{shown:n,onClose:t,options:o,setOptions:i,inCrazyGames:s}=e,{t:r}=(0,f.B)("common");return o?(0,a.jsxs)(R.a,{id:"",styles:{modal:{zIndex:100,color:"white",padding:"0px",borderRadius:"10px",top:"0px",margin:"0",left:"0px",maxWidth:"500px",textAlign:"center",position:"absolute",background:'linear-gradient(0deg, rgba(0, 0, 0, 0.8) 0%, rgba(0, 30, 15, 0.5) 100%), url("/street2.webp")',objectFit:"cover",backgroundSize:"cover",backgroundPosition:"center"},closeButton:{backgroundColor:"white"}},classNames:{modal:"g2_modal"},open:n,center:!0,onClose:t,showCloseIcon:!1,animationDuration:0,children:[(0,a.jsxs)("div",{className:"g2_nav_ui",children:[(0,a.jsx)("h1",{className:"g2_nav_title",children:r("settings")}),(0,a.jsx)("div",{className:"g2_nav_hr"}),(0,a.jsx)("button",{className:"g2_nav_text singleplayer red",onClick:t,children:r("back")})]}),(0,a.jsxs)("div",{className:"g2_content settingsModal",children:[(0,a.jsx)("div",{style:{height:"50px"}}),(0,a.jsxs)("div",{className:"settingsModalInner",children:[(0,a.jsxs)("label",{htmlFor:"units",children:[r("units"),": "]}),(0,a.jsxs)("select",{className:"g2_input",id:"units",value:o.units,onChange:e=>{i(n=>({...n,units:e.target.value}))},children:[(0,a.jsx)("option",{value:"metric",children:r("metric")}),(0,a.jsx)("option",{value:"imperial",children:r("imperial")})]})]}),(0,a.jsxs)("div",{className:"settingsModalInner",children:[(0,a.jsxs)("label",{htmlFor:"mapType",children:[r("mapType"),": "]}),(0,a.jsxs)("select",{className:"g2_input",id:"mapType",value:o.mapType,onChange:e=>{i(n=>({...n,mapType:e.target.value}))},children:[(0,a.jsx)("option",{value:"m",children:r("normal")}),(0,a.jsx)("option",{value:"s",children:r("satellite")}),(0,a.jsx)("option",{value:"p",children:r("terrain")}),(0,a.jsx)("option",{value:"y",children:r("hybrid")})]})]}),!s&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"settingsModalInner",children:[(0,a.jsxs)("label",{htmlFor:"mapType",children:[r("language"),": "]}),(0,a.jsxs)("select",{className:"g2_input",id:"mapType",value:o.language,onChange:e=>{i(n=>({...n,language:e.target.value}))},children:[(0,a.jsx)("option",{value:"en",children:"English"}),(0,a.jsx)("option",{value:"es",children:"Espa\xf1ol"}),(0,a.jsx)("option",{value:"fr",children:"Fran\xe7ais"}),(0,a.jsx)("option",{value:"de",children:"Deutsch"}),(0,a.jsx)("option",{value:"ru",children:"Русский"})]})]}),(0,a.jsxs)("div",{className:"settingsModalInner",children:[(0,a.jsx)("label",{htmlFor:"ramUsage",children:"Show RAM Usage"}),(0,a.jsx)("input",{className:"g2_input",type:"checkbox",id:"ramUsage",checked:o.ramUsage,onChange:()=>i(e=>({...e,ramUsage:!e.ramUsage}))})]})]}),s&&(0,a.jsx)("a",{href:"/privacy-crazygames",target:"_blank",rel:"noreferrer",style:{marginTop:"20px",display:"block",color:"white"},children:"Privacy Policy"}),(0,a.jsx)("div",{style:{height:"40vh"}})]})]}):null}let ew={activeAttempts:new Map,cancel(e){if(this.activeAttempts.has(e)){let{websocket:n,cleanup:t}=this.activeAttempts.get(e);console.log("[WS Manager] Cancelling previous connection attempt to ".concat(e)),t(),n&&n.readyState===WebSocket.CONNECTING&&n.close(),this.activeAttempts.delete(e)}},register(e,n,t){this.activeAttempts.set(e,{websocket:n,cleanup:t})},complete(e){this.activeAttempts.delete(e)}};function ej(e){let{shown:n,setOpen:t}=e,{t:o}=(0,f.B)("common"),i=()=>{W.setItem("onboarding","done"),t(!1)};return(0,a.jsxs)(R.a,{id:"signUpModal",styles:{modal:{background:"linear-gradient(135deg, rgba(20, 65, 25, 0.95) 0%, rgba(10, 40, 15, 0.98) 100%)",backdropFilter:"blur(10px)",border:"1px solid rgba(255, 255, 255, 0.1)",borderRadius:"16px",padding:"30px",maxWidth:"420px",textAlign:"center",color:"white",fontFamily:"Lexend, sans-serif",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.4)"}},open:n,center:!0,onClose:i,showCloseIcon:!0,animationDuration:200,children:[(0,a.jsx)("div",{style:{marginBottom:"24px",animation:"float 3s ease-in-out infinite"},className:"jsx-5ac00f620abcce5d",children:(0,a.jsx)(l.SBv,{style:{fontSize:"56px",color:"#ffd700",filter:"drop-shadow(0 4px 8px rgba(255, 215, 0, 0.5))"}})}),(0,a.jsx)("h2",{style:{fontSize:"1.8rem",marginBottom:"12px",fontWeight:"700",color:"white",textShadow:"2px 2px 4px rgba(0, 0, 0, 0.4)",background:"linear-gradient(135deg, #ffffff 0%, #e8e8e8 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text"},className:"jsx-5ac00f620abcce5d",children:o("trackYourProgress")}),(0,a.jsx)("p",{style:{fontSize:"1rem",marginBottom:"28px",color:"rgba(255, 255, 255, 0.9)",lineHeight:"1.6",textShadow:"1px 1px 2px rgba(0, 0, 0, 0.3)"},className:"jsx-5ac00f620abcce5d",children:o("trackYourProgress1")}),(0,a.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"14px"},className:"jsx-5ac00f620abcce5d",children:[(0,a.jsxs)("button",{onClick:()=>{(0,c.Jv)("google")},style:{background:"linear-gradient(135deg, #4285F4 0%, #34a853 100%)",border:"2px solid rgba(255, 255, 255, 0.1)",color:"white",padding:"14px 28px",borderRadius:"10px",fontSize:"1rem",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"10px",boxShadow:"0 4px 15px rgba(66, 133, 244, 0.4)",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",textShadow:"1px 1px 2px rgba(0, 0, 0, 0.2)"},onMouseEnter:e=>{e.target.style.transform="translateY(-2px)",e.target.style.boxShadow="0 8px 25px rgba(66, 133, 244, 0.6)"},onMouseLeave:e=>{e.target.style.transform="translateY(0)",e.target.style.boxShadow="0 4px 15px rgba(66, 133, 244, 0.4)"},className:"jsx-5ac00f620abcce5d",children:[(0,a.jsx)(l.DSS,{}),o("loginWithGoogle1")]}),(0,a.jsx)("button",{onClick:i,style:{background:"rgba(255, 255, 255, 0.08)",backdropFilter:"blur(10px)",border:"1px solid rgba(255, 255, 255, 0.2)",color:"rgba(255, 255, 255, 0.95)",padding:"14px 28px",borderRadius:"10px",fontSize:"1rem",fontWeight:"500",cursor:"pointer",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",textShadow:"1px 1px 2px rgba(0, 0, 0, 0.2)"},onMouseEnter:e=>{e.target.style.background="rgba(255, 255, 255, 0.15)",e.target.style.borderColor="rgba(255, 255, 255, 0.4)",e.target.style.transform="translateY(-2px)"},onMouseLeave:e=>{e.target.style.background="rgba(255, 255, 255, 0.08)",e.target.style.borderColor="rgba(255, 255, 255, 0.2)",e.target.style.transform="translateY(0)"},className:"jsx-5ac00f620abcce5d",children:o("playAsGuest")})]}),(0,a.jsx)($,{id:"5ac00f620abcce5d",children:"@keyframes float{0%,100%{transform:translatey(0px)}50%{transform:translatey(-6px)}}"})]})}function eS(e){let{shown:n,onClose:t}=e,{t:o}=(0,f.B)("common"),[s,r]=(0,i.useState)(1);return(0,a.jsxs)(R.a,{open:n,onClose:t,center:!0,styles:{modal:{backgroundColor:"#2d2d2d",padding:"20px",borderRadius:"10px",color:"white",maxWidth:"600px"},closeButton:{scale:.5,backgroundColor:"red",borderRadius:"50%",padding:"5px 10px"}},children:[(0,a.jsx)("center",{className:"jsx-6a8cf0a2b017d302",children:1===s?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("h1",{style:{fontSize:"24px",fontWeight:"bold",color:"lime",marginBottom:"10px"},className:"jsx-6a8cf0a2b017d302",children:[o("welcomeToWorldGuessr"),"!"]}),(0,a.jsxs)("p",{style:{fontSize:"16px",marginBottom:"5px"},className:"jsx-6a8cf0a2b017d302",children:["\uD83E\uDDD0 ",o("info1")]}),(0,a.jsxs)("p",{style:{fontSize:"16px",marginBottom:"5px"},className:"jsx-6a8cf0a2b017d302",children:["\uD83D\uDDFA️ ",o("info2")]}),(0,a.jsx)("img",{src:"/tutorial1.png",alt:"Tutorial 1",style:{maxWidth:"100%",borderRadius:"10px"},className:"jsx-6a8cf0a2b017d302"}),(0,a.jsx)("div",{style:{marginTop:"20px"},className:"jsx-6a8cf0a2b017d302",children:(0,a.jsx)("button",{style:{fontSize:"16px",fontWeight:"bold",color:"white",background:"#4CAF50",border:"none",borderRadius:"5px",padding:"10px 20px",cursor:"pointer",transition:"all 0.3s ease",display:"block",width:"100%"},onClick:()=>{r(2)},className:"jsx-6a8cf0a2b017d302 nextButton",children:o("next")})})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("h1",{style:{fontSize:"24px",fontWeight:"bold",color:"lime",marginBottom:"10px"},className:"jsx-6a8cf0a2b017d302",children:[o("welcomeToWorldGuessr"),"!"]}),(0,a.jsxs)("p",{style:{fontSize:"16px",marginBottom:"5px"},className:"jsx-6a8cf0a2b017d302",children:["\uD83C\uDF93 ",o("info3")]}),(0,a.jsxs)("p",{style:{fontSize:"16px",marginBottom:"5px"},className:"jsx-6a8cf0a2b017d302",children:["\uD83C\uDF0D ",o("info4")]}),(0,a.jsx)("img",{src:"/tutorial2.png",alt:"Tutorial 2",style:{maxWidth:"100%",borderRadius:"10px"},className:"jsx-6a8cf0a2b017d302"}),(0,a.jsx)("div",{style:{marginTop:"20px"},className:"jsx-6a8cf0a2b017d302",children:(0,a.jsx)("button",{style:{fontSize:"16px",fontWeight:"bold",color:"white",background:"#4CAF50",border:"none",borderRadius:"5px",padding:"10px 20px",cursor:"pointer",transition:"all 0.3s ease",display:"block",width:"100%"},onClick:()=>{t()},className:"jsx-6a8cf0a2b017d302 letsGoButton",children:o("letsGo")})})]})}),(0,a.jsx)($,{id:"6a8cf0a2b017d302",children:".nextButton.jsx-6a8cf0a2b017d302:hover,.letsGoButton.jsx-6a8cf0a2b017d302:hover{background-color:#45a049;transform:scale(1.05)}"})]})}t(6689);var ek=t(858),eC=t(672),eD=t(3158);let eN=JSON.parse('["AR","AU","AT","BE","BR","BG","CA","CL","CO","CZ","DK","FI","FR","DE","GR","HU","IN","ID","IE","IL","IT","JP","KE","MY","MX","NL","NZ","NG","NO","PE","PH","PL","PT","RO","RU","ZA","ES","SE","CH","TH","TR","GB","US","BD","GH","SI","SK","LS","BT","LK","LT","LV","PA","ME","HR","SG","CY","NA","VN","KR","NP","BA","PY","CR"]'),e_=JSON.parse('[{"name":"Argentina","slug":"argentina","longDescription":"Explore Argentina in WorldGuessr! Spanning from subtropical Misiones to the glaciers of Tierra del Fuego, Argentina offers incredible geographic diversity. Navigate the endless Pampas grasslands, the arid Patagonian steppe, the towering Andes along the Chilean border, and the wine country of Mendoza. Learn to recognize the distinctive road signs, the European-influenced architecture of Buenos Aires, and the dramatic shifts in vegetation as you move through the country\'s vast north-south extent.","shortDescription":"From Pampas to Patagonia - conquer South America\'s second largest country!","maxDist":3720.101,"countryCode":"AR","extent":[-73.415436,-55.25,-53.65054,-21.83231]},{"name":"Australia","slug":"australia","longDescription":"Explore Australia in WorldGuessr! Master the world\'s sixth-largest country, from the tropical rainforests of Queensland to the red desert Outback and the temperate coasts of Victoria and Tasmania. Learn to distinguish states by road markings, vegetation zones, and distinctive bollard styles. Navigate the endless straight roads of the interior, the eucalyptus-lined highways, and the coastal cities. Australia\'s isolation has created unique landscapes found nowhere else on Earth.","shortDescription":"Master the island continent\'s diverse terrain and endless horizons!","maxDist":4600.556,"countryCode":"AU","extent":[113.338953,-43.634597,153.569469,-10.668185]},{"name":"Austria","slug":"austria","longDescription":"Explore Austria in WorldGuessr! A landlocked Alpine nation where dramatic mountain passes, glacier-fed valleys, and pristine lakes dominate the western regions, while the Danube plains stretch east toward Vienna. Recognize the distinctive Austrian road signs, traditional alpine chalets with wooden balconies, onion-domed church steeples, and immaculately maintained mountain villages. The contrast between the rugged Tyrolean Alps and the rolling vineyards of Burgenland makes Austria a rewarding geographic challenge.","shortDescription":"Navigate the Alps, Danube valley, and picture-perfect villages!","maxDist":577.829,"countryCode":"AT","extent":[9.530952,46.372276,16.979667,49.039074]},{"name":"Belgium","slug":"belgium","longDescription":"Explore Belgium in WorldGuessr! This densely populated crossroads of Europe features flat coastal polders in the north, the rolling Ardennes hills in the south, and some of Europe\'s most urbanized landscapes in between. Master the differences between Dutch-speaking Flanders and French-speaking Wallonia through signage and architecture. Spot the distinctive Belgian road infrastructure, medieval market squares with ornate guild houses, and the characteristic brick rowhouses that line countless streets.","shortDescription":"Decode Flanders and Wallonia in Europe\'s crossroads!","maxDist":344.702,"countryCode":"BE","extent":[2.513573,49.529484,6.156658,51.475024]},{"name":"Brazil","slug":"brazil","longDescription":"Explore Brazil in WorldGuessr! The world\'s fifth-largest country spans the Amazon rainforest, the dry Caatinga scrublands of the northeast, the vast Cerrado savanna, the Atlantic coastal mountains, and the subtropical grasslands of the south. Learn to identify regions by red laterite soil, distinctive palm species, Portuguese colonial architecture, and the transition from lush green tropics to temperate southern states. Brazil\'s scale means dramatic climate and vegetation changes as you move through this continental nation.","shortDescription":"From Amazon jungle to southern highlands - master Brazil\'s immense diversity!","maxDist":4670.419,"countryCode":"BR","extent":[-73.987235,-33.768378,-34.729993,5.244486]},{"name":"Bulgaria","slug":"bulgaria","longDescription":"Explore Bulgaria in WorldGuessr! Nestled in the Balkans between the Danube River and the Black Sea coast, Bulgaria features the dramatic Balkan Mountains bisecting the country, the fertile Thracian Plain, and the rugged Rhodope Mountains along the Greek border. Identify locations by Cyrillic signage, Ottoman-era mosques alongside Orthodox churches, communist-era apartment blocks, and the distinctive rose valleys that produce most of the world\'s rose oil. The Black Sea resorts contrast sharply with remote mountain villages.","shortDescription":"Navigate the Balkans from the Danube to the Black Sea!","maxDist":582.029,"countryCode":"BG","extent":[22.345023,41.238104,28.603526,44.228434]},{"name":"Canada","slug":"canada","longDescription":"Explore Canada in WorldGuessr! The world\'s second-largest country spans from the maritime provinces to the Pacific coast, through the boreal forests, prairies, and Arctic tundra. Master the differences between provinces through road signs, language (French in Quebec, English elsewhere), and landscape - from BC\'s mountains and rainforests to the flat Saskatchewan prairies to the rugged Canadian Shield. Canada\'s extreme seasonal variations and vast wilderness roads make every region a unique challenge.","shortDescription":"From Atlantic to Pacific - conquer the world\'s second largest country!","maxDist":5656.416,"countryCode":"CA","extent":[-141,41.676555,-52.619408,83.113881]},{"name":"Chile","slug":"chile","longDescription":"Explore Chile in WorldGuessr! This ribbon of a nation stretches 4,300 km along South America\'s Pacific coast, creating one of Earth\'s most geographically diverse countries. Navigate from the Mars-like Atacama Desert in the north (the world\'s driest), through Mediterranean central valleys with vineyards, to the lake districts, Patagonian fjords, and glacial south. The ever-present Andes to the east and Pacific to the west help orient you, while vegetation zones shift dramatically with latitude.","shortDescription":"Master the world\'s longest country from desert to glacier!","maxDist":4815.36,"countryCode":"CL","extent":[-75.644711,-55.61183,-66.95992,-17.507144]},{"name":"Colombia","slug":"colombia","longDescription":"Explore Colombia in WorldGuessr! Where the Andes split into three cordilleras, Colombia offers extraordinary topographic variety. Navigate from Caribbean beaches and lowland jungles to coffee-growing highlands, high-altitude p\xe1ramo grasslands, and the vast eastern Llanos plains. Learn to identify regions by the dramatic elevation changes, colonial Spanish architecture in highland cities, and the transition from tropical lowlands to cool mountain valleys. Colombia\'s position at South America\'s northwest corner creates unique biodiversity.","shortDescription":"Navigate three Andean ranges and two coastlines!","maxDist":2352.2,"countryCode":"CO","extent":[-79,-4.231687,-66.876325,12.437303]},{"name":"Cyprus","slug":"cyprus","longDescription":"Explore Cyprus in WorldGuessr! This Mediterranean island features the Troodos Mountains rising in the center, surrounded by coastal plains and rugged coastlines. Navigate between Greek Cypriot and Turkish Cypriot areas with their distinct signage and architecture. Spot British colonial influences in driving on the left, limestone villages with terracotta roofs, ancient olive groves, and the distinctive dry Mediterranean landscape. The mix of Greek, Turkish, and British heritage creates a unique geographic puzzle.","shortDescription":"Decode this Mediterranean crossroads of cultures!","maxDist":257.473,"countryCode":"CY","extent":[32.275,34.565,34.635,35.75]},{"name":"Czech Republic","slug":"czech-republic","longDescription":"Explore the Czech Republic in WorldGuessr! Landlocked in the heart of Europe, Czechia features the Bohemian Basin ringed by forested mountains, the Moravian highlands to the east, and a dense network of historic towns. Identify locations by distinctive red-roofed villages, baroque and gothic church spires, yellow road distance markers, and the characteristic Central European landscape of rolling farmland interspersed with dense forests. The well-preserved medieval architecture and orderly countryside make this a rewarding challenge.","shortDescription":"Navigate Bohemia and Moravia\'s castles and countryside!","maxDist":490.955,"countryCode":"CZ","extent":[12.09024,48.551808,18.859216,51.055703]},{"name":"Denmark","slug":"denmark","longDescription":"Explore Denmark in WorldGuessr! The flattest Scandinavian country consists of the Jutland peninsula and over 400 islands connected by impressive bridges. Navigate the gently rolling glacial moraines, extensive coastlines, and some of Europe\'s highest cycling infrastructure density. Identify Denmark by red-brick farmhouses, distinctive white-painted churches, meticulously maintained countryside, and the characteristic Scandinavian road design. Wind turbines dot the horizon across this renewable energy pioneer.","shortDescription":"Master Denmark\'s flat landscapes and island archipelago!","maxDist":518.274,"countryCode":"DK","extent":[8.089977,54.800014,15.151377,57.748417]},{"name":"Finland","slug":"finland","longDescription":"Explore Finland in WorldGuessr! The land of 188,000 lakes stretches from the Baltic archipelago to the Arctic tundra of Lapland. Navigate through endless boreal forests of pine, spruce, and birch, past countless lakes and bogs, and across the sparsely populated northern wilderness. Finnish-Swedish bilingual signage appears in coastal areas, while the distinctive wooden architecture, well-maintained gravel roads, and characteristic red-painted summer cottages help identify this Nordic nation.","shortDescription":"Navigate the land of lakes from Baltic coast to Arctic Lapland!","maxDist":1266.549,"countryCode":"FI","extent":[20.556335,59.846373,31.516092,70.092295]},{"name":"France","slug":"france","longDescription":"Explore France in WorldGuessr! Western Europe\'s largest country spans from the Channel coast to the Mediterranean, from Atlantic beaches to Alpine peaks. Master the regional diversity: Brittany\'s granite villages, Provence\'s terracotta and lavender, the volcanic Massif Central, Alsace\'s Germanic half-timbered houses, and the flat northern plains. France\'s distinctive road signage, plane tree-lined routes nationales, and varied architectural traditions make regional identification both challenging and rewarding.","shortDescription":"From Normandy to Provence - master France\'s legendary diversity!","maxDist":1400,"countryCode":"FR","extent":[-5.142222,41.333738,9.560016,51.124199]},{"name":"Germany","slug":"germany","longDescription":"Explore Germany in WorldGuessr! From the North Sea and Baltic coasts through the Central Uplands to the Bavarian Alps, Germany offers remarkable geographic variety. Learn to distinguish the 16 Bundesl\xe4nder by architecture - half-timbered houses in the center, brick Gothic in the north, alpine styles in Bavaria. Navigate the famous Autobahn network, identify the characteristic German road signage, and spot the contrast between historic city centers and efficient modern infrastructure.","shortDescription":"From Baltic beaches to Alpine peaks across 16 diverse states!","maxDist":906.917,"countryCode":"DE","extent":[5.866315,47.302487,15.041896,55.058142]},{"name":"Greece","slug":"greece","longDescription":"Explore Greece in WorldGuessr! A mountainous peninsula and thousands of islands where the Mediterranean, Aegean, and Ionian seas meet. Navigate from the rugged Pindus Mountains to the olive-covered Peloponnese, the volcanic Cyclades, and the forested north near the Balkans. Greek script on signs, whitewashed Cycladic architecture, Byzantine churches with terracotta domes, and the characteristic dry Mediterranean scrubland help identify this ancient land. Island-hopping adds an extra layer of challenge.","shortDescription":"Island-hop and mountain-climb through the cradle of civilization!","maxDist":1005.522,"countryCode":"GR","extent":[19.3736,34.802144,28.217753,41.748306]},{"name":"Hungary","slug":"hungary","longDescription":"Explore Hungary in WorldGuessr! Dominated by the Great Hungarian Plain (Alf\xf6ld), one of Europe\'s largest grasslands, with hills only in the north and west. The Danube and Tisza rivers divide the country into distinct regions. Navigate the flat agricultural expanses of the Puszta, the wine regions around Tokaj and Eger, and the rolling Transdanubian hills. Distinctive Hungarian signage, ornate village churches, and traditional whitewashed farmhouses with thatched roofs characterize the countryside.","shortDescription":"Master the Great Plain and Danube heartland of Central Europe!","maxDist":525.881,"countryCode":"HU","extent":[16.113889,45.737128,22.896748,48.585258]},{"name":"India","slug":"india","longDescription":"Explore India in WorldGuessr! From the Himalayan peaks of the north to the tropical coasts of Kerala, India\'s geography is staggering in scale and diversity. Navigate the Thar Desert of Rajasthan, the fertile Gangetic Plain, the Deccan Plateau, and the Western and Eastern Ghats. Each state has distinct scripts, architecture, and landscapes - from golden sandstone forts to Portuguese Goan churches to Dravidian temples. India\'s chaotic roads and multilingual signage create an unforgettable geographic challenge.","shortDescription":"From Himalayas to tropical coasts across a subcontinent of diversity!","maxDist":3828.242,"countryCode":"IN","extent":[68.111378,6.754892,97.395358,35.504475]},{"name":"Indonesia","slug":"indonesia","longDescription":"Explore Indonesia in WorldGuessr! The world\'s largest archipelago spans 5,000 km across 17,000 islands straddling the equator. Navigate from Sumatra\'s jungles and volcanic peaks through densely populated Java to the savannas of eastern islands and the rainforests of Papua. Each island group has distinct architecture, vegetation, and terrain. Learn to identify regions by mosque styles, volcanic cones, rice terrace patterns, and the distinctive Indonesian road signage amid tropical landscapes.","shortDescription":"Island-hop across the world\'s largest archipelago!","maxDist":5642.759,"countryCode":"ID","extent":[95.008,-11.005,141.007,6]},{"name":"Ireland","slug":"ireland","longDescription":"Explore Ireland in WorldGuessr! The Emerald Isle earns its name from the lush green pastures maintained by abundant Atlantic rainfall. Navigate the rugged western coastline with its dramatic cliffs, the boglands of the midlands, the gentle hills of the east, and the mountainous southwest. Irish-English bilingual signage, distinctive white-painted cottages, endless stone walls dividing green fields, and narrow hedgerow-lined roads define the landscape. The constant greenery and overcast skies create Ireland\'s unique atmosphere.","shortDescription":"Navigate the Emerald Isle\'s green fields and rugged Atlantic coast!","maxDist":570.923,"countryCode":"IE","extent":[-10.478097,51.447548,-6.032985,55.387635]},{"name":"Israel","slug":"israel","longDescription":"Explore Israel in WorldGuessr! Despite its small size, Israel packs remarkable geographic diversity - from the Mediterranean coast to the Negev Desert, the Galilee highlands to the Jordan Rift Valley and Dead Sea (Earth\'s lowest point). Navigate between lush northern forests, arid southern deserts, and the densely built coastal plain. Hebrew and Arabic signage, distinctive white limestone buildings, modern urban sprawl alongside ancient sites, and the dramatic desert-to-green transitions define this landscape.","shortDescription":"From Mediterranean coast to desert - explore compact geographic extremes!","maxDist":439.764,"countryCode":"IL","extent":[34.265433,29.501326,35.836396,33.277426]},{"name":"Italy","slug":"italy","longDescription":"Explore Italy in WorldGuessr! The boot-shaped peninsula stretches from the Alps to the Mediterranean, with the Apennine Mountains forming its spine. Navigate the industrial Po Valley, the Tuscan hill towns, the volcanic south, and the islands of Sicily and Sardinia. Each region has distinct architecture - from northern Alpine influences to southern Mediterranean styles. Cypress-lined roads, terracotta rooftops, historic stone villages, and the dramatic coastal Amalfi-style terrain make Italy endlessly varied.","shortDescription":"From the Alps to Sicily - master Italy\'s legendary landscapes!","maxDist":1317.252,"countryCode":"IT","extent":[6.627265,36.649647,18.520244,47.094649]},{"name":"Japan","slug":"japan","longDescription":"Explore Japan in WorldGuessr! An archipelago stretching from subarctic Hokkaido to subtropical Okinawa, Japan is 73% mountainous with population concentrated in coastal plains. Navigate the volcanic landscapes, dense urban sprawl of the Pacific coast, terraced rice paddies, and forested mountain interiors. Japanese script in three forms (kanji, hiragana, katakana), distinctive road infrastructure with abundant signage, temple gates, and the contrast between ultra-modern cities and traditional rural areas define this unique nation.","shortDescription":"From snowy Hokkaido to tropical Okinawa across 47 prefectures!","maxDist":3020.565,"countryCode":"JP","extent":[122.93457,24.396308,153.986672,45.551483]},{"name":"Kenya","slug":"kenya","longDescription":"Explore Kenya in WorldGuessr! Straddling the equator, Kenya features the dramatic Great Rift Valley cutting north-south, flanked by highlands including Mount Kenya. Navigate the iconic savanna grasslands of the Maasai Mara, the arid north, the Indian Ocean coastline, and the densely populated central highlands. Distinctive red laterite roads, acacia-dotted landscapes, British colonial-era left-hand driving, and the dramatic escarpments of the Rift Valley help orient you in this East African nation.","shortDescription":"Safari through the Great Rift Valley and iconic savannas!","maxDist":1208.97,"countryCode":"KE","extent":[33.908859,-4.67677,41.899975,4.6225]},{"name":"Malaysia","slug":"malaysia","longDescription":"Explore Malaysia in WorldGuessr! Split between Peninsular Malaysia and East Malaysia on Borneo, this tropical nation offers diverse challenges. Navigate palm oil plantations stretching to the horizon, ancient rainforests, limestone karst landscapes, and bustling multicultural cities. Malay, Chinese, Tamil, and English signage reflect the diverse population. Left-hand driving from British colonial days, distinctive mosque architecture, and the contrast between developed west coast and rural east coast define the peninsula.","shortDescription":"From peninsula to Borneo - explore tropical diversity!","maxDist":2239.742,"countryCode":"MY","extent":[99.6433,0.8554,119.5108,7.3634]},{"name":"Mexico","slug":"mexico","longDescription":"Explore Mexico in WorldGuessr! From the Sonoran Desert to the Yucat\xe1n jungle, Mexico spans coastal lowlands, volcanic highlands, and the vast central plateau. Navigate the Sierra Madre mountain ranges, the cactus-studded north, the colonial silver cities, and tropical coasts on both oceans. Distinctive speed bumps (topes), Spanish colonial architecture with bright colors, agave fields, and the transition from arid north to lush south help identify regions in this geographically complex nation.","shortDescription":"From deserts to jungles across two Sierra Madre ranges!","maxDist":3493.148,"countryCode":"MX","extent":[-118.404,14.538,-86.703,32.718]},{"name":"Netherlands","slug":"netherlands","longDescription":"Explore the Netherlands in WorldGuessr! One of the world\'s flattest and most densely populated countries, where much of the land lies below sea level protected by dikes. Navigate the intricate canal systems, reclaimed polders, endless cycling infrastructure, and orderly urban planning. Distinctive Dutch brick architecture, characteristic church steeples, greenhouse complexes, and the remarkably flat horizon punctuated by wind turbines define this water-managed landscape. Every centimeter of land is purposefully used.","shortDescription":"Master the Low Countries\' canals, polders, and cycling paths!","maxDist":300,"countryCode":"NL","extent":[3.314971,50.803721,7.092053,53.510403]},{"name":"New Zealand","slug":"new-zealand","longDescription":"Explore New Zealand in WorldGuessr! The North Island features volcanic plateaus, geothermal areas, and rolling green farmland, while the South Island boasts the dramatic Southern Alps, fjords, and glaciers. Navigate between these contrasting islands, identifying regions by vegetation, terrain, and the unique flora found nowhere else on Earth. British-influenced left-hand driving, distinctive road signs, silver fern symbols, and the ever-present sheep pastures help orient you in Aotearoa.","shortDescription":"From volcanic North to alpine South - conquer Middle-earth!","maxDist":2473.615,"countryCode":"NZ","extent":[166.509144,-47.271812,178.517094,-34.4507]},{"name":"Nigeria","slug":"nigeria","longDescription":"Explore Nigeria in WorldGuessr! Africa\'s most populous nation spans from the Sahel savanna in the north to the tropical rainforests and Niger Delta mangroves in the south. Navigate the contrast between the arid, dusty north with its mud-brick architecture and the lush, humid south. The Jos Plateau rises in the center. Chaotic urban traffic, colorful market scenes, distinctive yellow buses in Lagos, and British colonial-era left-hand driving help identify locations in this diverse nation.","shortDescription":"From Sahel to rainforest across Africa\'s giant!","maxDist":1470.5,"countryCode":"NG","extent":[3.3375,4.2775,14.6775,13.8925]},{"name":"Norway","slug":"norway","longDescription":"Explore Norway in WorldGuessr! A long, narrow country hugging the Scandinavian coast, dominated by mountains, fjords, and Arctic tundra. Navigate from the relatively flat southern farmland through the dramatic western fjords to the treeless northern reaches above the Arctic Circle. Identify regions by vegetation zones, distinctive wooden stave churches, red-painted houses, tunnels carved through mountains, and the characteristic Norwegian road design. The midnight sun and polar night create unique lighting conditions.","shortDescription":"Master the fjords from temperate south to Arctic north!","maxDist":1942.584,"countryCode":"NO","extent":[4.630834,57.9775,31.078056,71.188333]},{"name":"Peru","slug":"peru","longDescription":"Explore Peru in WorldGuessr! Three distinct regions define Peru: the arid coastal desert strip, the towering Andes with peaks over 6,000 meters, and the Amazon rainforest covering the eastern lowlands. Navigate from Pacific beaches through mountain passes to jungle rivers. The dramatic elevation changes create wildly different climates and vegetation within short distances. Colonial Spanish architecture, Incan stonework, distinctive Andean adobe villages, and mototaxi-filled towns help identify your location.","shortDescription":"From Pacific desert to Amazon jungle across the Andes!","maxDist":2114.034,"countryCode":"PE","extent":[-81.326,-18.349,-68.673,-0.038]},{"name":"Philippines","slug":"philippines","longDescription":"Explore the Philippines in WorldGuessr! Over 7,600 islands span this tropical archipelago from Luzon in the north to Mindanao in the south. Navigate volcanic mountains, terraced rice paddies carved by hand over millennia, coconut palm coastlines, and dense urban areas with characteristic jeepneys. Filipino and English bilingual signage, Spanish colonial churches, distinctive tricycle transport, and the varied island geography from mountainous Cordillera to flat Visayan islands make this a rewarding challenge.","shortDescription":"Island-hop through 7,600 tropical islands!","maxDist":1976.332,"countryCode":"PH","extent":[116.928,4.64,126.6,21.1]},{"name":"Poland","slug":"poland","longDescription":"Explore Poland in WorldGuessr! A mostly flat country on the North European Plain, rising to the Carpathian and Sudeten mountains in the south. Navigate the Baltic coast, the lake-dotted Masurian region, vast agricultural plains, and primeval forests like Białowieża. Polish road signs with distinctive formatting, red-brick Gothic churches, communist-era apartment blocks, and traditional wooden villages in the highlands help identify regions. Poland\'s position between East and West Europe shows in its varied architecture.","shortDescription":"From Baltic coast to Carpathian peaks across the great plain!","maxDist":827.137,"countryCode":"PL","extent":[14.122592,49.002494,24.145815,54.836582]},{"name":"Portugal","slug":"portugal","longDescription":"Explore Portugal in WorldGuessr! On the Iberian Peninsula\'s Atlantic edge, Portugal ranges from the green, rainy Minho region in the north to the sun-baked Algarve in the south, plus the volcanic Azores and Madeira islands. Navigate the terraced Douro wine valley, cork oak forests of the Alentejo, and the rugged Atlantic coastline. Distinctive blue-and-white azulejo tiles, whitewashed buildings with terracotta roofs, and Portuguese road signage help identify this compact but diverse nation.","shortDescription":"From green Minho to sunny Algarve along the Atlantic edge!","maxDist":1837.279,"countryCode":"PT","extent":[-31.266667,32.638889,-6.189167,42.154167]},{"name":"Romania","slug":"romania","longDescription":"Explore Romania in WorldGuessr! The Carpathian Mountains arc through the country\'s center, dividing Transylvania\'s plateau from the surrounding lowlands and the Black Sea coast. Navigate from the Danube Delta\'s wetlands to forested mountain passes and the agricultural plains of Wallachia. Distinctive painted monasteries in Bukovina, fortified Saxon churches in Transylvania, traditional hay meadows, and horse-drawn carts on rural roads help identify regions in this land of dramatic geographic contrasts.","shortDescription":"From the Danube Delta to Carpathian peaks through Transylvania!","maxDist":770.108,"countryCode":"RO","extent":[20.261111,43.6275,29.691111,48.265]},{"name":"Russia","slug":"russia","longDescription":"Explore Russia in WorldGuessr! The world\'s largest country spans 11 time zones, from European cities to Siberian wilderness to Pacific coasts. Navigate the endless taiga forests, Arctic tundra, steppe grasslands, and the Ural Mountains dividing Europe from Asia. Cyrillic signage, distinctive Soviet-era architecture, onion-domed Orthodox churches, and vast empty roads through birch forests define the landscape. Russia\'s scale means climate and vegetation zones shift dramatically from subtropical Black Sea to frozen Arctic.","shortDescription":"Conquer 11 time zones from European Russia to the Pacific!","maxDist":8224.333,"countryCode":"RU","extent":[19.638306,41.185219,169.05,81.8575]},{"name":"South Africa","slug":"south-africa","longDescription":"Explore South Africa in WorldGuessr! From the Drakensberg escarpment to the Kalahari semi-desert, Cape fynbos shrubland to subtropical KwaZulu-Natal, South Africa offers remarkable diversity. Navigate the high interior plateau (highveld), the dry Karoo, wine country around the Cape, and the Indian Ocean coast. British colonial-era left-hand driving, distinctive township layouts, Afrikaans-English bilingual signage, and the contrast between developed infrastructure and rural areas help identify regions.","shortDescription":"From the Cape to the Drakensberg across the Rainbow Nation!","maxDist":1905.569,"countryCode":"ZA","extent":[16.344976,-34.8335,32.891667,-22.125069]},{"name":"South Korea","slug":"south-korea","longDescription":"Explore South Korea in WorldGuessr! A mountainous peninsula where 70% of the terrain is uplands, forcing population into river valleys and coastal plains. Navigate from the volcanic island of Jeju to the demilitarized zone near the north, through forested mountains and the dense Seoul metropolitan area. Korean Hangul script, distinctive apartment tower complexes, well-maintained highways with excellent signage, Buddhist temples, and the contrast between ultra-modern cities and traditional rural villages define this nation.","shortDescription":"From volcanic Jeju to mountainous mainland - decode Hangul!","maxDist":683,"countryCode":"KR","extent":[124.6137,33.0041,131.8725,38.6125]},{"name":"Spain","slug":"spain","longDescription":"Explore Spain in WorldGuessr! The Iberian Peninsula\'s largest country features the high central Meseta plateau, surrounded by mountain ranges and coastal lowlands. Navigate from the green, rainy Basque Country and Galicia to the arid plains of Castile, the Mediterranean coast, and the Canary Islands off Africa. Regional languages (Catalan, Basque, Galician) appear on signage in their territories. Distinctive architecture varies from northern stone houses to southern whitewashed pueblos blancos to Moorish influences in Andalusia.","shortDescription":"From Atlantic Galicia to Mediterranean coasts to the Canary Islands!","maxDist":2607.001,"countryCode":"ES","extent":[-18.1675,27.6375,4.3275,43.791667]},{"name":"Sweden","slug":"sweden","longDescription":"Explore Sweden in WorldGuessr! Scandinavia\'s largest country stretches from the agricultural south to the Arctic tundra of Lapland. Navigate through dense boreal forests, around countless lakes, past the dramatic Scandinavian Mountains along the Norwegian border, and through the island-studded archipelagos. Distinctive Swedish red-painted wooden houses (falur\xf6d), yellow road distance markers, well-maintained forest roads, and the characteristic Nordic infrastructure help identify locations across this elongated nation.","shortDescription":"From fertile south to Arctic Lapland through endless forests!","maxDist":1592.015,"countryCode":"SE","extent":[11.1475,55.34,24.1675,69.06]},{"name":"Switzerland","slug":"switzerland","longDescription":"Explore Switzerland in WorldGuessr! A landlocked Alpine nation where the dramatic Alps dominate the south, the Jura Mountains line the northwest, and the densely populated Swiss Plateau lies between. Navigate glacier-carved valleys, pristine mountain lakes, and immaculately maintained villages. Four official languages (German, French, Italian, Romansch) create distinct regional character. Distinctive Swiss road design, characteristic wooden chalets with flower boxes, and the orderly precision visible everywhere help identify locations.","shortDescription":"Master the Alps, Jura, and Swiss Plateau in four languages!","maxDist":358.077,"countryCode":"CH","extent":[5.955,45.8175,10.491667,47.808333]},{"name":"Thailand","slug":"thailand","longDescription":"Explore Thailand in WorldGuessr! From the mountainous north near the Golden Triangle to the tropical southern peninsula between two seas, Thailand offers diverse landscapes. Navigate the flat central Chao Phraya rice plains, the arid Khorat Plateau of Isan in the northeast, and the limestone karst islands of the Andaman coast. Thai script signage, ornate Buddhist temples with distinctive spires, tropical vegetation, and the characteristic Thai road infrastructure with distance markers in kilometers help identify regions.","shortDescription":"From northern mountains to tropical islands across the Land of Smiles!","maxDist":1657.708,"countryCode":"TH","extent":[97.345,5.61,105.639,20.464]},{"name":"Turkey","slug":"turkey","longDescription":"Explore Turkey in WorldGuessr! Bridging Europe and Asia across the Bosphorus, Turkey spans Mediterranean coasts, the high Anatolian plateau, and the mountainous east. Navigate the rugged Black Sea coast, the fairy chimneys of Cappadocia, the agricultural Aegean lowlands, and the remote eastern highlands near Mount Ararat. Turkish signage in Latin script, distinctive mosque minarets, tea gardens, and the dramatic transition from green western regions to the arid interior help identify locations in this transcontinental nation.","shortDescription":"Bridge Europe and Asia from Mediterranean to the Armenian highlands!","maxDist":1696.647,"countryCode":"TR","extent":[25.668056,35.808333,44.793056,42.1075]},{"name":"United Kingdom","slug":"united-kingdom","longDescription":"Explore the United Kingdom in WorldGuessr! Four nations with distinct geography: England\'s rolling downs and industrial midlands, Scotland\'s dramatic Highlands and islands, Wales\'s rugged mountains and valleys, and Northern Ireland\'s drumlin-studded landscape. Navigate through green patchwork farmland, stone-walled moors, and dense urban areas. Left-hand driving, distinctive British road markings, Welsh bilingual signage, Scottish Gaelic in the Highlands, and varied regional architecture from Tudor to Victorian help identify locations.","shortDescription":"Master England, Scotland, Wales, and Northern Ireland!","maxDist":1400,"countryCode":"GB","extent":[-8.6175,49.959999,1.749444,60.845001]},{"name":"United States","slug":"united-states","longDescription":"Explore the United States in WorldGuessr! From Atlantic to Pacific, navigate the Appalachian forests, Great Plains prairies, Rocky Mountain peaks, southwestern deserts, and Pacific coast ranges. Each of the 50 states has distinctive road signs, license plates, and landscapes. Master regional clues: New England stone walls, Midwest corn fields, Southern pine forests, Texas rangelands, and California\'s diverse terrain. America\'s scale and variety make state-level identification both challenging and rewarding.","shortDescription":"Coast to coast across 50 states of geographic diversity!","maxDist":6000,"countryCode":"US","extent":[-124.848974,24.396308,-66.885444,49.384358]},{"name":"Bangladesh","slug":"bangladesh","longDescription":"Explore Bangladesh in WorldGuessr! One of the world\'s most densely populated countries, defined by the vast Ganges-Brahmaputra river delta. Navigate endless flat plains crisscrossed by rivers, the Sundarbans mangrove forest, the hilly Chittagong region in the southeast, and densely packed villages everywhere. Bengali script signage, distinctive colorful rickshaws, brick houses raised above flood levels, and the omnipresent water - rivers, ponds, and rice paddies - characterize this riverine nation.","shortDescription":"Navigate the world\'s largest river delta!","maxDist":809.854,"countryCode":"BD","extent":[88.028,20.743,92.673,26.631]},{"name":"Ghana","slug":"ghana","longDescription":"Explore Ghana in WorldGuessr! Centered on the Gulf of Guinea coast, Ghana transitions from the tropical rainforest south to the savanna-covered north. Navigate the cocoa-growing forest zone, the vast Lake Volta reservoir, and the drier northern regions. Red laterite roads, colonial-era architecture from the British Gold Coast period, distinctive colorful signage, tro-tro minibuses, and the contrast between the humid coast and the dry northern interior help identify locations in this West African nation.","shortDescription":"From Atlantic coast to northern savanna across the Gold Coast!","maxDist":854.901,"countryCode":"GH","extent":[-3.255,4.736,1.199,11.173]},{"name":"Slovenia","slug":"slovenia","longDescription":"Explore Slovenia in WorldGuessr! This compact Alpine-Mediterranean nation packs remarkable diversity into a small area. Navigate from the Julian Alps and glacier-carved valleys to the Karst limestone plateau, the Pannonian plains in the east, and a brief Adriatic coastline. Distinctive hayracks (kozolci) dot the countryside, alpine villages feature characteristic church steeples, and well-maintained roads wind through forested mountains. Slovenia sits at the crossroads of Germanic, Slavic, and Mediterranean influences.","shortDescription":"Alpine peaks to Adriatic coast in one compact nation!","maxDist":262.014,"countryCode":"SI","extent":[13.375,45.421,16.6,46.876]},{"name":"Slovakia","slug":"slovakia","longDescription":"Explore Slovakia in WorldGuessr! A landlocked Central European country dominated by the Carpathian Mountains, with the dramatic High Tatras forming the backbone. Navigate from the Danube lowlands near Bratislava through forested mountain ranges to the eastern valleys. Distinctive wooden folk churches in the east, medieval castle ruins on hilltops, Slovak road signage with characteristic formatting, and traditional mountain villages with timber architecture help identify regions across this mountainous nation.","shortDescription":"From the Danube to the High Tatras through the Carpathians!","maxDist":427.884,"countryCode":"SK","extent":[16.833,47.758,22.558,49.603]},{"name":"Lesotho","slug":"lesotho","longDescription":"Explore Lesotho in WorldGuessr! The \'Kingdom in the Sky\' is the only country entirely above 1,000 meters, landlocked within South Africa. Navigate the rugged Maluti Mountains, high-altitude grasslands, and dramatic Drakensberg escarpment. This highland nation features winding mountain roads, traditional rondavel huts with thatched roofs, Basotho blankets worn by locals, and sparse vegetation on windswept peaks. The challenging mountain terrain and distinctive Basotho culture set Lesotho apart from its surrounding neighbor.","shortDescription":"Conquer Africa\'s mountain kingdom entirely above 1,000 meters!","maxDist":242.916,"countryCode":"LS","extent":[27.011,-30.659,29.455,-28.57]},{"name":"Bhutan","slug":"bhutan","longDescription":"Explore Bhutan in WorldGuessr! The \'Land of the Thunder Dragon\' rises from subtropical southern plains to Himalayan peaks over 7,000 meters. Navigate the steep, winding mountain roads through deep valleys, past Buddhist dzong fortresses, and around prayer flag-adorned passes. Traditional Bhutanese architecture with distinctive whitewashed walls and ornate wooden details is mandated by law, creating a uniquely consistent visual landscape. Dense forests, terraced fields, and dramatic elevation changes define this isolated kingdom.","shortDescription":"Navigate the Himalayan kingdom of Gross National Happiness!","maxDist":50.05,"countryCode":"BT","extent":[88.745,26.702,92.125,28.325]},{"name":"Sri Lanka","slug":"sri-lanka","longDescription":"Explore Sri Lanka in WorldGuessr! This teardrop-shaped island south of India features a mountainous central highlands surrounded by coastal plains. Navigate the famous tea plantations of the hill country, tropical beaches, ancient Buddhist ruins, and the dry zone of the north. Sinhala and Tamil bilingual signage, British colonial-era left-hand driving, distinctive Buddhist stupas and Hindu kovils, and the contrast between the wet southwest and dry north help identify locations on this compact but diverse island.","shortDescription":"From tea highlands to tropical beaches on the teardrop island!","maxDist":505.193,"countryCode":"LK","extent":[79.652,5.917,81.88,9.835]},{"name":"Lithuania","slug":"lithuania","longDescription":"Explore Lithuania in WorldGuessr! The southernmost and largest Baltic state features a landscape of gentle hills, extensive forests, and thousands of lakes. Navigate from the unique Curonian Spit sand dunes to the medieval old town of Vilnius, through rolling agricultural plains and dense pine forests. Lithuanian language signage with distinctive diacritical marks, characteristic wooden village architecture, Soviet-era collective farm remnants, and Catholic church steeples help identify locations in this Baltic nation.","shortDescription":"From the Curonian Spit to Vilnius across the Baltic landscape!","maxDist":395.23,"countryCode":"LT","extent":[20.941,53.896,26.835,56.452]},{"name":"Latvia","slug":"latvia","longDescription":"Explore Latvia in WorldGuessr! The central Baltic state features a flat to gently rolling landscape of forests, lakes, and the wide Gulf of Riga coastline. Navigate the Art Nouveau architecture of Riga, sandy Baltic beaches, and the forested interior dotted with lakes and bogs. Latvian language signage, distinctive red-brick medieval churches, wooden fishing villages, and the characteristic Northern European landscape of birch and pine forests help identify locations in this compact Baltic nation.","shortDescription":"From Riga\'s Art Nouveau to Baltic beaches and forest lakes!","maxDist":532.265,"countryCode":"LV","extent":[20.974,55.675,28.241,58.085]},{"name":"Panama","slug":"panama","longDescription":"Explore Panama in WorldGuessr! The isthmus connecting North and South America features the continental divide, dense rainforests, and coastlines on both the Caribbean and Pacific. Navigate from the modern Panama City skyline to indigenous Guna Yala territories, through the Canal Zone and the mountainous Chiriqu\xed highlands. The unique geography where two continents meet creates diverse microclimates. Spanish signage, tropical vegetation, and the ever-present influence of the Canal help identify locations.","shortDescription":"Bridge two continents and two oceans at the famous Canal!","maxDist":655.405,"countryCode":"PA","extent":[-83.051,7.206,-77.174,9.634]},{"name":"Montenegro","slug":"montenegro","longDescription":"Explore Montenegro in WorldGuessr! The \'Black Mountain\' lives up to its name with dramatic peaks plunging into the Adriatic. Navigate the stunning Bay of Kotor (Europe\'s southernmost fjord), the rugged Durmitor Mountains, glacial lakes, and the narrow coastal strip. Venetian-influenced stone architecture on the coast contrasts with Ottoman influences inland. Cyrillic and Latin script appear on signs, and the dramatic topography means winding mountain roads with spectacular views around every turn.","shortDescription":"From Adriatic fjords to mountain peaks in the Black Mountain!","maxDist":193.061,"countryCode":"ME","extent":[18.433,41.848,20.358,43.558]},{"name":"Croatia","slug":"croatia","longDescription":"Explore Croatia in WorldGuessr! This crescent-shaped country wraps around Bosnia with an extensive Adriatic coastline of over 1,000 islands. Navigate from the flat Pannonian plains in the east through the Dinaric Alps to the dramatic Dalmatian coast. Venetian stone architecture dominates coastal towns, while continental Croatia shows Central European influences. The distinctive Croatian checkerboard pattern, terracotta rooftops, limestone karst landscapes, and Mediterranean cypress trees help identify locations.","shortDescription":"From Pannonian plains to Dalmatian islands along the Adriatic!","maxDist":537.169,"countryCode":"HR","extent":[13.493,42.393,19.426,46.554]},{"name":"Singapore","slug":"singapore","longDescription":"Explore Singapore in WorldGuessr! This tiny island city-state packs incredible density into its limited space. Navigate from gleaming Marina Bay skyscrapers to colonial-era shophouses, public housing estates (HDB flats), and preserved nature reserves. English, Chinese, Malay, and Tamil signage reflect the multicultural population. Left-hand driving from British colonial days, distinctive public housing architecture, tropical vegetation, and the unique blend of modern towers and heritage neighborhoods define this urban maze.","shortDescription":"Decode the layers of this ultra-modern city-state!","maxDist":63.278,"countryCode":"SG","extent":[103.638,1.257,104.082,1.47]},{"name":"Namibia","slug":"namibia","longDescription":"Explore Namibia in WorldGuessr! One of Africa\'s least densely populated countries, dominated by the ancient Namib Desert along the Atlantic coast, the Kalahari in the east, and the central highlands between. Navigate endless gravel roads through otherworldly landscapes of red dunes, salt pans, and dramatic canyons. German colonial architecture in Windhoek and Swakopmund, distinctive road signage in English and Afrikaans, and the stark beauty of the Skeleton Coast define this arid nation.","shortDescription":"Navigate ancient deserts and endless horizons in Africa\'s empty quarter!","maxDist":1522.395,"countryCode":"NA","extent":[11.654,-29.268,25.037,-17.128]},{"name":"Vietnam","slug":"vietnam","longDescription":"Explore Vietnam in WorldGuessr! This S-shaped country stretches 1,650 km along the South China Sea, from the Chinese border to the Mekong Delta. Navigate the limestone karsts of the north, the narrow central highlands along the Annamite Range, and the flat rice paddies of the southern delta. Vietnamese script with distinctive diacritics, French colonial architecture, dense motorbike traffic, terraced rice fields, and the dramatic contrast between mountainous north and flat south help identify regions.","shortDescription":"From Ha Long Bay to the Mekong Delta along the S-curve!","maxDist":1800.49,"countryCode":"VN","extent":[102.144,8.343,109.455,23.392]},{"name":"Nepal","slug":"nepal","longDescription":"Explore Nepal in WorldGuessr! Navigate the dramatic elevation changes from the subtropical Terai lowlands to the world\'s highest peaks in the Himalayas. Identify locations by the terraced hillsides carved into steep mountain slopes, winding mountain roads with hairpin turns, distinctive Newari architecture in the Kathmandu Valley, and prayer flags fluttering against snowy backdrops. Challenge yourself with Nepal\'s diverse geography spanning 8 of the world\'s 14 highest mountains.","shortDescription":"From Terai plains to Everest - master Nepal\'s extreme terrain!","maxDist":885.5,"countryCode":"NP","extent":[80.058,26.347,88.201,30.447]},{"name":"Bosnia and Herzegovina","slug":"bosnia-and-herzegovina","longDescription":"Explore Bosnia and Herzegovina in WorldGuessr! Navigate the rugged Dinaric Alps that dominate the landscape, the turquoise rivers cutting through deep limestone gorges, and the narrow coastal strip near Neum on the Adriatic. Learn to spot the distinctive mix of Ottoman minarets and Austro-Hungarian facades, red-roofed villages nestled in forested valleys, and the unique road infrastructure winding through mountainous terrain. A fascinating Balkan challenge where Central European and Mediterranean influences collide.","shortDescription":"Master the Dinaric Alps and Balkan crossroads!","maxDist":329.8,"countryCode":"BA","extent":[15.718,42.558,19.622,45.276]},{"name":"Paraguay","slug":"paraguay","longDescription":"Explore Paraguay in WorldGuessr! This landlocked heart of South America is divided by the Paraguay River into two distinct regions: the eastern Paran\xe1 Plateau with rolling hills, forests, and most of the population, and the western Gran Chaco - a vast, flat, semi-arid wilderness of scrub and cattle ranches. Navigate red dirt roads, Jesuit mission ruins, Mennonite colonies in the Chaco, and the contrast between humid eastern forests and the dry western plains. Guaran\xed-Spanish bilingual signage reflects the indigenous heritage.","shortDescription":"Discover the landlocked heart of South America from forest to Chaco!","maxDist":682.4,"countryCode":"PY","extent":[-62.638,-27.588,-54.259,-19.294]},{"name":"Costa Rica","slug":"costa-rica","longDescription":"Explore Costa Rica in WorldGuessr! A narrow country with coastlines on both the Pacific and Caribbean, bisected by volcanic mountain ranges. Navigate from misty cloud forests and active volcanoes to lowland rainforests and tropical beaches. The dramatic topography creates diverse microclimates within short distances. Identify locations by the lush vegetation, distinctive road infrastructure without street addresses, coffee plantations on mountain slopes, and the contrast between the drier Pacific northwest and the wet Caribbean lowlands.","shortDescription":"Two coasts, volcanoes, and cloud forests in a compact paradise!","maxDist":464.2,"countryCode":"CR","extent":[-85.95,8.032,-82.555,11.217]}]');function eA(e){let{shown:n,setOpen:t}=e,{t:o}=(0,f.B)("common");return(0,a.jsxs)(R.a,{id:"signUpModal",styles:{modal:{zIndex:100,background:"#333",color:"white",padding:"20px",borderRadius:"10px",fontFamily:"'Arial', sans-serif",maxWidth:"500px",textAlign:"center"}},open:n,center:!0,onClose:()=>{W.setItem("shownDiscordModal",Date.now().toString()),t(!1)},children:[(0,a.jsx)("h2",{children:o("joinDiscord")}),(0,a.jsx)("p",{children:o("joinDiscordDesc")}),(0,a.jsx)("iframe",{src:"https://discord.com/widget?id=1229957469116301412&theme=dark",width:"350",height:"350",allowtransparency:"true",frameborder:"0",sandbox:"allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts"}),(0,a.jsx)("br",{}),(0,a.jsx)("button",{onClick:()=>{W.setItem("shownDiscordModal",Date.now().toString()),t(!1)},style:{background:"transparent",color:"white",padding:"10px 20px",borderRadius:"5px",border:"1px solid white",cursor:"pointer",fontSize:"16px",fontWeight:"bold",marginTop:"20px",marginLeft:"20px"},children:o("notNow")})]})}var eE=t(6895);function eG(e){let{isOpen:n,onClose:t,title:o,message:i,type:s="info",buttonText:r,children:l}=e,{t:d}=(0,f.B)("common"),c=(0,a.jsx)("button",{onClick:t,children:r||d("ok")||"OK"});return(0,a.jsx)(eE.A,{isOpen:n,onClose:t,title:o||(e=>{switch(e){case"success":return d("success")||"Success";case"error":return d("error")||"Error";case"warning":return d("warning")||"Warning";default:return d("info")||"Information"}})(s),variant:(e=>{switch(e){case"error":return"error";case"warning":return"warning";default:return"default"}})(s),actions:c,children:(0,a.jsxs)("div",{style:{textAlign:"center"},children:[i&&(0,a.jsx)("div",{style:{fontSize:"16px",lineHeight:"1.5",margin:"0",color:"rgba(255, 255, 255, 0.9)",whiteSpace:"pre-line"},children:i}),l]})})}function eM(e,n){let t=e.split(".").map(Number),a=n.split(".").map(Number);for(let e=0;e<3;e++){if((t[e]||0)>(a[e]||0))return!0;if((t[e]||0)<(a[e]||0))break}return!1}function eT(e){var n;let{changelog:t,text:o}=e,[s,r]=(0,i.useState)(!1),[l,d]=(0,i.useState)(null),{data:u}=(0,c.wV)();(0,i.useEffect)(()=>{if(t&&0!==t.length){if(!u||!1===u)return void console.log("User not logged in, skipping changelog modal");(()=>{try{let e=localStorage.getItem("lastVersion"),n=(e=>{if(!e||0===e.length)return null;let n=e[0];for(let t=1;t<e.length;t++)eM(e[t].version,n.version)&&(n=e[t]);return n})(t);if(console.log("Stored version:",e),console.log("Latest version:",null==n?void 0:n.version),!n)return;if(d(n),!e){localStorage.setItem("lastVersion",n.version),console.log("First time user, setting version without modal");return}eM(n.version,e)?(console.log("Showing modal for version update"),d(n),r(!0)):console.log("User is on latest version, no modal needed")}catch(e){console.error("Error checking version:",e)}})()}},[t,u]);let p=()=>{r(!1),l&&localStorage.setItem("lastVersion",l.version)};if(!l)return null;let m=(0,a.jsx)("button",{onClick:p,children:o("ok")});return(0,a.jsx)(eE.A,{isOpen:s,onClose:p,title:"What's New!",actions:m,variant:"default",children:(0,a.jsxs)("div",{style:{color:"rgba(255, 255, 255, 0.9)",lineHeight:"1.2"},children:[l.date&&(0,a.jsxs)("div",{style:{fontSize:"14px",color:"rgba(255, 255, 255, 0.6)",marginBottom:"16px",fontStyle:"italic"},children:[l.version," Released on ",l.date]}),(0,a.jsx)("div",{dangerouslySetInnerHTML:{__html:(n=l.change)?n.replace(/### (.*$)/gim,'<h3 style="color: #4CAF50; margin: 16px 0 8px 0; font-size: 1.1rem;">$1</h3>').replace(/## (.*$)/gim,'<h2 style="color: #4CAF50; margin: 20px 0 10px 0; font-size: 1.3rem;">$1</h2>').replace(/# (.*$)/gim,'<h1 style="color: #4CAF50; margin: 24px 0 12px 0; font-size: 1.5rem;">$1</h1>').replace(/\*\*(.*?)\*\*/g,'<strong style="color: #fff; font-weight: 600;">$1</strong>').replace(/\[([^\]]+)\]\(([^)]+)\)/gim,'<a href="$2" target="_blank" style="color: #4CAF50; text-decoration: underline;">$1</a>').replace(/\n\n/g,'</p><p style="margin: 8px 0;">').replace(/\n/g,'<br style="line-height: 1.2;">').replace(/^/,'<p style="margin: 8px 0;">').replace(/$/,"</p>"):""},style:{fontSize:"15px"}}),l.postedBy&&(0,a.jsxs)("div",{style:{fontSize:"13px",color:"rgba(255, 255, 255, 0.5)",marginTop:"20px",textAlign:"right",fontStyle:"italic"},children:["— ",l.postedBy]})]})})}function eR(e){let{isOpen:n,onClose:t}=e;return(0,a.jsxs)(R.a,{open:n,onClose:t,center:!0,showCloseIcon:!1,classNames:{modal:"mapguessr-modal",modalContainer:"mapguessr-modal-container"},styles:{modal:{padding:0,margin:0,maxWidth:"100vw",maxHeight:"100vh",width:"100vw",height:"100vh",background:"#000",borderRadius:0,overflow:"hidden"},modalContainer:{padding:0}},animationDuration:300,closeOnEsc:!0,closeOnOverlayClick:!1,children:[(0,a.jsxs)("div",{className:"jsx-d3cc6a1274916bad mapguessr-container",children:[(0,a.jsx)("div",{className:"jsx-d3cc6a1274916bad mapguessr-header",children:(0,a.jsxs)("div",{className:"jsx-d3cc6a1274916bad mapguessr-title-section",children:[(0,a.jsx)("button",{onClick:t,"aria-label":"Close MapGuessr",className:"jsx-d3cc6a1274916bad mapguessr-close-btn",children:"✕"}),(0,a.jsx)("h1",{className:"jsx-d3cc6a1274916bad mapguessr-title",children:"MapGuessr"})]})}),(0,a.jsx)("div",{className:"jsx-d3cc6a1274916bad mapguessr-iframe-container",children:(0,a.jsx)("iframe",{src:"https://mapguessr.worldguessr.com",title:"MapGuessr",frameBorder:"0",allowFullScreen:!0,allow:"geolocation; microphone; camera; fullscreen",sandbox:"allow-same-origin allow-scripts allow-popups allow-forms allow-modals allow-presentation",className:"jsx-d3cc6a1274916bad mapguessr-iframe"})})]}),(0,a.jsx)($,{id:"d3cc6a1274916bad",children:".mapguessr-container.jsx-d3cc6a1274916bad{width:100vw;height:100vh;display:flex;flex-direction:column;background:#000;position:relative;font-family:inherit}.mapguessr-header.jsx-d3cc6a1274916bad{display:flex;align-items:center;padding:15px 20px;background:rgba(0,0,0,.95);backdrop-filter:blur(10px);border-bottom:1px solid rgba(255,255,255,.1);position:relative;z-index:1000;min-height:60px;flex-shrink:0}.mapguessr-title-section.jsx-d3cc6a1274916bad{display:flex;align-items:center;gap:12px}.mapguessr-title.jsx-d3cc6a1274916bad{color:#fff;margin:0;font-size:24px;font-weight:bold;text-shadow:0 2px 4px rgba(0,0,0,.5);font-family:inherit}.mapguessr-close-btn.jsx-d3cc6a1274916bad{background:rgba(255,255,255,.1);border:1px solid rgba(255,255,255,.2);color:#fff;border-radius:50%;width:40px;height:40px;display:flex;align-items:center;justify-content:center;cursor:pointer;font-size:18px;transition:all.3s ease;backdrop-filter:blur(10px);font-family:inherit;-webkit-user-select:none;user-select:none}.mapguessr-close-btn.jsx-d3cc6a1274916bad:hover{background:rgba(255,255,255,.2);border-color:rgba(255,255,255,.4);transform:scale(1.05)}.mapguessr-close-btn.jsx-d3cc6a1274916bad:active{transform:scale(.95)}.mapguessr-iframe-container.jsx-d3cc6a1274916bad{flex:1;width:100%;position:relative;overflow:hidden;min-height:0}.mapguessr-iframe.jsx-d3cc6a1274916bad{width:100%;height:100%;border:none;display:block;background:#000}@media(max-width:768px){.mapguessr-header.jsx-d3cc6a1274916bad{padding:12px 16px;min-height:54px}.mapguessr-title.jsx-d3cc6a1274916bad{font-size:20px}.mapguessr-close-btn.jsx-d3cc6a1274916bad{width:36px;height:36px;font-size:16px}}@media(max-width:480px){.mapguessr-header.jsx-d3cc6a1274916bad{padding:10px 12px;min-height:48px}.mapguessr-title.jsx-d3cc6a1274916bad{font-size:18px}.mapguessr-close-btn.jsx-d3cc6a1274916bad{width:32px;height:32px;font-size:14px}}.mapguessr-container.jsx-d3cc6a1274916bad,.mapguessr-iframe-container.jsx-d3cc6a1274916bad{overflow:hidden}.mapguessr-modal{overflow:hidden!important}.mapguessr-modal-container{overflow:hidden!important;padding:0!important}body:has(.mapguessr-modal){overflow:hidden}@supports(-webkit-touch-callout:none){.mapguessr-container.jsx-d3cc6a1274916bad{height:100vh;height:-webkit-fill-available}}@media screen and (-webkit-min-device-pixel-ratio:0){.mapguessr-iframe.jsx-d3cc6a1274916bad{-webkit-overflow-scrolling:touch}}"})]})}let eI=JSON.parse('[{"version":"1.0.0"},{"version":"2.0.0","date":"8/20/2025","change":"WorldGuessr just got a massive update.\\n\\n### \uD83C\uDFA8 Major Improvements\\n- Complete redesign of the user interface with a modern, sleek look.\\n- Leaderboards fully functional including Past Day ELO.\\n- Better multiplayer reconnect system\\n- New round over screen for detailed postgame analysis!\\n\\n### \uD83D\uDCC8 Revamped Profile Page\\n- Track your **ELO**, **XP**, and **ranks** over time with beautiful new graphs.\\n- See your growth, streaks, and slumps in a glance.\\n- Redesigned layout with better organization of your stats and achievements.\\n\\n### \uD83D\uDDFA️ Better Maps!\\n- Added support for **panoIds** (more precise control for creators)\\n\\n\\nHuge thanks to the community for the feedback and ideas that made this update possible \uD83D\uDC99\\n\\n","postedBy":"gautam @ WorldGuessr"},{"version":"2.1.0","date":"11/26/2025","change":"Happy Thanksgiving! WorldGuessr just received a new update.\\n\\n### ✨ Minor Improvements\\n- Upgraded Minimap with higher resolution tiles for a sharper and more readable view.\\n- Faster overall loading times for a smoother gameplay experience.\\n- Small stability fixes throughout the game.\\n\\n### \uD83D\uDEE1️ Moderation Enhancements\\n- You can now report suspicious players or inappropriate nicknames directly from your ranked duel history. This feature is rolling out gradually.\\n- Automatic elo refunds for matches impacted by confirmed cheaters or external googlers.\\n- Check the newly added **Moderation** section in your profile page to track your reports and check whether you\'ve received any ELO.\\n\\n","postedBy":"gautam @ WorldGuessr"}]');var eB=t(3603),eP=t(7776),ez=t(9276),eO=t(7521),eL=t(3014),eW=t(5364);let eF=m(()=>Promise.all([t.e(562),t.e(805),t.e(845)]).then(t.bind(t,1226)),{loadableGenerated:{webpack:()=>[require.resolveWeak("@/components/roundOverScreen")]},ssr:!1}),eH={connected:!1,connecting:!1,verified:!1,shouldConnect:!1,gameQueued:!1,inGame:!1,nextGameQueued:!1,enteringGameCode:!1,nextGameType:null,maxRetries:50,currentRetry:0,createOptions:{rounds:5,timePerRound:30,location:"all",displayLocation:"All countries",progress:!1},joinOptions:{gameCode:null,progress:!1,error:!1}};function eU(e){var n,o,s,m,h,x,y,v,b,k,C,D,N,_,G,T,R,I,B,z,L,F,H,U,q,J,K,Y,Z,X,$,ee,et,ea,eo,ei,es,er,ec,eu,ep;let{}=e,{width:em,height:eh}=g(),eg=(0,i.useRef)(),[ex,eE]=(0,i.useState)(!1),{data:eM}=(0,c.wV)(),[eU,eq]=(0,i.useState)(!1),[eJ,eK]=(0,i.useState)("home"),[eV,eY]=(0,i.useState)(!1),[eZ,eQ]=(0,i.useState)({lat:0,long:0}),[eX,e$]=(0,i.useState)(0),[e0,e1]=(0,i.useState)(!1),[e2,e5]=(0,i.useState)({location:"all",maxDist:2e4,official:!0,countryMap:!1,communityMapName:"",extent:null,showRoadName:!0}),[e3,e6]=(0,i.useState)(!1),[e4,e9]=(0,i.useState)(null),[e8,e7]=(0,i.useState)(!1),[ne,nn]=(0,i.useState)(0),[nt,na]=(0,i.useState)(!1),[no,ni]=(0,i.useState)(!1),[ns,nr]=(0,i.useState)(!1),[nl,nd]=(0,i.useState)(!1),[nc,nu]=(0,i.useState)(!1),[np,nm]=(0,i.useState)(!1),[nh,ng]=(0,i.useState)(!1),[nx,nf]=(0,i.useState)(!1),[ny,nv]=(0,i.useState)(0),nb=(0,i.useRef)({bestRtt:1/0,lastSyncAt:0,lastServerNow:0}),[nw,nj]=(0,i.useState)(!1),[nS,nk]=(0,i.useState)({}),[nC,nD]=(0,i.useState)(null),[nN,n_]=(0,i.useState)(!1),[nA,nE]=(0,i.useState)("profile"),[nG,nM]=(0,i.useState)(!1);(0,i.useEffect)(()=>{let e=setInterval(()=>{document.getElementById("cmpPersistentLink")&&(document.getElementById("cmpPersistentLink").style.display="none",clearInterval(e))},2e3);return()=>clearInterval(e)},[]),(0,i.useEffect)(()=>{let{ramUsage:e}=nS;if(e)if(eg.current)eg.current.dom.style.display="";else{var n=new eO;n.showPanel(2),n.dom.style.transform="translate(10px, 150px)",n.dom.style.pointerEvents="none",document.body.appendChild(n.dom),eg.current=n}else eg.current&&(eg.current.dom.style.display="none");let t=null;return eg.current&&function e(){eg.current.begin(),eg.current.end(),t=requestAnimationFrame(e)}(),()=>{cancelAnimationFrame(t)}},[null==nS?void 0:nS.ramUsage]);let nT=null;nT=(0,eP.mg)({onSuccess:e=>{console.log("[Auth] Starting Google OAuth with retry mechanism"),u.A.fetchWithRetry((0,eB.A)().apiUrl+"/api/googleAuth",{body:JSON.stringify({code:e.code}),method:"POST",headers:{"Content-Type":"application/json"}},"googleAuthLogin").then(e=>e.json()).then(e=>{console.log("[Auth] Google OAuth successful"),e.secret?(eE({token:e}),window.localStorage.setItem("wg_secret",e.secret),console.log("[Auth] Login successful for user:",e.username)):(console.error("[Auth] No secret received from server"),S.oR.error("Login error, contact support if this persists (2)"))}).catch(e=>{console.error("[Auth] Google OAuth failed after all retries:",e.message),S.oR.error("Login failed: ".concat(e.message,". Please try again or contact support."))})},onError:e=>{S.oR.error("Login error, contact support if this persists"),console.log("login error",e)},onNonOAuthError:e=>{console.log("login non oauth error",e),S.oR.error("Login error, contact support if this persists (1)")},flow:"auth-code"}),window.login=nT;let[nR,nI]=(0,i.useState)(!1),[nB,nP]=(0,i.useState)(!1),[nz,nO]=(0,i.useState)(!1);(0,i.useEffect)(()=>{nB||eE(eM)},[JSON.stringify(eM),nB]),(0,i.useEffect)(()=>{eJ&&console.log("screen",eJ)},[eJ]);let[nL,nW]=(0,i.useState)(null),[nF,nH]=(0,i.useState)(null),[nU,nq]=(0,i.useState)(0);(0,i.useEffect)(()=>{var e;(null==ex||null==(e=ex.token)?void 0:e.username)&&(nH(e=>null!==e||void 0===ex.token.elo?e:{id:ex.token.accountId,elo:ex.token.elo,rank:ex.token.rank,league:ex.token.league,duels_wins:ex.token.duels_wins,duels_losses:ex.token.duels_losses,duels_tied:ex.token.duels_tied,win_rate:ex.token.win_rate}),eU&&fetch((0,eB.A)().apiUrl+"/api/eloRank?username="+ex.token.username).then(e=>e.json()).then(e=>{e&&void 0!==e.elo&&(nH(e),eE(n=>({...n,token:{...null==n?void 0:n.token,elo:e.elo,rank:e.rank,league:e.league,duels_wins:e.duels_wins,duels_losses:e.duels_losses,duels_tied:e.duels_tied,win_rate:e.win_rate}})))}).catch(()=>{}))},[null==ex||null==(n=ex.token)?void 0:n.username,eU]),(0,i.useEffect)(()=>{if(!(null==nF?void 0:nF.elo))return;let e=setInterval(()=>{nq(e=>{e=parseInt(e.toString().replace(/,/g,""));let n=nF.elo-e,t=Math.ceil(Math.abs(n)/10)||1;return n>0?Math.min(e+t,nF.elo):n<0?Math.max(e-t,nF.elo):e})},10);return()=>clearInterval(e)},[null==nF?void 0:nF.elo]),(0,i.useEffect)(()=>{let e=(0,eB.A)();async function n(){console.log("crazygames auth listener");let n=await window.CrazyGames.SDK.user.getUser();if(n){console.log("crazygames user",n);let t=await window.CrazyGames.SDK.user.getUserToken();if(t&&n.username){let a=!1,o=()=>{if(!a){a=!0;try{window.CrazyGames.SDK.game.loadingStop()}catch(e){}}},i=performance.now();fetch(e.apiUrl+"/api/crazyAuth",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:t,username:n.username})}).then(e=>(o(),e.json())).then(e=>{let a=(performance.now()-i).toFixed(0);console.log("[CrazyAuth] completed (took ".concat(a,"ms)"),t,n,e),e.secret&&e.username?(eE({token:e}),window.verifyPayload=JSON.stringify({type:"verify",secret:e.secret,username:e.username}),tx(e=>(e&&(console.log("sending verify"),e.send(window.verifyPayload)),e))):S.oR.error("CrazyGames auth failed")}).catch(e=>{o();let n=(performance.now()-i).toFixed(0);console.error("[CrazyAuth] failed (took ".concat(n,"ms)"),e)})}}else{console.log("crazygames user not logged in");let e=W.getItem("rejoinCode");window.verifyPayload=JSON.stringify({type:"verify",secret:"not_logged_in",username:"not_logged_in",rejoinCode:e}),tx(e=>(e?e.send(window.verifyPayload):console.log("no ws, waiting for connection"),e))}}function t(){let e=W.getItem("onboarding");if(console.log("onboarding",e),"done"!==e?tp():nY(!0),window.location.search.includes("map=")){let e=new URLSearchParams(window.location.search).get("map");eK("singleplayer"),tm(e)}}return nW(e),window.cConfig=e,window.location.search.includes("app=true")&&nI(!0),window.location.search.includes("instantJoin=true"),window.location.search.includes("crazygames")&&(nP(!0),window.inCrazyGames=!0,eY(!0),window.onCrazyload=()=>{try{console.log("init crazygames sdk",window.CrazyGames),window.CrazyGames.SDK.init().then(async()=>{console.log("sdk initialized"),eY(!1);try{window.CrazyGames.SDK.game.loadingStart()}catch(e){}n().then(()=>{t()}),window.CrazyGames.SDK.user.addAuthListener(n)}).catch(e=>{t(),console.error("crazygames sdk init failed",e),eY(!1)})}catch(e){console.error("crazygames sdk init failed",e),t(),eY(!1)}},window.CrazyGames&&window.onCrazyload()),eH.createOptions.displayLocation=tk("allCountries"),()=>{try{if(!window.CrazyGames||!window.CrazyGames.SDK||!window.CrazyGames.SDK.user)return;window.CrazyGames.SDK.user.removeAuthListener(n)}catch(e){console.error("crazygames remove auth listener error",e)}}},[]);let[nJ,nK]=(0,i.useState)(null),[nV,nY]=(0,i.useState)(null),[nZ,nQ]=(0,i.useState)([]),[nX,n$]=(0,i.useState)(!0),[n0,n1]=(0,i.useState)(!1),[n2,n5]=(0,i.useState)(!1),[n3,n6]=(0,i.useState)(!1),[n4,n9]=(0,i.useState)(null),[n8,n7]=(0,i.useState)(!1),[te,tn]=(0,i.useState)(!1),[tt,ta]=(0,i.useState)(!1),[to,ti]=(0,i.useState)(!1),[ts,tr]=(0,i.useState)(null),[tl,td]=(0,i.useState)(!1);(0,i.useEffect)(()=>{var e;(null==ex||null==(e=ex.token)?void 0:e.secret)&&n2&&n5(!1)},[null==ex||null==(o=ex.token)?void 0:o.secret,n2]),(0,i.useEffect)(()=>{if("true"===eW.env.NEXT_PUBLIC_COOLMATH){ti(!0),window.lastCoolmathAd=Date.now(),tr(0);let e=setInterval(()=>{tr(n=>(n>=1&&(clearInterval(e),e=setInterval(()=>{tr(n=>n<=0?(clearInterval(e),null):n-.1)},100)),n+.1))},100);return()=>{clearInterval(e)}}},[]),(0,i.useEffect)(()=>{"singleplayer"===eJ&&n9({round:1,totalRounds:5,locations:[]})},[eJ]);let[tc,tu]=(0,i.useState)([]);function tp(){if(nB){let e=window.CrazyGames.SDK.game.getInviteParam("code");if(e&&6===e.length||"done"===W.getItem("onboarding"))return}eK("onboarding");let e=[{lat:40.7598687,long:-73.9764681,country:"US",otherOptions:["GB","JP"]},{lat:27.1719752,long:78.0422793,country:"IN",otherOptions:["ZA","FR"]},{lat:51.5080896,long:-.087694,country:"GB",otherOptions:["US","DE"]},{lat:55.7495807,long:37.616477,country:"RU",otherOptions:["CN","PL"]},{lat:29.9773337,long:31.1321796,country:"EG",otherOptions:["TR","BR"]},{lat:48.8592946,long:2.2927855,country:"FR",otherOptions:["IT","ES"]},{lat:40.6909253,long:-74.0552998,country:"US",otherOptions:["CA","AU"]},{lat:52.5161999,long:13.3756414,country:"DE",otherOptions:["RU","JP"]}],n=[];for(;n.length<5;){let t=e[Math.floor(Math.random()*e.length)];n.find(e=>e.country===t.country)||n.push(t)}nK({round:1,locations:n,startTime:Date.now()}),(0,P.A)("tutorial_begin"),n$(!1)}function tm(e){let n=eN.find(n=>n===e.toUpperCase()),t=null;if(n&&(t=e_.find(n=>n.countryCode===e)),tu([]),!n&&e!==e2.location){var a,o;if(((null==(a=window)?void 0:a.lastPlayTrack)||0)+2e4<Date.now())try{fetch((null==(o=(0,eB.A)())?void 0:o.apiUrl)+"/mapPlay/".concat(e),{method:"POST"})}catch(e){}try{window.lastPlayTrack=Date.now()}catch(e){}}e5(a=>({...a,location:e,official:!!n||"all"===e,countryMap:n,communityMapName:n||"all"===e?"":a.communityMapName,maxDist:n?ey[n]:2e4,extent:n&&t&&t.extent?t.extent:null}))}(0,i.useEffect)(()=>{(null==nJ?void 0:nJ.round)>1&&tA()},[null==nJ?void 0:nJ.round]),(0,i.useEffect)(()=>{(null==nJ?void 0:nJ.completed)&&nY(!0)},[null==nJ?void 0:nJ.completed]),(0,i.useEffect)(()=>{"singleplayer"===eJ&&e2.location&&"all"!==e2.location&&!e2.extent&&tm(e2.location)},[eJ]),(0,i.useEffect)(()=>{try{let e=W.getItem("onboarding"),n=window.location.search.includes("crazygames"),t=window.location.search.includes("map=");console.log("onboarding",e,t),e&&"done"===e||t&&!n?nY(!0):nY(!1)}catch(e){console.error(e,"onboard"),nY(!0)}},[]),(0,i.useEffect)(()=>{if((0,ek.W)()&&!window.blocked&&(window.blocked=!0,document.write('\n        <!DOCTYPE html>\n<html lang="en">\n<head>\n  <meta charset="UTF-8">\n  <meta name="viewport" content="width=device-width, initial-scale=1.0">\n  <title>Play WorldGuessr</title>\n  <style>\n    * {\n      margin: 0;\n      padding: 0;\n      box-sizing: border-box;\n    }\n\n    body, html {\n      height: 100%;\n      display: flex;\n      justify-content: center;\n      align-items: center;\n      background: url(\'https://www.worldguessr.com/street1.jpg\') no-repeat center center/cover;\n      font-family: \'Arial\', sans-serif;\n    }\n\n    .container {\n      text-align: center;\n      background-color: rgba(255, 255, 255, 0.8);\n      padding: 30px;\n      border-radius: 10px;\n    }\n\n    h1 {\n      font-size: 2.5rem;\n      margin-bottom: 20px;\n    }\n\n    a {\n      text-decoration: none;\n    }\n\n    .play-button {\n      background-color: #2563eb;\n      color: white;\n      padding: 15px 30px;\n      font-size: 1.5rem;\n      border-radius: 50px;\n      border: none;\n      cursor: pointer;\n      transition: background-color 0.3s ease, transform 0.2s ease;\n      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);\n    }\n\n    .play-button:hover {\n      background-color: #1d4ed8;\n      transform: scale(1.05);\n    }\n\n    .play-button:active {\n      background-color: #1e40af;\n    }\n  </style>\n</head>\n<body>\n  <div class="container">\n    <h1>Welcome to WorldGuessr!</h1>\n    <a href="https://worldguessr.com" target="_blank">\n      <button class="play-button">Open in New Tab ↗</button>\n    </a>\n  </div>\n</body>\n</html>\n'),(0,P.A)("blocked_iframe")),window.location.search.includes("learn=true")&&(window.learnMode=!0,eK("singleplayer")),window.location.search.includes("map=")&&!window.location.search.includes("crazygames")){let e=new URLSearchParams(window.location.search).get("map");eK("singleplayer"),tm(e)}window.location.search.includes("createPrivateGame=true")},[]),(0,i.useEffect)(()=>{window.location.search.includes("map=")&&!window.location.search.includes("crazygames")&&setTimeout(()=>{let e=new URLSearchParams(window.location.search);e.delete("map");let n=e.toString(),t=window.location.pathname+(n?"?"+n:"");window.history.replaceState({},"",t)},1e3)},[]),(0,i.useEffect)(()=>{window.location.search.includes("learn=true")&&nY(!0),!1===nV&&null!==nV&&!eV&&((0,ek.a)()&&window.adBreak&&!nB?(console.log("trying to show preroll"),window.onboardPrerollEnd=!1,eY(!0),window.adBreak({type:"preroll",adBreakDone:function(e){window.onboardPrerollEnd||(eY(!1),window.onboardPrerollEnd=!0,(0,P.A)("interstitial",{type:"preroll",...e}),tp())}}),setTimeout(()=>{window.onboardPrerollEnd||(window.onboardPrerollEnd=!0,console.log("preroll timeout"),eY(!1),tp())},3e3)):nB||tp())},[nV]),(0,i.useEffect)(()=>{if(ex&&ex.token&&ex.token.username&&!nB){nY(!0);try{W.setItem("onboarding","done")}catch(e){}"onboarding"===eJ&&(eK("home"),nK(null))}},[ex]),(0,i.useEffect)(()=>{if(null==nS?void 0:nS.language)try{window.localStorage.setItem("lang",null==nS?void 0:nS.language),window.language=null==nS?void 0:nS.language,console.log("set lang",null==nS?void 0:nS.language);let e=new URLSearchParams(window.location.search),n=e.toString()?"?".concat(e.toString()):"",t="/".concat((null==nS?void 0:nS.language)!=="en"?null==nS?void 0:nS.language:"");window.location.pathname.includes(t)||(console.log("changing lang",t),window.location.href=t+n),(null==nS?void 0:nS.language)==="en"&&["es","fr","de","ru"].includes(window.location.pathname.split("/")[1])&&(console.log("changing lang",t),window.location.href="/"+n)}catch(e){}},[null==nS?void 0:nS.language]);let th=async()=>{try{let e=W.getItem("options");if(console.log("options",e),e)nk(JSON.parse(e));else{let e="metric";try{let n=Intl.DateTimeFormat().resolvedOptions().timeZone,t=navigator.language,a=n&&n.startsWith("America/")&&!n.startsWith("America/Argentina")&&!n.startsWith("America/Brazil")&&!n.includes("Mexico"),o=n&&n.startsWith("Europe/London"),i=t&&t.startsWith("en-US"),s=t&&t.startsWith("en-GB");(a||o||i||s)&&(e="imperial")}catch(e){}nk({units:e,ramUsage:!1,mapType:"m"})}}catch(e){}};(0,i.useEffect)(()=>{th()},[]),(0,i.useEffect)(()=>{console.log("\uD83C\uDF0D WorldGuessr build: ".concat("75b4422")),console.log("\uD83D\uDCC5 Build time: ".concat("2026-02-03T04:31:18.221Z"))},[]),(0,i.useEffect)(()=>{if(nS&&nS.units&&nS.mapType)try{W.setItem("options",JSON.stringify(nS))}catch(e){}},[nS]),(0,i.useEffect)(()=>{window.disableVideoAds=null==nS?void 0:nS.disableVideoAds},[null==nS?void 0:nS.disableVideoAds]);let[tg,tx]=(0,i.useState)(null),[tf,ty]=(0,i.useState)(eH),[tv,tb]=(0,i.useState)(!1),[tw,tj]=(0,i.useState)(!1),tS=()=>{tg&&tg.readyState===WebSocket.OPEN&&tg.send(JSON.stringify({type:"timeSync",clientSentAt:Date.now()}))};(0,i.useEffect)(()=>{tf.connected&&ta(!1)},[tf.connected]),(0,i.useEffect)(()=>{var e;(null==ex||null==(e=ex.token)?void 0:e.secret)&&(!tg||window.verified||window.location.search.includes("crazygames")||(console.log("sending verify",tg),tg.send(JSON.stringify({type:"verify",secret:ex.token.secret,username:ex.token.username}))))},[null==ex||null==(s=ex.token)?void 0:s.secret,tg]),(0,i.useEffect)(()=>{if(!tg)return;nb.current={bestRtt:1/0,lastSyncAt:0,lastServerNow:0},nv(0),tS();let e=setInterval(()=>{tS()},3e4);return()=>clearInterval(e)},[tg]),(0,i.useEffect)(()=>{let e=()=>{"visible"===document.visibilityState&&tS()};return document.addEventListener("visibilitychange",e),()=>document.removeEventListener("visibilitychange",e)},[tg]);let{t:tk}=(0,f.B)("common");function tC(e){for(var n,t,a,o,i,s=arguments.length,r=Array(s>1?s-1:0),l=1;l<s;l++)r[l-1]=arguments[l];if(console.log(e),!tg||!tf.connected)return void ta(!0);if(!tf.gameQueued&&!tf.connecting){if("publicDuel"===e&&(eK("multiplayer"),ty(e=>({...e,gameQueued:"publicDuel",nextGameType:void 0,nextGameQueued:!1})),(0,P.A)("multiplayer_request_ranked_duel"),tg.send(JSON.stringify({type:"publicDuel"}))),"unrankedDuel"===e&&(eK("multiplayer"),ty(e=>({...e,gameQueued:"unrankedDuel",nextGameType:void 0,nextGameQueued:!1,publicDuelRange:null})),(0,P.A)("multiplayer_request_unranked_duel"),tg.send(JSON.stringify({type:"unrankedDuel"}))),"joinPrivateGame"===e&&(r[0]?(eK("multiplayer"),ty(e=>({...e,joinOptions:{...e.joinOptions,error:!1,progress:!0}})),tg.send(JSON.stringify({type:"joinPrivateGame",gameCode:r[0]})),(0,P.A)("multiplayer_join_private_game",{gameCode:r[0]})):(eK("multiplayer"),ty(e=>({...eH,connected:!0,enteringGameCode:!0,playerCount:e.playerCount,guestName:e.guestName})))),"createPrivateGame"===e&&(ty(e=>({...e,createOptions:{...e.createOptions,progress:!0}})),tg.send(JSON.stringify({type:"createPrivateGame"})),n7(!0),(0,P.A)("multiplayer_create_private_game")),"setPrivateGameOptions"===e&&(null==tf?void 0:tf.inGame)&&(null==tf||null==(n=tf.gameData)?void 0:n.host)&&(null==tf||null==(t=tf.gameData)?void 0:t.state)==="waiting"){nB&&console.log("crazygames invite link",window.CrazyGames.SDK.game.showInviteButton({code:null==tf||null==(i=tf.gameData)?void 0:i.code}));let e=r[0]||tf.createOptions;tg.send(JSON.stringify({type:"setPrivateGameOptions",rounds:e.rounds,timePerRound:e.timePerRound,nm:e.nm,npz:e.npz,showRoadName:e.showRoadName,location:e.location,displayLocation:e.displayLocation}))}"startGameHost"===e&&(null==tf?void 0:tf.inGame)&&(null==tf||null==(a=tf.gameData)?void 0:a.host)&&(null==tf||null==(o=tf.gameData)?void 0:o.state)==="waiting"&&(tg.send(JSON.stringify({type:"startGameHost"})),(0,P.A)("multiplayer_start_game_host")),"screen"===e&&tg.send(JSON.stringify({type:"screen",screen:r[0]}))}}function tD(){window.reloadLoc&&window.reloadLoc()}function tN(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:()=>{};if(window.inCrazyGames&&"disabled"!==window.CrazyGames.SDK.environment)try{window.CrazyGames.SDK.ad.requestAd("midgame",{adFinished:()=>e(),adError:n=>e(),adStarted:()=>console.log("Start midgame ad")})}catch(n){console.log("error requesting midgame ad",n),e()}else if("true"===eW.env.NEXT_PUBLIC_COOLMATH&&Date.now()-window.lastCoolmathAd>12e4)try{window.lastCoolmathAd=Date.now(),window.cmgAdBreak(),document.addEventListener("adBreakStart",function e(){console.log("Start midgame ad"),document.removeEventListener("adBreakStart",e)}),document.addEventListener("adBreakComplete",function n(){e(),console.log("End midgame ad"),document.removeEventListener("adBreakComplete",n)})}catch(n){console.log("error requesting midgame ad",n),e()}else e()}function t_(){var e,n,t,a,o,i;let s=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=arguments.length>1?arguments[1]:void 0;if(nY(!0),eV&&eY(!1),nC&&nD(!1),n7(!1),window.learnMode){window.location.href="/";return}if("onboarding"===eJ){eK("home"),nK(null),W.setItem("onboarding","done");return}if(null==tf||!tf.inGame||null==tf||null==(e=tf.gameData)||!e.duel||(null==tf||null==(n=tf.gameData)?void 0:n.public)||(null==tf||null==(t=tf.gameData)?void 0:t.state)==="end"||window.confirm(tk("forfeitWarning")))if(null==tf?void 0:tf.inGame)if((null==tf||null==(a=tf.gameData)?void 0:a.host)&&(null==tf||null==(o=tf.gameData)?void 0:o.state)!=="waiting")tg.send(JSON.stringify({type:"resetGame"}));else{if(tg.send(JSON.stringify({type:"leaveGame"})),nB)try{window.CrazyGames.SDK.game.hideInviteButton()}catch(e){}ty(e=>({...e,nextGameQueued:!0===s,nextGameType:r})),eK("home"),tj(!1),["getready","guess"].includes(null==tf||null==(i=tf.gameData)?void 0:i.state)&&tN()}else(null==tf?void 0:tf.enteringGameCode)&&(null==tf?void 0:tf.connected)?(ty(e=>({...eH,connected:!0,playerCount:e.playerCount,guestName:e.guestName})),eK("home")):(null==tf?void 0:tf.gameQueued)?(console.log("gameQueued"),tg.send(JSON.stringify({type:"leaveQueue"})),ty(e=>({...e,gameQueued:!1})),eK("home")):(tj(!1),eK("home"),e5(e=>({...e,extent:null})),eQ({lat:0,long:0}),e6(!1),e9(null),e7(!1))}function tA(){if(!eV)if(console.log("[PERF] ========== Starting new round =========="),window.roundStartTime=performance.now(),eY(!0),e6(!1),e9(null),eQ(null),e7(!1),"onboarding"===eJ){eQ(nJ.locations[nJ.round-1]);let e=JSON.parse(JSON.stringify(nJ.locations[nJ.round-1].otherOptions));e.push(nJ.locations[nJ.round-1].country),nQ(e=e.sort(()=>Math.random()-.5))}else{async function e(){console.log("[PERF] loadLocation: Calling findLatLongRandom (dynamic import)");let e=performance.now();try{let{default:n}=await t.e(442).then(t.bind(t,8442));console.log("[PERF] findLatLong module loaded in ".concat((performance.now()-e).toFixed(2),"ms"));let a=await n(e2);eQ(a)}catch(e){console.error("[ERROR] Failed to load location:",e),(0,S.oR)(tk("errorLoadingMap"),{type:"error"})}}function n(){var n;let t=(0,eB.A)();if(!(null==t?void 0:t.apiUrl))return void e();let a=performance.now();console.log("[PERF] loadLocation: Starting fetch for locations"),fetch(t.apiUrl+("all"===e2.location?"/".concat((null==(n=window)?void 0:n.learnMode)?"clue":"all","Countries.json"):e2.countryMap&&e2.official?"/countryLocations/".concat(e2.countryMap):"/mapLocations/".concat(e2.location))).then(e=>e.json()).then(n=>{if(console.log("[PERF] loadLocation: Fetched locations in ".concat((performance.now()-a).toFixed(2),"ms")),n.ready){for(let e=0;e<n.locations.length;e++)n.locations[e].lng&&!n.locations[e].long&&(n.locations[e].long=n.locations[e].lng,delete n.locations[e].lng);if(n.locations=n.locations.sort(()=>Math.random()-.5),tu(n.locations),"all"===e2.location){let e=n.locations[0];eQ(e),console.log("setting latlong",e)}else{let e=n.locations[Math.floor(Math.random()*n.locations.length)];for(;e.lat===eZ.lat&&e.long===eZ.long;)e=n.locations[Math.floor(Math.random()*n.locations.length)];if(eQ(e),n.name){let e=n.locations.map(e=>(0,eC.Rb)([e.long,e.lat],"EPSG:4326")),t=(0,eD.Tr)(e);console.log("extent",t),e5(e=>{var a,o;return{...e,communityMapName:n.name,official:null!=(a=n.official)&&a,maxDist:null!=(o=n.maxDist)?o:2e4,extent:t}})}}}else"all"!==e2.location&&(0,S.oR)(tk("errorLoadingMap"),{type:"error"}),e()}).catch(()=>{(0,S.oR)(tk("errorLoadingMap"),{type:"error"}),e()})}if(0===tc.length)n();else if(tc.length>0){let e=tc.findIndex(e=>e.lat===eZ.lat&&e.long===eZ.long);if(-1===e||1===tc.length)n();else if("all"===e2.location){var a;eQ(null!=(a=tc[e+1])?a:tc[0])}else tu(e=>{let n=e.filter(e=>e.lat!==eZ.lat&&e.long!==eZ.long);return eQ(n[Math.floor(Math.random()*n.length)]),n})}}}(0,i.useEffect)(()=>{var e;(null==tf||null==(e=tf.joinOptions)?void 0:e.error)&&setTimeout(()=>{ty(e=>({...e,joinOptions:{...e.joinOptions,error:null}}))},1e3)},[null==tf||null==(m=tf.joinOptions)?void 0:m.error]),(0,i.useEffect)(()=>{(null==tf?void 0:tf.connected)&&nC&&nD(null)},[null==tf?void 0:tf.connected,nC]),(0,i.useEffect)(()=>{(async()=>{var e,n;if(!tg&&!tf.connecting&&!tf.connected&&!(null==(e=window)?void 0:e.dontReconnect))try{ty(e=>({...e,connecting:!0,shouldConnect:!1,currentRetry:1}));let e=null,t=1;for(;t<=50&&!e;)try{ty(e=>({...e,currentRetry:t})),e=await function e(n,t,a,o){a=a||1500,o=o||0;var i=!1,s=null,r=Math.random().toString(36).substr(2,9);ew.cancel(n),console.log("[WS ".concat(r,"] Initializing WebSocket connection to ").concat(n," (timeout: ").concat(a,"ms, retries: ").concat(o,")"));var l=new Promise((l,d)=>{try{var c=null;let p=()=>{s&&(clearTimeout(s),s=null),c&&c.readyState===WebSocket.CONNECTING&&c.close()};if(s=setTimeout(function(){i||(console.warn("[WS ".concat(r,"] Opening websocket timed out after ").concat(a,"ms: ").concat(n)),u("timeout"))},a),t&&t.readyState==t.OPEN)console.log("[WS ".concat(r,"] Reusing existing open websocket")),i=!0,clearTimeout(s),l(t);else{t&&(console.log("[WS ".concat(r,"] Closing existing websocket (state: ").concat(t.readyState,")")),t.close()),console.log("[WS ".concat(r,"] Creating new WebSocket connection"));try{c=new WebSocket(n)}catch(e){console.error("[WS ".concat(r,"] Failed to create WebSocket:"),e),u("creation_error");return}ew.register(n,c,p),c.onopen=function(e){console.log("[WS ".concat(r,"] WebSocket opened successfully")),i?(console.warn("[WS ".concat(r,"] Connection opened but already returned, closing")),c.close()):(i=!0,clearTimeout(s),ew.complete(n),console.info("[WS ".concat(r,"] WebSocket connection established: ").concat(n)),l(c))},c.onclose=function(e){console.warn("[WS ".concat(r,"] WebSocket closed (code: ").concat(e.code,", reason: ").concat(e.reason,", wasClean: ").concat(e.wasClean,")")),i||u("close")},c.onerror=function(e){console.error("[WS ".concat(r,"] WebSocket error occurred:"),e),i||u("error")}}function u(t){try{if(i)return void console.log("[WS ".concat(r,"] Reject called but already returned (reason: ").concat(t,")"));i=!0,p(),ew.complete(n),console.log("[WS ".concat(r,"] Connection failed (reason: ").concat(t,"), retries remaining: ").concat(o)),o<=0?(console.error("[WS ".concat(r,"] No more retries, connection failed gracefully")),d(Error("WebSocket connection failed: ".concat(t)))):window.dontReconnect?(console.log("[WS ".concat(r,"] Reconnection disabled by window.dontReconnect flag")),d(Error("WebSocket connection failed and reconnection disabled: ".concat(t)))):(console.info("[WS ".concat(r,"] Retrying connection in 5 seconds (").concat(o-1," retries remaining)")),setTimeout(()=>{e(n,null,a,o-1).then(l).catch(d)},5e3))}catch(e){console.error("[WS ".concat(r,"] Error in rejectInternal:"),e),d(Error("WebSocket connection failed: ".concat(t)))}}}catch(e){console.error("[WS ".concat(r,"] Unexpected error in initWebsocket:"),e),ew.complete(n),d(Error("WebSocket initialization failed: ".concat(e.message)))}});return o>0&&l.catch(e=>{console.error("[WS] Unhandled WebSocket error for ".concat(n,":"),e)}),l}((0,eB.A)().websocketUrl,null,5e3,0);break}catch(e){if(console.log("Connection attempt ".concat(t,"/").concat(50," failed")),t<50)t++,await new Promise(e=>setTimeout(e,5e3));else throw e}if(e&&1===e.readyState)if(tx(e),ty(e=>({...e,connected:!0,connecting:!1,currentRetry:0,error:!1})),console.log("connected to ws",window.verifyPayload),nB||window.location.search.includes("crazygames"))window.verifyPayload&&(console.log("sending verify from verifyPayload"),e.send(window.verifyPayload));else{let t=Intl.DateTimeFormat().resolvedOptions().timeZone,a="not_logged_in";try{let e=window.localStorage.getItem("wg_secret");e&&(a=e)}catch(e){}(null==ex||null==(n=ex.token)?void 0:n.secret)&&(a=ex.token.secret),"not_logged_in"!==a&&(window.verified=!0),e.send(JSON.stringify({type:"verify",secret:a,tz:t,rejoinCode:W.getItem("rejoinCode")}))}else console.error("WebSocket connection failed after all retries"),ty(e=>({...e,connected:!1,connecting:!1,error:!0}))}catch(e){console.error("WebSocket connection failed:",e),ty(e=>({...e,connected:!1,connecting:!1,error:!0}))}})()},[tf,tg,eJ]),(0,i.useEffect)(()=>{if(nB||window.poki){var e;if("singleplayer"===eJ&&n4&&!n4.done||"onboarding"===eJ&&nJ&&!nJ.completed||(null==tf?void 0:tf.inGame)&&(null==tf||null==(e=tf.gameData)?void 0:e.state)==="guess"){console.log("gameplay start - actual gameplay detected");try{window.CrazyGames.SDK.game.gameplayStart()}catch(e){}try{window.poki&&window.PokiSDK.gameplayStart()}catch(e){}}else{console.log("gameplay stop - not in actual gameplay");try{window.CrazyGames.SDK.game.gameplayStop()}catch(e){}try{window.poki&&window.PokiSDK.gameplayStop()}catch(e){}}}},[eJ,nB,n4,nJ,null==tf?void 0:tf.inGame,null==tf||null==(h=tf.gameData)?void 0:h.state]),(0,i.useEffect)(()=>{if((null==tf?void 0:tf.verified)&&nB)try{let e=window.CrazyGames.SDK.game.getInviteParam("code"),n=nB&&window.CrazyGames.SDK.game.isInstantMultiplayer||window.location.search.includes("instantJoin");if((window.CrazyGames.SDK.game.getInviteParam("code")||window.CrazyGames.SDK.game.isInstantMultiplayer)&&(console.log("crazygames"),nP(!0)),e||n){if("string"==typeof e)try{e=parseInt(e)}catch(e){}nY(!0),nK(null),eY(!1),eK("home"),e?(tC("joinPrivateGame"),ty(n=>({...n,joinOptions:{...n.joinOptions,gameCode:e,progress:!0}})),setTimeout(()=>{tC("joinPrivateGame",e)},1e3)):tC("createPrivateGame")}}catch(e){}},[null==tf?void 0:tf.verified,nB]),(0,i.useEffect)(()=>{var e,n;(null==tf?void 0:tf.inGame)&&(null==tf||null==(e=tf.gameData)?void 0:e.state)==="end"&&ty(e=>({...e,gameData:{...e.gameData,finalPlayers:e.gameData.players}})),(null==tf||null==(n=tf.gameData)?void 0:n.state)==="waiting"&&ty(e=>({...e,gameData:{...e.gameData,finalPlayers:void 0}}))},[null==tf||null==(x=tf.gameData)?void 0:x.state]),(0,i.useEffect)(()=>{var e;if(!(null==tf?void 0:tf.inGame)&&(null==tf||null==(e=tf.gameData)?void 0:e.duel)&&(tj(!1),tb(!1)),tg)return tg.onmessage=e=>{let n=JSON.parse(e.data);if("restartQueued"===n.type&&(nO(!!n.value),n.value?S.oR.info(tk("maintenanceModeStarted")):!n.value&&window.maintenance&&S.oR.info(tk("maintenanceModeEnded")),window.maintenance=!!n.value),"t"===n.type){let e=n.t-Date.now(),t=nb.current,a=Date.now();(0===t.lastSyncAt||a-t.lastSyncAt>6e4)&&3e5>Math.abs(e)&&(window.debugTimeSync&&console.log("[TimeSync] fallback",{offset:e,serverNow:n.t,lastSyncAt:t.lastSyncAt}),nv(e))}if("timeSync"===n.type&&((e,n)=>{if(!e||!n)return;let t=Date.now(),a=Math.max(0,t-n),o=e-(n+a/2),i=nb.current,s=t-i.lastSyncAt>6e4,r=a<=i.bestRtt+25;if(0===i.lastSyncAt||r||s){let s=i.bestRtt;i.bestRtt=Math.min(i.bestRtt,a),i.lastSyncAt=t,i.lastServerNow=e,window.debugTimeSync&&console.log("[TimeSync] update",{offset:o,rtt:a,serverNow:e,clientSentAt:n,prevBestRtt:s}),nv(o)}})(n.serverNow,n.clientSentAt),"elo"===n.type&&(nH(e=>({...e,league:n.league,elo:n.elo})),eE(e=>({...e,token:{...null==e?void 0:e.token,elo:n.elo,league:n.league}}))),"cnt"===n.type)ty(e=>({...e,playerCount:n.c}));else if("verify"===n.type)ty(e=>({...e,connected:!0,connecting:!1,verified:!0,guestName:n.guestName})),n.rejoinCode&&W.setItem("rejoinCode",n.rejoinCode);else if("error"===n.type)ty(e=>({...e,connecting:!1,connected:!1,shouldConnect:!1,error:n.message})),"uac"===n.message&&(window.dontReconnect=!0),n.failedToLogin&&(window.dontReconnect=!0,(0,c.CI)()),tg.close(),(0,S.oR)("uac"===n.message?tk("userAlreadyConnected"):n.message,{type:"error"});else if("game"===n.type)window.dispatchEvent(new CustomEvent("gameStarting")),eq(!1),e1(!1),na(!1),ni(!1),nr(!1),nd(!1),n5(!1),n6(!1),tn(!1),ta(!1),eK("multiplayer"),ty(e=>{var t,a,o,i,s,r,l;return n.duel||tj(!0),e5(e=>({...e,nm:n.nm,npz:n.npz,showRoadName:n.showRoadName})),"getready"===n.state?tj(!0):"guess"===n.state&&(null==(o=null!=(s=n.players)?s:null==(i=e.gameData)?void 0:i.players)||null==(a=o.find(n=>{var t;return n.id===(null==(t=e.gameData)?void 0:t.myId)}))?void 0:a.final)&&tj(!0),e.gameData&&(null==e||null==(t=e.gameData)?void 0:t.state)!=="getready"||"guess"!==n.state||(e9(null),eY(!0),e$(e=>e+1),(null==e||null==(r=e.gameData)?void 0:r.locations)||!n.locations?eQ(null==e||null==(l=e.gameData)?void 0:l.locations[n.curRound-1]):eQ(n.locations[n.curRound-1])),{...e,gameQueued:!1,inGame:!0,gameData:{...e.gameData,...n,type:void 0},enteringGameCode:!1,joinOptions:eH.joinOptions}});else if("duelEnd"===n.type)console.log("duel end",n),ty(e=>({...e,gameData:{...e.gameData,duelEnd:n}}));else if("publicDuelRange"===n.type)ty(e=>({...e,publicDuelRange:n.range}));else if("maxDist"===n.type){let e=n.maxDist;console.log("got new max dist",e),ty(n=>({...n,gameData:{...n.gameData,maxDist:e}}))}else if("player"===n.type)"remove"===n.action?ty(e=>({...e,gameData:{...e.gameData,players:e.gameData.players.filter(e=>e.id!==n.id)}})):"add"===n.action&&ty(e=>({...e,gameData:{...e.gameData,players:[...e.gameData.players,n.player]}}));else if("place"===n.type){let e=n.id;e===tf.gameData.myId&&tj(!0);let t=tf.gameData.players.find(n=>n.id===e);t&&(t.final=n.final,t.latLong=n.latLong)}else if("gameOver"===n.type)eQ(null),e5(e=>({...e,extent:null}));else if("gameShutdown"===n.type)eK("home"),tj(!1),ty(e=>({...eH,connected:!0,nextGameQueued:e.nextGameQueued,nextGameType:e.nextGameType,playerCount:e.playerCount,guestName:e.guestName})),e5(e=>({...e,extent:null}));else if("gameCancelled"===n.type)S.oR.info(tk("opponentLeftBeforeStart")||"Opponent left before the game started. Returning to queue..."),eK("home"),tj(!1),ty(e=>({...eH,connected:!0,nextGameQueued:!0,nextGameType:"ranked",playerCount:e.playerCount,guestName:e.guestName})),e5(e=>({...e,extent:null}));else if("gameJoinError"===n.type&&tf.enteringGameCode)ty(e=>({...e,joinOptions:{...e.joinOptions,error:n.error,progress:!1}}));else if("generating"===n.type)ty(e=>({...e,gameData:{...e.gameData,generated:n.generated}}));else if("friendReq"===n.type){let e=n.name,t=n.id;(0,S.oR)(function(n){let{closeToast:o}=n;return(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{children:tk("youGotFriendReq",{from:e})}),(0,a.jsx)("button",{onClick:()=>{tg.send(JSON.stringify({type:"acceptFriend",id:t})),o()},className:"accept-button",children:"✔"}),"\xa0",(0,a.jsx)("button",{onClick:()=>{tg.send(JSON.stringify({type:"declineFriend",id:t})),o()},className:"decline-button",children:"✖"})]})},{type:"info",theme:"dark"})}else if("toast"===n.type){var t,o,i;(0,S.oR)(tk(n.key,n),{type:null!=(t=n.toastType)?t:"info",theme:"dark",closeOnClick:null!=(o=n.closeOnClick)&&o,autoClose:null!=(i=n.autoClose)?i:5e3})}else if("invite"===n.type){let{code:e,invitedByName:t,invitedById:o}=n;(0,S.oR)(function(n){let{closeToast:i}=n;return(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{children:tk("youGotInvite",{from:t})}),(0,a.jsx)("button",{onClick:()=>{tg.send(JSON.stringify({type:"acceptInvite",code:e,invitedById:o})),i()},className:"accept-button",children:tk("join")}),"\xa0",(0,a.jsx)("button",{onClick:()=>{i()},className:"decline-button",children:tk("decline")})]})},{type:"info",theme:"dark",autoClose:1e4})}else if("streak"===n.type){let e=n.streak;0===e?(0,S.oR)(tk("streakLost"),{type:"info",theme:"dark",autoClose:5e3,closeOnClick:!0}):1===e?(0,S.oR)(tk("streakStarted"),{type:"info",theme:"dark",autoClose:5e3,closeOnClick:!0}):(0,S.oR)(tk("streakGained",{streak:e}),{type:"info",theme:"dark",autoClose:5e3,closeOnClick:!0})}},tg.onclose=()=>{tx(null),console.log("ws closed"),(0,P.A)("multiplayer_disconnect"),ty(e=>({...eH,maxRetries:e.maxRetries,currentRetry:e.currentRetry})),tj(!1),tb(!1),"home"!==window.screen&&"singleplayer"!==window.screen&&"onboarding"!==window.screen&&(nD(!0),eY(!1),S.oR.info(tk("connectionLostRecov")),eK("home"))},tg.onerror=()=>{tx(null),console.log("ws error"),(0,P.A)("multiplayer_disconnect"),ty(e=>({...eH,maxRetries:e.maxRetries,currentRetry:e.currentRetry})),tj(!1),tb(!1),"home"!==window.screen&&"singleplayer"!==window.screen&&"onboarding"!==window.screen&&(nD(!0),S.oR.info(tk("connectionLostRecov")),eK("home"))},()=>{tg.onmessage=null}},[tg,tf,ny,null==e2?void 0:e2.extent]),(0,i.useEffect)(()=>{window.screen=eJ},[eJ]),(0,i.useEffect)(()=>{(null==tf?void 0:tf.connected)&&!(null==tf?void 0:tf.inGame)&&(null==tf?void 0:tf.nextGameQueued)&&((null==tf?void 0:tf.nextGameType)==="ranked"?tC("publicDuel"):(null==tf?void 0:tf.nextGameType)==="unranked"&&tC("unrankedDuel"))},[tf,ny]),(0,i.useEffect)(()=>{(null==tf?void 0:tf.connected)&&tC("screen",eJ)},[eJ]),(0,i.useEffect)(()=>{try{let e=W.getItem("countryStreak");if(e){let n=parseInt(e);isNaN(n)?(console.log("streak is not a number",e),nn(0),W.setItem("countryStreak",0)):nn(n)}new Image().src="./src.png",new Image().src="./dest.png",new Image().src="./src2.png",new Image().src="./polandball.png"}catch(e){}},[]),(0,i.useEffect)(()=>{window.crazyMidgame=tN},[]);let tE=i.useCallback(()=>{tb(e=>!e)},[]),tG=i.useMemo(()=>{var e,n,t,o,i;return(0,a.jsx)(ef,{miniMapShown:nN,ws:tg,open:tv,onToggle:tE,enabled:(null==ex||null==(e=ex.token)?void 0:e.secret)&&tw&&!eW.env.NEXT_PUBLIC_COOLMATH,isGuest:null==ex||null==(n=ex.token)||!n.secret,publicGame:null==tf||null==(t=tf.gameData)?void 0:t.public,myId:null==tf||null==(o=tf.gameData)?void 0:o.myId,inGame:null==tf?void 0:tf.inGame,roundOverScreenShown:(null==tf?void 0:tf.inGame)&&(null==tf||null==(i=tf.gameData)?void 0:i.state)==="end"})},[tv,tw,tg,null==tf||null==(y=tf.gameData)?void 0:y.myId,null==tf?void 0:tf.inGame,null==tf||null==(v=tf.gameData)?void 0:v.public,null==ex||null==(b=ex.token)?void 0:b.secret,tE,nN,null==tf||null==(k=tf.gameData)?void 0:k.state]);(0,i.useEffect)(()=>{let e=setInterval(()=>{tg&&tg.readyState===WebSocket.OPEN&&tg.send(JSON.stringify({type:"pong"}))},1e4);return()=>clearInterval(e)},[tg]);let[tM,tT]=(0,i.useState)(!1);return(0,i.useEffect)(()=>{function e(){return!!(document.getElementById("coo1rdinates")||document.getElementById("map-canvas"))||!!function(){let e=[".google-maps-iframe {"];return Array.from(document.getElementsByTagName("style")).some(n=>{let t=n.textContent;return e.every(e=>t.includes(e))})}()}function n(){window.banned||((0,P.A)("cheat_detected"),window.location.href="/banned",window.localStorage.setItem("banned","true"))}e()&&n();let t=setInterval(()=>{e()&&n()},1e4);return()=>clearInterval(t)},[]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(r,{text:tk,inCoolMathGames:to,inCrazyGames:nB}),(0,a.jsx)(el,{inCrazyGames:nB,shown:eU,session:ex,setSession:eE,setAccountModalOpen:eq,eloData:nF,accountModalPage:nA,setAccountModalPage:nE,ws:tg,canSendInvite:(null==tf?void 0:tf.inGame)&&!(null==tf||null==(C=tf.gameData)?void 0:C.public),sendInvite:function(e){tg&&(null==tf?void 0:tf.connected)&&tg.send(JSON.stringify({type:"inviteFriend",friendId:e}))},options:nS}),(0,a.jsx)(ed,{shown:ex&&(null==ex||null==(D=ex.token)?void 0:D.secret)&&!ex.token.username,session:ex}),(0,a.jsx)(ej,{shown:n2,setOpen:n5}),(0,a.jsx)(eA,{shown:n3&&window.innerWidth>=768,setOpen:n6}),(0,a.jsx)(eR,{isOpen:nc,onClose:()=>nu(!1)}),(0,a.jsx)(eL.A,{session:ex,isOpen:np,onClose:()=>nm(!1)}),tG,(0,a.jsx)(S.N9,{pauseOnFocusLoss:!1}),(0,a.jsx)("div",{className:"videoAdParent hidden",children:(0,a.jsxs)("div",{className:"videoAdPlayer",children:[(0,a.jsx)("div",{className:"messageContainer",children:(0,a.jsxs)("p",{className:"thankYouMessage",children:[tk("videoAdThanks"),(0,a.jsx)("br",{}),tk("enjoyGameplay")]})}),(0,a.jsx)("div",{id:"videoad"})]})}),"number"==typeof ts&&(0,a.jsx)("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",backgroundColor:"rgb(36,36,36)",zIndex:100090,display:"flex",justifyContent:"center",alignItems:"center",color:"white",fontSize:"2em"},children:(0,a.jsx)("div",{children:(0,a.jsx)(w.default,{src:"/coolmath-splash.png",draggable:!1,fill:!0,alt:"Coolmath Splash",style:{objectFit:"contain",userSelect:"none",opacity:ts}})})}),(0,a.jsx)("div",{style:{top:0,left:0,position:"fixed",width:"100vw",height:"100vh",height:"100dvh",height:"-webkit-fill-available",transition:"opacity 0.5s",opacity:.5,userSelect:"none",WebkitUserSelect:"none",MozUserSelect:"none",msUserSelect:"none",pointerEvents:"none"},children:(0,a.jsx)(w.default,{src:"./street2.webp",draggable:!1,width:1920,height:1080,alt:"Game Background",style:{objectFit:"cover",userSelect:"none",position:"fixed",top:0,left:0,width:"100vw",height:"100vh",backgroundSize:"cover",backgroundPosition:"center"},sizes:"(max-width: 768px) 100vw, (max-width: 1200px) 50vw, 33vw"})}),(0,a.jsxs)("main",{className:"home",id:"main",children:[(0,a.jsx)(ez.A,{nm:null==e2?void 0:e2.nm,npz:null==e2?void 0:e2.npz,showAnswer:e3,lat:null==eZ?void 0:eZ.lat,long:null==eZ?void 0:eZ.long,panoId:null==eZ?void 0:eZ.panoId,heading:null==eZ?void 0:eZ.heading,pitch:null==eZ?void 0:eZ.pitch,showRoadLabels:"onboarding"!==eJ&&(null==e2?void 0:e2.showRoadName),hidden:!!(!eZ||!eZ.lat||!eZ.long||eV)||"home"===eJ||!!("multiplayer"===eJ&&((null==tf||null==(N=tf.gameData)?void 0:N.state)==="waiting"||(null==tf?void 0:tf.enteringGameCode)||(null==tf?void 0:tf.gameQueued))),refreshKey:eX,onLoad:()=>{window.roundStartTime&&console.log("[PERF] ========== Round complete! Total time from start to SV loaded: ".concat((performance.now()-window.roundStartTime).toFixed(2),"ms ==========")),console.log("loaded"),setTimeout(()=>{eY(!1)},300)}}),(0,a.jsxs)("div",{className:"loading-overlay ".concat(eV?"loading-overlay--visible":""),children:[(0,a.jsx)(w.default,{src:"./street2.webp",draggable:!1,width:1920,height:1080,priority:!0,alt:"Loading Background",style:{objectFit:"cover",position:"absolute",top:0,left:0,width:"100%",height:"100%",opacity:.5},sizes:"100vw"}),(0,a.jsx)("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",backgroundColor:"#000",zIndex:-1}})]}),(0,a.jsx)(j,{text:"".concat(tk("loading"),"..."),shown:eV,showCompass:!0}),(0,a.jsx)(p.A,{joinCodePress:()=>{nK(null),nY(!0),W.setItem("onboarding","done"),eK("multiplayer"),ty(e=>({...e,enteringGameCode:!0}))},accountModalOpen:eU,inCoolMathGames:to,maintenance:nz,inCrazyGames:nB,loading:eV,onFriendsPress:()=>{eq(!0),nE("list")},loginQueued:nw,setLoginQueued:nj,inGame:(null==tf?void 0:tf.inGame)||"singleplayer"===eJ,openAccountModal:()=>{eq(!0),nE("profile")},session:ex,reloadBtnPressed:tD,backBtnPressed:t_,setGameOptionsModalShown:e1,onNavbarPress:()=>(function(){if("onboarding"!==eJ&&"home"!==eJ&&!eV){var e;("multiplayer"!==eJ||null==tf||!tf.connected||(null==tf?void 0:tf.inGame))&&((null==tf?void 0:tf.inGame)?null==tf||null==(e=tf.gameData)||e.state:tA())}})(),gameOptions:e2,screen:eJ,multiplayerState:tf,shown:!(null==tf||null==(_=tf.gameData)?void 0:_.duel),gameOptionsModalShown:e0,selectCountryModalShown:te,mapModalOpen:no,onConnectionError:()=>ta(!0)}),(null==ex||null==(G=ex.token)?void 0:G.pendingNameChange)&&"home"===eJ&&!nh&&(0,a.jsxs)("div",{className:"modBanner modBanner--warning",children:[(0,a.jsx)("button",{onClick:()=>ng(!0),className:"modBanner__close",title:"Dismiss",children:"\xd7"}),(0,a.jsxs)("div",{className:"modBanner__content",children:[(0,a.jsx)("span",{children:"⚠️"}),(0,a.jsx)("span",{className:"modBanner__text",children:tk("usernameChangeRequired")}),(0,a.jsx)("button",{onClick:()=>nm(!0),className:"modBanner__btn modBanner__btn--dark",children:"Change Name"})]}),(null==ex||null==(T=ex.token)?void 0:T.pendingNameChangePublicNote)&&(0,a.jsx)("div",{className:"modBanner__note",children:ex.token.pendingNameChangePublicNote})]}),(null==ex||null==(R=ex.token)?void 0:R.banned)&&!(null==ex||null==(I=ex.token)?void 0:I.pendingNameChange)&&"home"===eJ&&!nx&&(0,a.jsxs)("div",{className:"modBanner modBanner--error",children:[(0,a.jsx)("button",{onClick:()=>nf(!0),className:"modBanner__close",title:"Dismiss",children:"\xd7"}),(0,a.jsxs)("div",{className:"modBanner__content",children:[(0,a.jsx)("span",{children:"⛔"}),(0,a.jsxs)("span",{className:"modBanner__text",children:[tk("accountSuspended"),(null==ex||null==(B=ex.token)?void 0:B.banType)==="temporary"&&(null==ex||null==(z=ex.token)?void 0:z.banExpiresAt)&&(0,a.jsxs)("span",{className:"modBanner__expires",children:["(Expires: ",new Date(ex.token.banExpiresAt).toLocaleDateString(),")"]})]})]}),(null==ex||null==(L=ex.token)?void 0:L.banPublicNote)&&(0,a.jsx)("div",{className:"modBanner__note",children:ex.token.banPublicNote}),(0,a.jsx)("button",{className:"modBanner__detailsBtn",onClick:()=>{eq(!0),nE("moderation")},children:tk("viewDetails")||"View Details"})]}),!nB&&!eW.env.NEXT_PUBLIC_COOLMATH&&(0,a.jsx)("div",{className:"home_ad ",style:{display:"home"!==eJ||nB||eW.env.NEXT_PUBLIC_COOLMATH?"none":""},children:(0,a.jsx)(O,{unit:"worldguessr_home_ad",inCrazyGames:nB,showAdvertisementText:!1,screenH:eh,types:[[300,250]],screenW:em,vertThresh:em<600?.33:.5})}),(0,a.jsx)("span",{id:"g2_playerCount",className:"bigSpan onlineText desktop ".concat("home"!==eJ?"notHome":""," ").concat("singleplayer"!==eJ&&"onboarding"!==eJ&&(null==tf||!tf.inGame||["waitingForPlayers","findingGame","findingOpponent"].includes(null==tf||null==(F=tf.gameData)?void 0:F.state))&&(null==tf?void 0:tf.connected)&&(null==tf?void 0:tf.playerCount)?"":"hide"),children:nz?tk("maintenanceMode"):tk("onlineCnt",{cnt:(null==tf?void 0:tf.playerCount)||0})}),(null==tf||null==(H=tf.gameData)?void 0:H.duel)&&(null==tf||null==(U=tf.gameData)?void 0:U.state)==="guess"&&(0,a.jsx)("div",{className:"gameBtnContainer",style:{position:"fixed",top:em>830?"90px":"50px",left:em>830?"10px":"0px",zIndex:1e6},children:(0,a.jsx)("button",{className:"gameBtn navBtn backBtn reloadBtn",onClick:()=>tD(),children:(0,a.jsx)("img",{src:"/return.png",alt:"reload",height:13,style:{filter:"invert(1)",transform:"scale(1.5)"}})})}),(0,a.jsx)("div",{children:"home"===eJ&&!no&&ex&&(null==ex||null==(q=ex.token)?void 0:q.secret)&&(0,a.jsxs)("button",{className:"gameBtn leagueBtn",onClick:()=>{eq(!0),nE("elo")},style:{backgroundColor:null==nF||null==(J=nF.league)?void 0:J.color},children:[nF?nU:"..."," ELO ",null==nF||null==(K=nF.league)?void 0:K.emoji]})}),"home"==eJ&&(0,a.jsxs)("div",{className:"home__content g2_modal ".concat("home"!==eJ?"hidden":"cshown"," "),children:[(0,a.jsxs)("div",{className:"g2_nav_ui ".concat(tl?"g2_slide_out":""," ").concat(!0!==nV?"hide":""),children:[null===nV?(0,a.jsx)(a.Fragment,{}):(0,a.jsxs)(a.Fragment,{children:[nV&&(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("h1",{className:"home__title g2_nav_title wg_font ".concat(tl?"g2_slide_out":""),children:"WorldGuessr"})}),nV&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"g2_nav_hr"}),(0,a.jsxs)("div",{className:"g2_nav_group",children:[(0,a.jsx)("button",{className:"g2_nav_text singleplayer",onClick:()=>{eV||(td(!0),n_(!1),setTimeout(()=>{tN(()=>eK("singleplayer")),td(!1)},300))},children:tk("singleplayer")}),(null==ex||null==(Y=ex.token)?void 0:Y.secret)&&(0,a.jsx)("button",{className:"g2_nav_text","aria-label":"Duels",onClick:()=>{tC("publicDuel")},children:tk("rankedDuel")}),(0,a.jsx)("button",{className:"g2_nav_text","aria-label":"Duels",onClick:()=>{tC("unrankedDuel")},children:(null==ex||null==(Z=ex.token)?void 0:Z.secret)?tk("unrankedDuel"):tk("findDuel")})]}),(0,a.jsx)("div",{className:"g2_nav_hr"}),(0,a.jsxs)("div",{className:"g2_nav_group",children:[(0,a.jsx)("button",{className:"g2_nav_text",disabled:nz,onClick:()=>{if(!tg||!(null==tf?void 0:tf.connected))return void ta(!0);td(!0),setTimeout(()=>{td(!1),tC("createPrivateGame")},300)},children:tk("createGame")}),(0,a.jsx)("button",{className:"g2_nav_text",disabled:nz,onClick:()=>{if(!tg||!(null==tf?void 0:tf.connected))return void ta(!0);td(!0),setTimeout(()=>{td(!1),tC("joinPrivateGame")},300)},children:tk("joinGame")})]}),(0,a.jsx)("div",{className:"g2_nav_hr"}),(0,a.jsxs)("div",{className:"g2_nav_group",children:[!eW.env.NEXT_PUBLIC_COOLMATH&&(0,a.jsx)("button",{className:"g2_nav_text","aria-label":"Community Maps",onClick:()=>{td(!0),setTimeout(()=>{td(!1),ni(!0)},300)},children:tk("communityMaps")}),nB&&(0,a.jsx)("button",{className:"g2_nav_text","aria-label":"MapGuessr",onClick:()=>{td(!0),setTimeout(()=>{td(!1),nu(!0)},300)},children:"MapGuessr"})]})]})]}),(0,a.jsx)("br",{})]}),(0,a.jsx)("div",{className:"home__footer ".concat("home"!==eJ||!0!==nV||no||nl||ns||eU||nc?"":"visible"),children:(0,a.jsxs)("div",{className:"footer_btns",children:[!nR&&!to&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(M,{target:"_blank",href:"https://discord.gg/ADw47GAyS5",children:(0,a.jsx)("button",{className:"g2_hover_effect home__squarebtn gameBtn g2_container discord","aria-label":"Discord",children:(0,a.jsx)(l.O4U,{className:"home__squarebtnicon"})})}),!nB&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(M,{target:"_blank",href:"https://www.youtube.com/@worldguessr?sub_confirmation=1",children:(0,a.jsx)("button",{className:"g2_hover_effect home__squarebtn gameBtn g2_container youtube","aria-label":"Youtube",children:(0,a.jsx)(d.Vk6,{className:"home__squarebtnicon"})})}),(0,a.jsx)(M,{target:"_blank",className:"desktop",href:"https://www.coolmathgames.com/0-worldguessr",children:(0,a.jsx)("button",{className:"g2_hover_effect home__squarebtn gameBtn g2_container_full","aria-label":"CoolmathGames",children:(0,a.jsx)(w.default,{src:"/cmlogo.png",draggable:!1,fill:!0,alt:"Coolmath Games Logo",className:"home__squarebtnicon"})})}),(0,a.jsx)(M,{target:"_blank",href:"https://github.com/codergautam/worldguessr",children:(0,a.jsx)("button",{className:"g2_hover_effect home__squarebtn gameBtn g2_container_full","aria-label":"Github",children:(0,a.jsx)(l.hL4,{className:"home__squarebtnicon"})})})]}),(0,a.jsx)(M,{href:"/leaderboard"+(nB?"?crazygames":""),children:(0,a.jsx)("button",{className:"g2_hover_effect home__squarebtn gameBtn g2_container_full ","aria-label":"Leaderboard",children:(0,a.jsx)(d.wO6,{className:"home__squarebtnicon"})})})]}),(0,a.jsx)("button",{className:"g2_hover_effect home__squarebtn gameBtn g2_container_full ","aria-label":"Settings",onClick:()=>na(!0),children:(0,a.jsx)(d.XGb,{className:"home__squarebtnicon"})})]})}),(0,a.jsx)("div",{className:"g2_content g2_content_margin g2_slide_in",style:{display:"flex",gap:"20px",flexDirection:"column"}})]}),(0,a.jsx)(eS,{shown:!1}),(0,a.jsx)(Q,{shown:no||e0,session:ex,onClose:()=>{nG||(nM(!0),setTimeout(()=>{ni(!1),e1(!1),nM(!1)},300))},mapModalClosing:nG,text:tk,customChooseMapCallback:e0&&"singleplayer"===eJ?e=>{console.log("map",e),tm(e.countryMap||e.slug),e1(!1)}:null,showAllCountriesOption:e0&&"singleplayer"===eJ,showOptions:"singleplayer"===eJ,gameOptions:e2,setGameOptions:e5}),(0,a.jsx)(eb,{inCrazyGames:nB,options:nS,setOptions:nk,shown:nt,onClose:()=>na(!1)}),(0,a.jsx)(eG,{isOpen:tt,onClose:()=>ta(!1),title:tf.connecting?tk("multiplayerConnecting"):tk("multiplayerNotConnected"),message:tf.connecting?tk("connectingMessage",{currentRetry:tf.currentRetry,maxRetries:tf.maxRetries}):tk("multiplayerConnectionErrorMessage"),type:tf.connecting?"warning":"error"}),"singleplayer"===eJ&&(0,a.jsx)("div",{className:"home__singleplayer",children:(0,a.jsx)(V,{inCoolMathGames:to,miniMapShown:nN,setMiniMapShown:n_,singlePlayerRound:n4,setSinglePlayerRound:n9,showDiscordModal:n3,setShowDiscordModal:n6,inCrazyGames:nB,showPanoOnResult:tM,setShowPanoOnResult:tT,options:nS,countryStreak:ne,setCountryStreak:nn,hintShown:e8,setHintShown:e7,pinPoint:e4,setPinPoint:e9,showAnswer:e3,setShowAnswer:e6,loading:eV,setLoading:eY,session:ex,gameOptionsModalShown:e0,setGameOptionsModalShown:e1,latLong:eZ,loadLocation:tA,gameOptions:e2,setGameOptions:e5})}),"onboarding"===eJ&&((null==nJ?void 0:nJ.round)||(null==nJ?void 0:nJ.completed))&&(0,a.jsx)("div",{className:"home__onboarding",children:(0,a.jsx)(V,{inCoolMathGames:to,miniMapShown:nN,setMiniMapShown:n_,inCrazyGames:nB,showPanoOnResult:tM,setShowPanoOnResult:tT,countryGuesserCorrect:n0,setCountryGuesserCorrect:n1,showCountryButtons:nX,setShowCountryButtons:n$,otherOptions:nZ,onboarding:nJ,countryGuesser:!1,setOnboarding:nK,backBtnPressed:t_,options:nS,countryStreak:ne,setCountryStreak:nn,hintShown:e8,setHintShown:e7,pinPoint:e4,setPinPoint:e9,showAnswer:e3,setShowAnswer:e6,loading:eV,setLoading:eY,session:ex,gameOptionsModalShown:e0,setGameOptionsModalShown:e1,latLong:eZ,loadLocation:tA,gameOptions:e2,setGameOptions:e5})}),"onboarding"===eJ&&(null==nJ?void 0:nJ.completed)&&(0,a.jsx)("div",{className:"home__onboarding",children:(0,a.jsxs)("div",{className:"home__onboarding__completed",children:[(0,a.jsx)(A,{words:[tk("onboarding1")],pageDone:()=>{try{W.setItem("onboarding","done")}catch(e){}nK(e=>({...e,finalOnboardingShown:!0}))},shown:!(null==nJ?void 0:nJ.finalOnboardingShown)}),(0,a.jsx)(eF,{button1Text:tk("home"),onboarding:nJ,setOnboarding:nK,points:nJ.points,time:(0,E.A)(nJ.timeTaken),maxPoints:25e3,history:nJ.locations||[],options:nS,button1Press:()=>{if(nJ){(0,P.A)("tutorial_end");try{W.setItem("onboarding","done")}catch(e){}}nK(null),window.location.search.includes("app=true")||nB||to||n5(!0),eK("home")}})]})}),(0,a.jsx)(eF,{hidden:!((null==tf?void 0:tf.inGame)&&(null==tf||null==(X=tf.gameData)?void 0:X.state)==="end"&&(null==tf||null==($=tf.gameData)?void 0:$.duelEnd)),duel:!0,data:null==tf||null==(ee=tf.gameData)?void 0:ee.duelEnd,multiplayerState:tf,session:ex,gameId:null==tf||null==(et=tf.gameData)?void 0:et.code,button1Text:tk("playAgain"),options:nS,button1Press:()=>{t_(!0,"ranked")},button2Text:tk("home"),button2Press:()=>{t_()}}),"multiplayer"===eJ&&(0,a.jsx)("div",{className:"home__multiplayer",children:(0,a.jsx)(en,{partyModalShown:n8,setPartyModalShown:n7,multiplayerError:nC,handleAction:tC,session:ex,ws:tg,setWs:tx,multiplayerState:tf,setMultiplayerState:ty,selectCountryModalShown:te,setSelectCountryModalShown:tn})}),tf.inGame&&["guess","getready","end"].includes(null==(ea=tf.gameData)?void 0:ea.state)&&(0,a.jsx)(V,{inCoolMathGames:to,miniMapShown:nN,setMiniMapShown:n_,inCrazyGames:nB,showPanoOnResult:tM,setShowPanoOnResult:tT,options:nS,timeOffset:ny,ws:tg,backBtnPressed:t_,multiplayerChatOpen:tv,setMultiplayerChatOpen:tb,multiplayerState:tf,pinPoint:e4,setPinPoint:e9,loading:eV,setLoading:eY,session:ex,latLong:eZ,loadLocation:()=>{},gameOptions:{location:"all",maxDist:2e4,extent:null!=(ep=null==e2?void 0:e2.extent)?ep:null==tf||null==(eo=tf.gameData)?void 0:eo.extent,nm:null==tf||null==(ei=tf.gameData)?void 0:ei.nm,npz:null==tf||null==(es=tf.gameData)?void 0:es.npz,showRoadName:null==tf||null==(er=tf.gameData)?void 0:er.showRoadName},setGameOptions:()=>{},showAnswer:(null==tf||null==(ec=tf.gameData)?void 0:ec.curRound)!==1&&(null==tf||null==(eu=tf.gameData)?void 0:eu.state)==="getready",setShowAnswer:function(e){var n;if(!e||!tf.inGame||(null==(n=tf.gameData)?void 0:n.state)!=="guess"||!e4)return;let t=[e4.lat,e4.lng];tg.send(JSON.stringify({type:"place",latLong:t,final:!0}))}}),(0,a.jsx)(ev,{id:"clarity",children:'\n\ndocument.addEventListener(\n  \'wheel\',\n  function touchHandler(e) {\n    if (e.ctrlKey) {\n      e.preventDefault();\n    }\n  },\n  { passive: false }\n);\n            window.lastAdShown = Date.now();\n            window.gameOpen = Date.now();\n          //   try {\n          //   if(window.localStorage.getItem("lastAdShown")) {\n          //     window.lastAdShown = parseInt(window.localStorage.getItem("lastAdShown"))\n          // }\n          //   } catch(e) {}\n            window.adInterval = 1800000;\n\n\n            setTimeout(() => {\n            if(window.PokiSDK) {\n            console.log("Poki SDK found initialized")\n            window.PokiSDK.init().then(() => {\n    console.log("Poki SDK successfully initialized");\n    window.poki = true;\n    // fire your function to continue to game\n    window.PokiSDK.gameLoadingFinished();\n\n}).catch(() => {\n    console.log("Initialized, something went wrong, load you game anyway");\n    // fire your function to continue to game\n});\n            }\n}, 1000);\n\n    (function(c,l,a,r,i,t,y){\n        c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)};\n        t=l.createElement(r);t.async=1;t.src="https://www.clarity.ms/tag/"+i;\n        y=l.getElementsByTagName(r)[0];y.parentNode.insertBefore(t,y);\n    })(window, document, "clarity", "script", "ndud94nvsg");\n\n  	window.aiptag = window.aiptag || {cmd: []};\n	aiptag.cmd.display = aiptag.cmd.display || [];\n	aiptag.cmd.player = aiptag.cmd.player || [];\n\n	//CMP tool settings\n	aiptag.cmp = {\n		show: true,\n		position: "centered",  //centered, bottom\n		button: true,\n		buttonText: "Privacy settings",\n		buttonPosition: "bottom-left" //bottom-left, bottom-right, bottom-center, top-left, top-right\n	}\n   window.adsbygoogle = window.adsbygoogle || [];\n  window.adBreak = adConfig = function(o) {adsbygoogle.push(o);}\n   adConfig({preloadAdBreaks: \'on\'});\n\n   aiptag.cmd.player.push(function() {\n	aiptag.adplayer = new aipPlayer({\n		AD_WIDTH: Math.min(Math.max(window.innerWidth, 300), 1066),\n		AD_HEIGHT: Math.min(Math.max(window.innerHeight, 150), 600),\n		AD_DISPLAY: \'modal-center\', //default, fullscreen, fill, center, modal-center\n		LOADING_TEXT: \'loading advertisement\',\n		PREROLL_ELEM: function(){ return document.getElementById(\'videoad\'); },\n		AIP_COMPLETE: function (state) {\n  document.querySelector(\'.videoAdParent\').classList.add(\'hidden\');\n\n    console.log("Ad complete", state)\n			// The callback will be executed once the video ad is completed.\n      window.lastAdShown = Date.now();\n      try {\n      window.localStorage.setItem("lastAdShown", window.lastAdShown)\n    } catch(e) {}\n\n\n			if (typeof aiptag.adplayer.adCompleteCallback === \'function\') {\n				aiptag.adplayer.adCompleteCallback(state);\n			}\n		}\n	});\n});\n\nwindow.show_videoad = function(callback) {\n// if in crazygame (window.inCrazyGames) dont show ads\nif(window.inCrazyGames) {\n  console.log("In crazygames, not showing ads")\n  callback("DISABLED");\n  return;\n}\n\n          if(window.disableVideoAds) {\n          console.log("Video ads disabled")\n            callback("DISABLED");\n            return;\n          }\n\n  if(window.lastAdShown + window.adInterval > Date.now()) {\n            callback("COOLDOWN");\n            return;\n          }\n\n	// Assign the callback to be executed when the ad is done\n	aiptag.adplayer.adCompleteCallback = callback;\n\n	// Check if the adslib is loaded correctly or blocked by adblockers etc.\n	if (typeof aiptag.adplayer !== \'undefined\') {\n  console.log("Showing ad")\n  // remove \'hidden\' class from the parent div\n  document.querySelector(\'.videoAdParent\').classList.remove(\'hidden\');\n		aiptag.cmd.player.push(function() { aiptag.adplayer.startVideoAd(); });\n	} else {\n   console.log("Adlib not loaded")\n		// Adlib didn\'t load; this could be due to an ad blocker, timeout, etc.\n		// Please add your script here that starts the content, this usually is the same script as added in AIP_COMPLETE.\n		aiptag.adplayer.aipConfig.AIP_COMPLETE();\n	}\n}\n\n  '}),(0,a.jsx)(eT,{changelog:eI,text:tk})]})]})}function eq(e){let{path:n}=e;return(0,i.useEffect)(()=>{let e="en",t=["en","es","fr","de","ru"];{try{var a=navigator.language||navigator.userLanguage;a=a.split("-")[0],t.includes(a)&&(e=a)}catch(e){console.error(e)}try{let n=window.localStorage.getItem("lang");console.log("in localstorage",n),n&&t.includes(n)&&(e=n)}catch(e){console.error(e)}let o=new URLSearchParams(window.location.search),i=o.toString()?"?".concat(o.toString()):"";"auto"===n?"en"!==e&&(console.log("Redirecting to",e),window.location.href="/".concat(e).concat(i)):n!==e&&(console.log("Redirecting to",e),window.location.href="/".concat(e).concat(i))}},[]),(0,a.jsx)(eU,{})}},6895:(e,n,t)=>{t.d(n,{A:()=>s});var a=t(7876),o=t(4250),i=t(4232);function s(e){let{isOpen:n,onClose:t,title:s,children:r,actions:l=null,variant:d="default",disableBackdropClose:c=!1}=e,[u,p]=(0,i.useState)(!1),[m,h]=(0,i.useState)(!1);(0,i.useEffect)(()=>{if(n)p(!0),h(!1),document.body.style.overflow="hidden";else if(u){h(!0);let e=setTimeout(()=>{p(!1),h(!1),document.body.style.overflow=""},200);return()=>clearTimeout(e)}return()=>{document.body.style.overflow=""}},[n]);let g=()=>{t&&t()};return u?(0,a.jsxs)("div",{onClick:e=>{e.target!==e.currentTarget||c||g()},className:"jsx-30645ed857b18ec7 "+"modal-backdrop ".concat(m?"closing":""),children:[(0,a.jsxs)("div",{className:"jsx-30645ed857b18ec7 "+"modal ".concat(d," ").concat(m?"closing":""),children:[s&&(0,a.jsxs)("div",{className:"jsx-30645ed857b18ec7 modal-header",children:[(0,a.jsx)("h2",{className:"jsx-30645ed857b18ec7 modal-title",children:s}),(0,a.jsx)("button",{onClick:g,className:"jsx-30645ed857b18ec7 modal-close",children:"\xd7"})]}),(0,a.jsx)("div",{className:"jsx-30645ed857b18ec7 modal-content",children:r}),l&&(0,a.jsx)("div",{className:"jsx-30645ed857b18ec7 modal-actions",children:l})]}),(0,a.jsx)(o,{id:"30645ed857b18ec7",children:'.modal-backdrop.jsx-30645ed857b18ec7{position:fixed;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,.75);display:flex;align-items:center;justify-content:center;z-index:9999;padding:20px;animation:fadeIn.2s ease-out}.modal-backdrop.closing.jsx-30645ed857b18ec7{animation:fadeOut.2s ease-out}.modal.jsx-30645ed857b18ec7{background:linear-gradient(135deg,rgba(0,0,0,.95)0%,rgba(0,30,15,.9)50%,rgba(0,0,0,.95)100%);border-radius:12px;border:1px solid rgba(255,255,255,.1);color:white;font-family:"Lexend",sans-serif;max-width:500px;width:100%;max-height:80vh;overflow:hidden;animation:slideIn.2s ease-out;box-shadow:0 10px 40px rgba(0,0,0,.7);display:flex;flex-direction:column}.modal.closing.jsx-30645ed857b18ec7{animation:slideOut.2s ease-out}.modal.error.jsx-30645ed857b18ec7{background:linear-gradient(135deg,rgba(156,82,39,.95)0%,rgba(91,29,29,.9)100%);border-color:rgba(220,53,69,.3)}.modal-header.jsx-30645ed857b18ec7{display:flex;justify-content:space-between;align-items:center;padding:20px 24px;border-bottom:1px solid rgba(255,255,255,.1)}.modal-title.jsx-30645ed857b18ec7{margin:0;font-size:1.5rem;font-weight:600;color:white}.modal-close.jsx-30645ed857b18ec7{background:rgba(255,255,255,.1);border:1px solid rgba(255,255,255,.2);color:white;border-radius:50%;width:32px;height:32px;display:flex;align-items:center;justify-content:center;cursor:pointer;font-size:18px;transition:all.2s ease}.modal-close.jsx-30645ed857b18ec7:hover{background:rgba(255,255,255,.2);transform:rotate(90deg)}.modal-content.jsx-30645ed857b18ec7{padding:24px;overflow-y:auto;flex:1;min-height:0}.modal-actions.jsx-30645ed857b18ec7{padding:16px 24px 24px;display:flex;justify-content:flex-end;gap:12px;border-top:1px solid rgba(255,255,255,.1);flex-shrink:0}.modal-actions.jsx-30645ed857b18ec7 button{background:linear-gradient(135deg,rgba(36,87,52,.9)0%,rgba(20,65,25,.8)100%);color:white;border:2px solid#245734;border-radius:8px;padding:10px 20px;font-size:14px;font-weight:500;cursor:pointer;transition:all.2s ease;font-family:"Lexend",sans-serif}.modal-actions.jsx-30645ed857b18ec7 button:hover{background:linear-gradient(135deg,rgba(36,87,52,1)0%,rgba(36,87,52,.9)100%);transform:translatey(-1px);box-shadow:0 4px 12px rgba(36,87,52,.4)}@keyframes fadeIn{from{opacity:0}to{opacity:1}}@keyframes fadeOut{from{opacity:1}to{opacity:0}}@keyframes slideIn{from{transform:scale(.9)translatey(30px);opacity:0}to{transform:scale(1)translatey(0);opacity:1}}@keyframes slideOut{from{transform:scale(1)translatey(0);opacity:1}to{transform:scale(.9)translatey(-30px);opacity:0}}@media(max-width:768px){.modal.jsx-30645ed857b18ec7{margin:20px 10px;max-width:calc(100vw - 20px);max-height:calc(100vh - 40px)}.modal-header.jsx-30645ed857b18ec7{padding:16px 20px}.modal-content.jsx-30645ed857b18ec7{padding:20px}.modal-actions.jsx-30645ed857b18ec7{padding:12px 20px 20px}.modal-title.jsx-30645ed857b18ec7{font-size:1.25rem}}'})]}):null}},9276:(e,n,t)=>{t.d(n,{A:()=>i});var a=t(7876),o=t(4232);let i=e=>{let{nm:n=!1,npz:t=!1,showRoadLabels:i=!0,lat:s,long:r,panoId:l,heading:d,pitch:c,showAnswer:u=!1,hidden:p=!1,refreshKey:m=0,onLoad:h}=e,[g,x]=(0,o.useState)(!0),[f,y]=(0,o.useState)(!1),v=(0,o.useRef)(null),b=(0,o.useRef)(null),w=(0,o.useRef)(m);return((0,o.useEffect)(()=>{if(v.current&&(s&&r||l)){let e="https://www.google.com/maps/embed/v1/streetview?location=".concat(s,",").concat(r,"&key=AIzaSyA_t5gb2Mn37dZjhsaJ4F-OPp1PWDxqZyI&fov=100&language=en"),n="".concat(s,"-").concat(r,"-").concat(l),t=null!==b.current&&b.current!==n,a=w.current!==m;(t||a||!b.current)&&(window.googleMapsIframeStartTime=performance.now(),x(!0),y(!1),v.current.src=e),b.current=n,w.current=m}},[s,r,l,d,c,m]),window.reloadLoc=()=>{let e=document.getElementById("streetview");e&&(e.src=e.src)},s&&r||l)?("https://www.google.com/maps/embed/v1/streetview?location=".concat(s,",").concat(r,"&key=AIzaSyA_t5gb2Mn37dZjhsaJ4F-OPp1PWDxqZyI&fov=100&language=en"),(0,a.jsx)("iframe",{ref:v,className:"".concat(t&&n&&!u?"nmpz":""," ").concat(p?"hidden":""," streetview"),referrerPolicy:"no-referrer-when-downgrade",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; picture-in-picture",onLoad:()=>{window.googleMapsIframeStartTime&&console.log("[PERF] StreetView: Google Maps iframe loaded in ".concat((performance.now()-window.googleMapsIframeStartTime).toFixed(2),"ms")),x(!1),y(!0),h&&(s&&r||l)&&h()},loading:"eager",style:{width:"100vw",height:"calc(100vh + 300px)",zIndex:100,transform:"translateY(-285px)",border:"none",backgroundColor:"#1a1a2e"},id:"streetview"})):null}},9395:(e,n,t)=>{t.d(n,{A:()=>a});function a(e){if(e.match(/^Guest #[0-9]{4}$/))return e;let n=0;for(let t=0;t<e.length;t++)n=(31*n+e.charCodeAt(t))%1e4;return"Guest #"+n.toString().padStart(4,"0")}}}]);