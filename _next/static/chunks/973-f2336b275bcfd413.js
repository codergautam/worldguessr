"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[973],{62:(e,t,a)=>{a.d(t,{A:()=>f});var n=a(7876),r=a(5259),o=a(1173);a(2069);var l=a(4232),i=a(8477),s=a(6059),d=a(2393),c=a(3014),p=a(6148),x=a(4679);a(9034);let g=["AD","AE","AF","AG","AI","AL","AM","AO","AQ","AR","AS","AT","AU","AW","AX","AZ","BA","BB","BD","BE","BF","BG","BH","BI","BJ","BL","BM","BN","BO","BQ","BR","BS","BT","BV","BW","BY","BZ","CA","CC","CD","CF","CG","CH","CI","CK","CL","CM","CN","CO","CR","CU","CV","CW","CX","CY","CZ","DE","DJ","DK","DM","DO","DZ","EC","EE","EG","EH","ER","ES","ET","FI","FJ","FK","FM","FO","FR","GA","GB","GD","GE","GF","GG","GH","GI","GL","GM","GN","GP","GQ","GR","GS","GT","GU","GW","GY","HK","HM","HN","HR","HT","HU","ID","IE","IL","IM","IN","IO","IQ","IR","IS","IT","JE","JM","JO","JP","KE","KG","KH","KI","KM","KN","KP","KR","KW","KY","KZ","LA","LB","LC","LI","LK","LR","LS","LT","LU","LV","LY","MA","MC","MD","ME","MF","MG","MH","MK","ML","MM","MN","MO","MP","MQ","MR","MS","MT","MU","MV","MW","MX","MY","MZ","NA","NC","NE","NF","NG","NI","NL","NO","NP","NR","NU","NZ","OM","PA","PE","PF","PG","PH","PK","PL","PM","PN","PR","PS","PT","PW","PY","QA","RE","RO","RS","RU","RW","SA","SB","SC","SD","SE","SG","SH","SI","SJ","SK","SL","SM","SN","SO","SR","SS","ST","SV","SX","SY","SZ","TC","TD","TF","TG","TH","TJ","TK","TL","TM","TN","TO","TR","TT","TV","TW","TZ","UA","UG","UM","US","UY","UZ","VA","VC","VE","VG","VI","VN","VU","WF","WS","YE","YT","ZA","ZM","ZW"];function u(e){let{shown:t,onClose:a,currentCountry:r,onSelect:i,session:s,ws:d}=e,{t:c}=(0,o.B)("common"),[u,f]=(0,l.useState)(""),[m,h]=(0,l.useState)(!1),b=(0,l.useMemo)(()=>{if(!u)return g;let e=u.toLowerCase();return g.filter(t=>(0,x.A)(t).toLowerCase().includes(e)||t.toLowerCase().includes(e))},[u]),y=async e=>{h(!0);try{var t;let n=await fetch(window.cConfig.apiUrl+"/api/updateCountryCode",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:null==s||null==(t=s.token)?void 0:t.secret,countryCode:e})});if(n.ok){let e=await n.json();i(e.countryCode),d&&d.send(JSON.stringify({type:"updateCountryCode",countryCode:e.countryCode||""})),a()}else{let e=await n.json();alert(e.message||"Failed to update country")}}catch(e){alert("An error occurred")}finally{h(!1)}},j=async()=>{await y("")};return(0,n.jsx)(p.a,{open:t,onClose:a,center:!0,styles:{modal:{background:"transparent",padding:0,margin:0,boxShadow:"none",maxWidth:"100%",width:"auto",overflow:"visible"},overlay:{background:"rgba(0, 0, 0, 0.8)",backdropFilter:"blur(10px)",overflow:"hidden"}},children:(0,n.jsxs)("div",{className:"join-party-card",style:{maxWidth:"600px",width:"90vw",maxHeight:"80vh",display:"flex",flexDirection:"column",animation:"slideInUp 0.6s ease-out"},children:[(0,n.jsx)("h2",{style:{textAlign:"center",marginBottom:"15px",flexShrink:0},children:c("selectCountryFlag")||"Select Your Country Flag"}),(0,n.jsx)("input",{type:"text",className:"join-party-input",placeholder:c("searchCountry")||"Search country...",value:u,onChange:e=>f(e.target.value),style:{marginBottom:"15px",flexShrink:0}}),(0,n.jsx)("div",{style:{flex:1,minHeight:0,overflowY:"auto",overflowX:"hidden",display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(min(160px, 100%), 1fr))",gap:"8px",marginBottom:"15px",paddingRight:"5px"},children:b.map(e=>(0,n.jsxs)("button",{onClick:()=>y(e),disabled:m,style:{padding:"10px",background:r===e?"rgba(76, 175, 80, 0.3)":"rgba(255, 255, 255, 0.1)",border:r===e?"2px solid #4CAF50":"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"8px",color:"white",cursor:m?"not-allowed":"pointer",textAlign:"left",transition:"all 0.2s",display:"flex",alignItems:"center",gap:"8px"},onMouseEnter:e=>{m||(e.target.style.background="rgba(255, 255, 255, 0.2)")},onMouseLeave:t=>{m||(t.target.style.background=r===e?"rgba(76, 175, 80, 0.3)":"rgba(255, 255, 255, 0.1)")},children:[(0,n.jsx)("span",{style:{fontSize:"20px",flexShrink:0},children:String.fromCodePoint(...[...e].map(e=>127397+e.charCodeAt(0)))}),(0,n.jsx)("span",{style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:(0,x.A)(e)})]},e))}),(0,n.jsxs)("div",{style:{display:"flex",gap:"10px",justifyContent:"center",flexShrink:0},children:[r&&(0,n.jsx)("button",{className:"join-party-button",onClick:j,disabled:m,style:{background:"rgba(244, 67, 54, 0.8)",borderColor:"#c62828"},children:c("removeFlag")||"Remove Flag"}),(0,n.jsx)("button",{className:"join-party-button",onClick:a,style:{background:"rgba(255, 255, 255, 0.2)",borderColor:"rgba(255, 255, 255, 0.3)"},children:c("cancel")||"Cancel"})]})]})})}function f(e){var t,a;let{accountData:p,supporter:x,eloData:g,session:f,isPublic:m=!1,username:h=null,viewingPublicProfile:b=!1,ws:y=null}=e,{t:j}=(0,o.B)("common"),[w,v]=(0,l.useState)(!1),[k,C]=(0,l.useState)(!1),[S,T]=(0,l.useState)(null),M=!m&&(null==f||null==(t=f.token)?void 0:t.pendingNameChange);(0,l.useEffect)(()=>{var e;!m&&(null==f||null==(e=f.token)?void 0:e.accountId)&&fetch(window.cConfig.apiUrl+"/api/publicAccount",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:f.token.accountId})}).then(e=>e.json()).then(e=>T(e.countryCode||null)).catch(e=>console.error("Error loading country:",e))},[m,null==f||null==(a=f.token)?void 0:a.accountId]);let N=async()=>{var e;if(M)return void v(!0);if(window.settingName)return;let t=null==f||null==(e=f.token)?void 0:e.secret;if(!t)return alert("An error occurred (log out and log back in)");try{let e=await fetch(window.cConfig.apiUrl+"/api/checkIfNameChangeProgress",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:t})}),a=await e.json();if(a.name)return alert(j("nameChangeInProgress",{name:a.name}))}catch(e){return alert("An error occurred")}let a=prompt(j("enterNewName"));window.settingName=!0;let n=await fetch(window.cConfig.apiUrl+"/api/setName",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:a,token:t})});if(n.ok)window.settingName=!1,alert(j("nameChanged")),setTimeout(()=>{window.location.reload()},1e3);else{window.settingName=!1;try{let e=await n.json();alert(e.message||"An error occurred")}catch(e){alert("An error occurred")}}},R={fontSize:"20px",letterSpacing:"0.5px",marginBottom:"15px",display:"flex",alignItems:"center"},A={marginRight:"12px",fontSize:"20px",width:"24px"},G={marginTop:"20px",padding:"12px 24px",border:"none",borderRadius:"25px",background:"linear-gradient(135deg, #28a745, #20c997)",color:"white",cursor:"pointer",fontSize:"16px",fontWeight:"600",transition:"all 0.3s ease",boxShadow:"0 4px 15px rgba(40, 167, 69, 0.3)",textTransform:"uppercase",letterSpacing:"0.5px"},B={...R,color:"#ffc107",background:"rgba(255, 193, 7, 0.1)",padding:"10px 15px",borderRadius:"10px",border:"1px solid rgba(255, 193, 7, 0.3)"};return(0,n.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"flexStart",textAlign:"left",color:"#fff",fontFamily:'"Lexend", sans-serif',paddingBottom:"20px",boxSizing:"border-box",borderRadius:"10px",gap:"20px"},children:[(0,n.jsxs)("div",{style:{background:"rgba(255, 255, 255, 0.1)",borderRadius:"20px",padding:"30px",backdropFilter:"blur(20px)",border:"1px solid rgba(255, 255, 255, 0.1)",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.3)"},children:[(0,n.jsxs)("div",{style:R,children:[(0,n.jsx)(s.w_X,{style:A}),j("joined",{t:(0,r.A)(Date.now()-new Date(p.createdAt).getTime())})]}),p.lastLogin&&b&&!1,(0,n.jsxs)("div",{style:R,children:[(0,n.jsx)(s.gt3,{style:{...A}}),p.totalXp," XP"]}),(0,n.jsxs)("div",{style:R,children:[(0,n.jsx)(s.pBr,{style:A}),j("gamesPlayed",{games:p.gamesLen||p.gamesPlayed||0})]}),b&&void 0!==p.profileViews&&(0,n.jsxs)("div",{style:R,children:[(0,n.jsx)(s.YXz,{style:A}),j("profileViews")||"Profile Views",": ",p.profileViews.toLocaleString()]}),!m&&(0,n.jsxs)(n.Fragment,{children:[M?(0,n.jsxs)("button",{style:{...G,background:"linear-gradient(135deg, #f0883e, #d29922)",boxShadow:"0 4px 15px rgba(240, 136, 62, 0.3)"},onClick:N,onMouseEnter:e=>{e.target.style.transform="translateY(-2px)",e.target.style.boxShadow="0 6px 20px rgba(240, 136, 62, 0.4)"},onMouseLeave:e=>{e.target.style.transform="translateY(0)",e.target.style.boxShadow="0 4px 15px rgba(240, 136, 62, 0.3)"},children:["⚠️ ",j("changeName")," (",j("required")||"Required",")"]}):p.canChangeUsername?(0,n.jsx)("button",{style:G,onClick:N,onMouseEnter:e=>{e.target.style.transform="translateY(-2px)",e.target.style.boxShadow="0 6px 20px rgba(40, 167, 69, 0.4)"},onMouseLeave:e=>{e.target.style.transform="translateY(0)",e.target.style.boxShadow="0 4px 15px rgba(40, 167, 69, 0.3)"},children:j("changeName")}):p.recentChange?(0,n.jsxs)("div",{style:B,children:[(0,n.jsx)("i",{className:"fas fa-exclamation-triangle",style:A}),j("recentChange")]}):null,!M&&p.daysUntilNameChange>0&&(0,n.jsxs)("div",{style:B,children:[(0,n.jsx)("i",{className:"fas fa-exclamation-triangle",style:A}),j("nameChangeCooldown",{days:p.daysUntilNameChange})]})]}),!m&&(0,n.jsx)("button",{style:{...G,background:"linear-gradient(135deg, #2196F3, #1976D2)",boxShadow:"0 4px 15px rgba(33, 150, 243, 0.3)"},onClick:()=>C(!0),onMouseEnter:e=>{e.target.style.transform="translateY(-2px)",e.target.style.boxShadow="0 6px 20px rgba(33, 150, 243, 0.4)"},onMouseLeave:e=>{e.target.style.transform="translateY(0)",e.target.style.boxShadow="0 4px 15px rgba(33, 150, 243, 0.3)"},children:S?"".concat(String.fromCodePoint(...[...S].map(e=>127397+e.charCodeAt(0)))," ").concat(j("changeFlag")||"Change Flag"):"\ud83c\udf0d ".concat(j("setFlag")||"Set Flag")})]}),(0,n.jsx)(d.A,{session:f,isPublic:m,username:h}),w&&"undefined"!=typeof document&&(0,i.createPortal)((0,n.jsx)(c.A,{session:f,isOpen:w,onClose:()=>v(!1)}),document.body),k&&(0,n.jsx)(u,{shown:k,onClose:()=>C(!1),currentCountry:S,onSelect:e=>{T(e)},session:f,ws:y})]})}},2069:(e,t,a)=>{a.d(t,{WV:()=>r,t0:()=>n});let n={explorer:{min:0,max:1999,name:"Trekker",emoji:"\uD83E\uDD7E",color:"#808080",light:"#d3d3d3"},trekker:{min:2e3,max:4999,name:"Explorer",emoji:"\uD83E\uDDED",color:"#cd7f32"},voyager:{min:5e3,max:7999,name:"Voyager",emoji:"\uD83D\uDEA2",color:"#ffd700"},nomad:{min:8e3,max:2e4,name:"Nomad",emoji:"\uD83C\uDF0D",color:"#b9f2ff"}},r=e=>{for(let t in n)if(e>=n[t].min&&e<=n[t].max)return n[t]}},2393:(e,t,a)=>{a.d(t,{A:()=>p});var n=a(7876),r=a(4250),o=a(4232),l=a(1173),i=a(3603),s=a(1047),d=a(1134);a(5961),s.t1.register(s.PP,s.kc,s.FN,s.No,s.hE,s.m_,s.s$,s.dN,s.UA);let c=new Map;function p(e){var t,a,s,p,x;let{session:g,mode:u="xp",isPublic:f=!1,username:m=null}=e,{t:h}=(0,l.B)("common"),[b,y]=(0,o.useState)([]),[j,w]=(0,o.useState)(!0),[v,k]=(0,o.useState)("xp"===u?"xp":"elo"),[C,S]=(0,o.useState)("alltime"),[T,M]=(0,o.useState)(""),[N,R]=(0,o.useState)(""),[A,G]=(0,o.useState)(null),B=async()=>{var e,t,a,n,r,o,l;if(!(f?m&&((null==(e=window.cConfig)?void 0:e.apiUrl)||(null==(t=(0,i.A)())?void 0:t.apiUrl)):(null==g||null==(a=g.token)?void 0:a.accountId)&&((null==(n=window.cConfig)?void 0:n.apiUrl)||(null==(r=(0,i.A)())?void 0:r.apiUrl))))return;let s=f?"public_".concat(m):"private_".concat(g.token.accountId),d=c.get(s);if(d&&Date.now()-d.timestamp<3e5){y(d.data.progression),L(d.data.progression),w(!1);return}w(!0);try{let e=f?{username:m}:{userId:g.token.accountId},t=(null==(o=window.cConfig)?void 0:o.apiUrl)||(null==(l=(0,i.A)())?void 0:l.apiUrl),a=await fetch(t+"/api/userProgression",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(a.ok){let e=await a.json();c.set(s,{data:e,timestamp:Date.now()}),y(e.progression),L(e.progression)}else{console.error("Failed to fetch user progression",a.status);let e=await a.text();console.error("Error details:",e)}}catch(e){console.error("Error fetching user progression:",e)}finally{w(!1)}},L=e=>{let t,a,n=[],r=new Date,o=e.filter(e=>{if("alltime"===C)return!0;let t=new Date(e.timestamp);if("custom"===C){if(!T&&!N)return!0;let e=new Date(T||0),a=N?new Date(N):r;return t>=e&&t<=a}let a=Math.floor((r-t)/864e5);return"7days"===C?a<=7:"30days"!==C||a<=30});if(0===o.length&&e.length>0&&(o=[e[e.length-1]]),o.forEach((e,t)=>{let a=new Date(e.timestamp);"xp"===u?"xp"===v?n.push({x:a,y:e.totalXp,xpGain:e.xpGain||0,rank:e.xpRank,rankGain:e.rankImprovement||0}):n.push({x:a,y:e.xpRank,rankGain:e.rankImprovement||0}):"elo"===v?n.push({x:a,y:e.elo,eloGain:e.eloChange||0,rank:e.eloRank,rankGain:e.eloChange?e.eloChange>0?Math.abs(e.rankImprovement||0):-Math.abs(e.rankImprovement||0):0}):n.push({x:a,y:e.eloRank,rankGain:e.eloChange?e.eloChange>0?Math.abs(e.rankImprovement||0):-Math.abs(e.rankImprovement||0):0})}),1===n.length){let e=n[0],t=new Date;n.push({x:t,y:e.y,..."xp"===u?{xpGain:0,rank:e.rank,rankGain:0}:{eloGain:0,rank:e.rank,rankGain:0}})}else if(0===n.length){console.log("[XPGraph] No data points available"),G(null);return}else if(n.length>1){let e=n[n.length-1],t=new Date,a=new Date(e.x),r=!1;if("alltime"===C)r=!0;else if("custom"===C)if(T||N){let e=new Date(T||0),a=N?new Date(N):t;r=t>=e&&t<=a}else r=!0;else r=!0;let o=Math.abs(t.getTime()-a.getTime());r&&o>864e5&&n.push({x:t,y:e.y,..."xp"===u?{xpGain:0,rank:e.rank,rankGain:0}:{eloGain:0,rank:e.rank,rankGain:0}})}let l=n.map((e,t)=>{let a=!1;if(0===t||t===n.length-1)return 4;let r=n[t-1];return r&&e.y!==r.y&&(a=!0),a||(a="xp"===u?"xp"===v?0!==e.xpGain:0!==e.rankGain:"elo"===v?0!==e.eloGain:0!==e.rankGain),4*!!a}),i=n.map(e=>e.y),s=Math.min(...i),d=Math.max(...i),c=d-s;if(0===c){let e=Math.max(1,Math.abs(.1*s));t=s-e,a=s+e,console.log("[XPGraph] All values are the same, using artificial range:",{baseValue:s,artificialRange:e,suggestedMin:t,suggestedMax:a})}else{let e=.05*c;t=s-e,a=d+e}G({datasets:[{label:"xp"===u?"xp"===v?h("totalXP"):h("xpRank"):"elo"===v?h("elo"):h("eloRank"),data:n,borderColor:"xp"===u&&"xp"===v||"elo"===u&&"elo"===v?"#4CAF50":"#2196F3",backgroundColor:"xp"===u&&"xp"===v||"elo"===u&&"elo"===v?"rgba(76, 175, 80, 0.1)":"rgba(33, 150, 243, 0.1)",fill:!0,tension:0,pointRadius:l,pointHoverRadius:6,pointBackgroundColor:"xp"===u&&"xp"===v||"elo"===u&&"elo"===v?"#4CAF50":"#2196F3",pointBorderColor:"#ffffff",pointBorderWidth:2,suggestedMin:t,suggestedMax:a}]})};(0,o.useEffect)(()=>{b.length>0&&L(b)},[v,C,b,T,N]),(0,o.useEffect)(()=>{B()},[null==g||null==(t=g.token)?void 0:t.accountId,m,f]);let E={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{backgroundColor:"rgba(0, 0, 0, 0.8)",titleColor:"#ffffff",bodyColor:"#ffffff",borderColor:"rgba(255, 255, 255, 0.2)",borderWidth:1,callbacks:{title:e=>new Date(e[0].parsed.x).toLocaleDateString(void 0,{weekday:"short",year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),label:e=>{if("xp"===u)if("xp"!==v)return e.raw.rankGain,["".concat(h("xpRank"),": #").concat(e.parsed.y)];else{let t=e.raw.xpGain||0,a=["".concat(h("totalXP"),": ").concat(e.parsed.y.toLocaleString())];return 0!==t&&a.push("".concat(h("xpGain"),": +").concat(t)),a}if("elo"!==v)return e.raw.rankGain,["".concat(h("eloRank"),": #").concat(e.parsed.y)];{let t=e.raw.eloGain||0,a=["".concat(h("elo"),": ").concat(e.parsed.y)];return 0!==t&&a.push("".concat(h("eloGain"),": ").concat(t>0?"+".concat(t):"".concat(t))),a}}}}},scales:{x:{type:"time",time:{unit:"day",displayFormats:{hour:"MMM dd",day:"MMM dd",week:"MMM dd",month:"MMM yyyy"},tooltipFormat:"MMM dd, yyyy HH:mm"},grid:{color:"rgba(255, 255, 255, 0.1)"},ticks:{color:"rgba(255, 255, 255, 0.7)",maxTicksLimit:window.innerWidth<768?4:8,autoSkip:!0,maxRotation:45*(window.innerWidth<768),minRotation:45*(window.innerWidth<768)}},y:{min:null==A||null==(a=A.datasets[0])?void 0:a.suggestedMin,max:null==A||null==(s=A.datasets[0])?void 0:s.suggestedMax,reverse:"xp"===u&&"rank"===v||"elo"===u&&"eloRank"===v,grid:{color:"rgba(255, 255, 255, 0.1)"},ticks:{color:"rgba(255, 255, 255, 0.7)",callback:function(e){return"xp"===u&&"xp"===v||"elo"===u&&"elo"===v?Math.floor(e).toLocaleString():"#".concat(Math.floor(e))}}}}},F={background:"rgba(255, 255, 255, 0.05)",borderRadius:"20px",padding:"30px",backdropFilter:"blur(20px)",border:"1px solid rgba(255, 255, 255, 0.1)",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.3)",marginTop:"20px"};if(j)return(0,n.jsx)("div",{style:F,children:(0,n.jsxs)("div",{style:{textAlign:"center",color:"#fff"},children:[(0,n.jsx)("div",{style:{width:"40px",height:"40px",border:"3px solid rgba(255,255,255,0.3)",borderTop:"3px solid #4CAF50",borderRadius:"50%",animation:"spin 1s linear infinite",margin:"0 auto 20px"}}),(0,n.jsx)("p",{children:h("loadingGameHistory")})]})});if(0===b.length)return(0,n.jsx)("div",{style:F,children:(0,n.jsxs)("div",{style:{textAlign:"center",color:"#fff"},children:[(0,n.jsx)("h3",{children:h("noStatsAvailable")}),!f&&(0,n.jsx)("p",{children:h("playGamesToSeeProgression")})]})});let P=()=>{if(0===b.length)return 0;let e=b[b.length-1];return"xp"===u?"xp"===v?e.totalXp:e.xpRank:"elo"===v?e.elo:e.eloRank};return(0,n.jsxs)("div",{style:F,className:"jsx-869b1a0f881f2744 xp-graph-container",children:[(0,n.jsxs)("div",{className:"jsx-869b1a0f881f2744 xp-graph-header",children:[(0,n.jsx)("h3",{className:"jsx-869b1a0f881f2744 xp-graph-title",children:(()=>{let e="xp"===u?"xp"===v?h("xpOverTime"):h("rankOverTime"):"elo"===v?h("eloOverTime"):h("eloRankOverTime");switch(C){case"7days":return"".concat(e," (7 Days)");case"30days":return"".concat(e," (30 Days)");case"custom":if(T&&N)return"".concat(e," (").concat(new Date(T).toLocaleDateString()," - ").concat(new Date(N).toLocaleDateString(),")");if(T)return"".concat(e," (From ").concat(new Date(T).toLocaleDateString(),")");if(N)return"".concat(e," (Until ").concat(new Date(N).toLocaleDateString(),")");else return"".concat(e," (Custom)");default:return"".concat(e," (All Time)")}})()}),(0,n.jsxs)("div",{className:"jsx-869b1a0f881f2744 xp-graph-controls",children:[(0,n.jsxs)("div",{className:"jsx-869b1a0f881f2744 date-filter-toggle",children:[(0,n.jsx)("button",{onClick:()=>S("7days"),className:"jsx-869b1a0f881f2744 "+"toggle-btn ".concat("7days"===C?"active":""),children:"7D"}),(0,n.jsx)("button",{onClick:()=>S("30days"),className:"jsx-869b1a0f881f2744 "+"toggle-btn ".concat("30days"===C?"active":""),children:"30D"}),(0,n.jsx)("button",{onClick:()=>S("alltime"),className:"jsx-869b1a0f881f2744 "+"toggle-btn ".concat("alltime"===C?"active":""),children:"All"}),(0,n.jsx)("button",{onClick:()=>S("custom"),className:"jsx-869b1a0f881f2744 "+"toggle-btn ".concat("custom"===C?"active":""),children:"Custom"})]}),"custom"===C&&(0,n.jsxs)("div",{className:"jsx-869b1a0f881f2744 custom-date-picker",children:[(0,n.jsx)("input",{type:"date",value:T,onChange:e=>M(e.target.value),placeholder:"Start Date",className:"jsx-869b1a0f881f2744 date-input"}),(0,n.jsx)("span",{className:"jsx-869b1a0f881f2744 date-separator",children:"to"}),(0,n.jsx)("input",{type:"date",value:N,onChange:e=>R(e.target.value),placeholder:"End Date",className:"jsx-869b1a0f881f2744 date-input"})]}),(0,n.jsxs)("div",{className:"jsx-869b1a0f881f2744 view-mode-toggle",children:[(0,n.jsx)("button",{onClick:()=>k("xp"===u?"xp":"elo"),className:"jsx-869b1a0f881f2744 "+"toggle-btn ".concat("xp"===u?"xp"===v?"active":"":"elo"===v?"active":""),children:"xp"===u?h("xp"):h("elo")}),(0,n.jsx)("button",{onClick:()=>k("xp"===u?"rank":"eloRank"),className:"jsx-869b1a0f881f2744 "+"toggle-btn ".concat("xp"===u?"rank"===v?"active":"":"eloRank"===v?"active":""),children:h("rank")})]})]})]}),(0,n.jsx)("div",{className:"jsx-869b1a0f881f2744 chart-container",children:A&&(0,n.jsx)(d.N1,{data:A,options:E})}),(0,n.jsxs)("div",{className:"jsx-869b1a0f881f2744 chart-stats",children:[(0,n.jsx)("span",{className:"jsx-869b1a0f881f2744 data-points",children:h("dataPoints",{count:(null==A||null==(x=A.datasets[0])||null==(p=x.data)?void 0:p.length)||0})}),(0,n.jsx)("span",{className:"jsx-869b1a0f881f2744 current-value",children:"xp"===u?"xp"===v?"".concat(h("currentXP"),": ").concat(P().toLocaleString()):"".concat(h("currentRank"),": #").concat(P()):"elo"===v?"".concat(h("currentElo"),": ").concat(P()):"".concat(h("currentRank"),": #").concat(P())})]}),(0,n.jsx)(r,{id:"869b1a0f881f2744",children:"@keyframes spin{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}.xp-graph-header.jsx-869b1a0f881f2744{display:flex;flex-direction:column;gap:20px;margin-bottom:20px}.xp-graph-title.jsx-869b1a0f881f2744{color:#fff;margin:0;font-size:20px;font-weight:bold;text-align:center;line-height:1.3}.xp-graph-controls.jsx-869b1a0f881f2744{display:flex;flex-direction:column;gap:15px;align-items:center;width:100%}.date-filter-toggle.jsx-869b1a0f881f2744,.view-mode-toggle.jsx-869b1a0f881f2744{display:flex;background:rgba(255,255,255,.1);border-radius:25px;padding:2px;gap:1px;width:100%;max-width:100%;justify-content:center}.toggle-btn.jsx-869b1a0f881f2744{padding:10px 8px;border-radius:20px;border:none;background:transparent;color:#fff;cursor:pointer;font-size:13px;font-weight:600;transition:all.3s ease;text-transform:uppercase;letter-spacing:.3px;white-space:nowrap;flex:1;min-width:0;text-align:center}.toggle-btn.active.jsx-869b1a0f881f2744{background:#4CAF50;transform:scale(1.05)}.toggle-btn.jsx-869b1a0f881f2744:hover:not(.active){background:rgba(255,255,255,.1);transform:scale(1.02)}.custom-date-picker.jsx-869b1a0f881f2744{display:flex;gap:12px;align-items:center;background:rgba(255,255,255,.1);border-radius:12px;padding:15px;width:100%;max-width:100%;flex-wrap:wrap;justify-content:center}.date-input.jsx-869b1a0f881f2744{background:rgba(255,255,255,.1);border:1px solid rgba(255,255,255,.3);border-radius:8px;padding:12px;color:#fff;font-size:14px;min-width:140px;flex:1;max-width:200px}.date-input.jsx-869b1a0f881f2744:focus{outline:none;border-color:#4CAF50;box-shadow:0 0 0 2px rgba(76,175,80,.2)}.date-separator.jsx-869b1a0f881f2744{color:#fff;font-size:14px;font-weight:500;white-space:nowrap}.chart-container.jsx-869b1a0f881f2744{height:300px;position:relative;margin:20px 0}.chart-stats.jsx-869b1a0f881f2744{display:flex;flex-direction:column;gap:8px;margin-top:15px;color:rgba(255,255,255,.7);font-size:14px;text-align:center}.data-points.jsx-869b1a0f881f2744,.current-value.jsx-869b1a0f881f2744{display:block}@media(min-width:768px){.xp-graph-header.jsx-869b1a0f881f2744{flex-direction:row;justify-content:space-between;align-items:flex-start}.xp-graph-title.jsx-869b1a0f881f2744{font-size:24px;text-align:left;flex:1}.xp-graph-controls.jsx-869b1a0f881f2744{align-items:flex-end;flex-shrink:0;width:auto;max-width:400px}.date-filter-toggle.jsx-869b1a0f881f2744,.view-mode-toggle.jsx-869b1a0f881f2744{width:fit-content;justify-content:flex-end}.toggle-btn.jsx-869b1a0f881f2744{padding:10px 20px;flex:none;min-width:auto;max-width:none}.custom-date-picker.jsx-869b1a0f881f2744{flex-wrap:nowrap;width:fit-content;justify-content:flex-end}.date-input.jsx-869b1a0f881f2744{min-width:120px;flex:none}.chart-container.jsx-869b1a0f881f2744{height:400px}.chart-stats.jsx-869b1a0f881f2744{flex-direction:row;justify-content:space-between;text-align:left}}@media(min-width:1024px){.xp-graph-controls.jsx-869b1a0f881f2744{max-width:500px}}@media(max-width:480px){.xp-graph-title.jsx-869b1a0f881f2744{font-size:18px}.toggle-btn.jsx-869b1a0f881f2744{padding:8px 6px;font-size:11px}.custom-date-picker.jsx-869b1a0f881f2744{padding:12px;gap:8px}.date-input.jsx-869b1a0f881f2744{padding:10px;font-size:12px;min-width:120px}}"})]})}},3014:(e,t,a)=>{a.d(t,{A:()=>l});var n=a(7876),r=a(4232),o=a(1173);function l(e){var t;let{session:a,onClose:l,isOpen:s=!0}=e,{t:d}=(0,o.B)("common"),[c,p]=(0,r.useState)(""),[x,g]=(0,r.useState)(!1),[u,f]=(0,r.useState)(null),[m,h]=(0,r.useState)(!1),[b,y]=(0,r.useState)(null),j=async()=>{try{var e;let t=await fetch(window.cConfig.apiUrl+"/api/checkNameChangeStatus",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({secret:null==a||null==(e=a.token)?void 0:e.secret})});if(t.ok){let e=await t.json();e.hasPendingRequest&&y(e.request)}}catch(e){console.error("Error checking name change status:",e)}};if((0,r.useEffect)(()=>{s&&j()},[s]),!s)return null;let w=async()=>{if(!c.trim())return void f("Please enter a new username");let e=c.trim();if(e.length<3||e.length>20)return void f("Username must be between 3 and 20 characters");if(!/^[a-zA-Z0-9_-]+$/.test(e))return void f("Username can only contain letters, numbers, underscores, and hyphens");g(!0),f(null);try{var t;let n=await fetch(window.cConfig.apiUrl+"/api/submitNameChange",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({secret:null==a||null==(t=a.token)?void 0:t.secret,newUsername:e})}),r=await n.json();n.ok?(h(!0),y({requestedUsername:e,status:"pending"})):f(r.message||"Failed to submit name change")}catch(e){f("Network error occurred")}finally{g(!1)}};return(0,n.jsx)("div",{style:i.overlay,children:(0,n.jsxs)("div",{style:i.modal,children:[(0,n.jsxs)("div",{style:i.header,children:[(0,n.jsx)("h2",{style:i.title,children:"⚠️ Username Change Required"}),l&&(0,n.jsx)("button",{onClick:l,style:i.closeBtn,children:"\xd7"})]}),(0,n.jsxs)("div",{style:i.body,children:[(0,n.jsx)("p",{style:i.description,children:"Your username has been flagged as inappropriate. You can still play singleplayer, but multiplayer is disabled until your new name is approved."}),(null==a||null==(t=a.token)?void 0:t.pendingNameChangeReason)&&(0,n.jsxs)("p",{style:i.reason,children:[(0,n.jsx)("strong",{children:"Reason:"})," ",a.token.pendingNameChangeReason]}),(null==b?void 0:b.status)==="pending"?(0,n.jsxs)("div",{style:i.pendingBox,children:[(0,n.jsx)("h3",{style:i.pendingTitle,children:"⏳ Awaiting Approval"}),(0,n.jsxs)("p",{style:i.pendingText,children:["Your requested username ",(0,n.jsxs)("strong",{children:['"',b.requestedUsername,'"']})," is being reviewed by our moderation team."]}),(0,n.jsx)("p",{style:i.pendingNote,children:"You will be able to play multiplayer once your new username is approved. This usually takes less than 7 days."}),(0,n.jsx)("div",{style:i.divider,children:(0,n.jsx)("span",{children:"or submit a different name"})})]}):(null==b?void 0:b.status)==="rejected"?(0,n.jsxs)("div",{style:i.rejectedBox,children:[(0,n.jsx)("h3",{style:i.rejectedTitle,children:"❌ Name Rejected"}),(0,n.jsxs)("p",{style:i.rejectedText,children:["Your requested username ",(0,n.jsxs)("strong",{children:['"',b.requestedUsername,'"']})," was rejected."]}),b.rejectionReason&&(0,n.jsxs)("p",{style:i.rejectedReason,children:["Reason: ",b.rejectionReason]}),(0,n.jsx)("p",{style:i.pendingNote,children:"Please choose a different username below."})]}):null,m&&!b?(0,n.jsxs)("div",{style:i.successBox,children:[(0,n.jsx)("h3",{style:i.successTitle,children:"✅ Request Submitted"}),(0,n.jsx)("p",{style:i.successText,children:"Your name change request has been submitted for review."})]}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{style:i.inputGroup,children:[(0,n.jsx)("label",{style:i.label,children:"New Username:"}),(0,n.jsx)("input",{type:"text",value:c,onChange:e=>p(e.target.value),placeholder:"Enter new username...",style:i.input,maxLength:20,disabled:x}),(0,n.jsx)("span",{style:i.hint,children:"3-20 characters, letters, numbers, underscores, and hyphens only"})]}),u&&(0,n.jsxs)("div",{style:i.error,children:["❌ ",u]}),(0,n.jsx)("button",{onClick:w,disabled:x||!c.trim(),style:{...i.submitBtn,opacity:x||!c.trim()?.5:1},children:x?"Submitting...":"Submit New Username"})]}),(0,n.jsxs)("p",{style:i.contactInfo,children:["Need help? Contact ",(0,n.jsx)("a",{href:"mailto:support@worldguessr.com",style:i.link,children:"support@worldguessr.com"})]})]})]})})}let i={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.85)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e4,padding:"20px"},modal:{backgroundColor:"#161b22",borderRadius:"12px",border:"1px solid #30363d",maxWidth:"500px",width:"100%",maxHeight:"90vh",overflow:"auto"},header:{padding:"20px",borderBottom:"1px solid #30363d",backgroundColor:"#0d1117",borderRadius:"12px 12px 0 0",display:"flex",justifyContent:"space-between",alignItems:"center"},title:{margin:0,color:"#ffa657",fontSize:"1.5rem",fontFamily:"Lexend, sans-serif"},closeBtn:{background:"none",border:"none",color:"#6e7681",fontSize:"28px",cursor:"pointer",padding:"0",lineHeight:"1"},body:{padding:"20px"},description:{color:"#b1bac4",fontSize:"1rem",lineHeight:"1.6",marginBottom:"16px"},reason:{backgroundColor:"#21262d",padding:"12px",borderRadius:"6px",color:"#e6edf3",marginBottom:"20px",fontSize:"0.9rem"},pendingBox:{backgroundColor:"rgba(210, 153, 34, 0.1)",border:"1px solid #d29922",borderRadius:"8px",padding:"16px",marginBottom:"20px"},pendingTitle:{margin:"0 0 8px 0",color:"#d29922",fontSize:"1.1rem"},pendingText:{color:"#e6edf3",margin:"0 0 8px 0"},pendingNote:{color:"#b1bac4",fontSize:"0.9rem",margin:0},rejectedBox:{backgroundColor:"rgba(248, 81, 73, 0.1)",border:"1px solid #f85149",borderRadius:"8px",padding:"16px",marginBottom:"20px"},rejectedTitle:{margin:"0 0 8px 0",color:"#f85149",fontSize:"1.1rem"},rejectedText:{color:"#e6edf3",margin:"0 0 8px 0"},rejectedReason:{color:"#f85149",fontStyle:"italic",margin:"0 0 8px 0"},successBox:{backgroundColor:"rgba(63, 185, 80, 0.1)",border:"1px solid #3fb950",borderRadius:"8px",padding:"16px",marginBottom:"20px"},successTitle:{margin:"0 0 8px 0",color:"#3fb950",fontSize:"1.1rem"},successText:{color:"#e6edf3",margin:0},divider:{textAlign:"center",color:"#6e7681",margin:"20px 0",fontSize:"0.85rem"},inputGroup:{marginBottom:"16px"},label:{display:"block",color:"#e6edf3",marginBottom:"8px",fontWeight:500},input:{width:"100%",padding:"12px",fontSize:"1rem",border:"1px solid #30363d",borderRadius:"6px",backgroundColor:"#0d1117",color:"#e6edf3",fontFamily:"Lexend, sans-serif",outline:"none",boxSizing:"border-box"},hint:{display:"block",color:"#6e7681",fontSize:"0.8rem",marginTop:"4px"},error:{backgroundColor:"rgba(248, 81, 73, 0.1)",border:"1px solid #f85149",borderRadius:"6px",padding:"12px",color:"#f85149",marginBottom:"16px"},submitBtn:{width:"100%",padding:"14px",fontSize:"1rem",fontWeight:600,border:"none",borderRadius:"6px",backgroundColor:"#3fb950",color:"#0d1117",cursor:"pointer",fontFamily:"Lexend, sans-serif",marginBottom:"20px"},contactInfo:{textAlign:"center",color:"#6e7681",fontSize:"0.85rem",margin:0},link:{color:"#58a6ff"}}},5259:(e,t,a)=>{a.d(t,{A:()=>n});function n(e){let t=[],a=Math.trunc(e/864e5);a>0&&(t.push(a+"d"),e-=864e5*a);let n=Math.trunc(e/36e5);n>0&&(t.push(n+"h"),e-=36e5*n);let r=Math.trunc(e/6e4);r>0&&(t.push(r+"m"),e-=6e4*r);let o=Math.trunc(e/1e3);return o>0&&t.push(o+"s"),t[0]}},9262:(e,t,a)=>{a.d(t,{A:()=>s});var n=a(7876),r=a(1173),o=a(2069),l=a(4232),i=a(2393);function s(e){let{eloData:t,session:a,isPublic:s=!1,username:d=null,viewingPublicProfile:c=!1}=e,{t:p}=(0,r.B)("common"),x=(0,o.WV)(t.elo),[g,u]=(0,l.useState)(null),f={background:"rgba(255, 255, 255, 0.1)",borderRadius:"clamp(10px, 3vw, 20px)",padding:"clamp(15px, 4vw, 30px)",backdropFilter:"blur(20px)",border:"1px solid rgba(255, 255, 255, 0.1)",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.3)"},m={background:"rgba(255, 255, 255, 0.05)",borderRadius:"clamp(8px, 2vw, 15px)",padding:"clamp(12px, 3vw, 20px)",textAlign:"center",border:"1px solid rgba(255, 255, 255, 0.1)",transition:"all 0.3s ease"},h={fontSize:"clamp(12px, 2.5vw, 16px)",color:"#b0b0b0",marginBottom:"clamp(4px, 1.5vw, 8px)",textTransform:"uppercase",letterSpacing:"0.5px",fontWeight:"500"},b={fontSize:"clamp(18px, 4vw, 28px)",color:"#ffd700",fontWeight:"bold",textShadow:"0 0 10px rgba(255, 215, 0, 0.3)"};return(0,n.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"clamp(15px, 4vw, 30px)",color:"#fff",fontFamily:"Arial, sans-serif"},children:[(0,n.jsxs)("div",{style:f,children:[(0,n.jsx)("h2",{style:{fontSize:"clamp(20px, 4vw, 32px)",fontWeight:600,marginBottom:"clamp(10px, 3vw, 20px)",color:"white",textAlign:"center"},children:p("leagues")}),(0,n.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",gap:"clamp(8px, 2vw, 15px)",flexWrap:"wrap",marginTop:"clamp(15px, 4vw, 30px)",padding:"clamp(10px, 3vw, 20px)",background:"rgba(0, 0, 0, 0.2)",borderRadius:"clamp(10px, 3vw, 20px)",border:"1px solid rgba(255, 255, 255, 0.1)"},children:Object.values(o.t0).map(e=>{let t=x.name===e.name,a=e.min;return(0,n.jsxs)("div",{style:{position:"relative",textAlign:"center",cursor:"pointer",transition:"transform 0.3s ease",transform:t?"scale(1.15)":"scale(1)"},onMouseEnter:t=>{t.currentTarget.style.transform="scale(1.2)",u(e.name)},onMouseLeave:e=>{e.currentTarget.style.transform=t?"scale(1.15)":"scale(1)",u(null)},children:[(0,n.jsxs)("div",{style:{width:"clamp(50px, 10vw, 80px)",height:"clamp(45px, 9vw, 70px)",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:e.color,color:"black",borderRadius:"clamp(8px, 2vw, 15px)",fontSize:"clamp(25px, 6vw, 50px)",fontWeight:"bold",position:"relative",overflow:"hidden",boxShadow:t?"0 0 20px rgba(255, 215, 0, 0.5)":"0 4px 15px rgba(0, 0, 0, 0.3)",border:t?"3px solid #ffd700":"2px solid rgba(255, 255, 255, 0.2)"},children:[e.emoji,t&&(0,n.jsx)("div",{style:{position:"absolute",top:"-100%",left:"-100%",width:"200%",height:"200%",background:"linear-gradient(45deg, rgba(255,255,255,0.6), rgba(255,255,255,0))",transform:"rotate(30deg)",animation:"shine 2s infinite linear"}})]}),(0,n.jsx)("p",{style:{fontSize:"clamp(12px, 3vw, 16px)",marginTop:"clamp(6px, 1.5vw, 8px)",color:t?"#ffd700":"#e0e0e0",fontWeight:t?"bold":"600",textShadow:t?"0px 0px 8px #ffd700":"none"},children:e.name}),a>0&&(0,n.jsxs)("div",{style:{position:"absolute",top:"clamp(-20px, -4vw, -16px)",left:"50%",transform:"translateX(-50%)",backgroundColor:e.color,color:"black",border:"2px solid black",padding:"clamp(3px, 1vw, 4px) clamp(6px, 2vw, 8px)",borderRadius:"clamp(8px, 2vw, 10px)",fontSize:"clamp(10px, 2.5vw, 12px)",fontWeight:"bold",opacity:+(g===e.name),transition:"opacity 0.3s",whiteSpace:"nowrap",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.3)"},className:"elo-badge",children:[a," ELO"]})]},e.name)})})]}),(0,n.jsxs)("div",{style:f,children:[(0,n.jsx)("h2",{style:{fontSize:"clamp(20px, 4vw, 32px)",fontWeight:600,marginBottom:"clamp(10px, 3vw, 20px)",color:"white",textAlign:"center"},children:p("statistics")}),(0,n.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(150px, 1fr))",gap:"clamp(10px, 3vw, 20px)",marginTop:"clamp(10px, 3vw, 20px)"},children:[(0,n.jsxs)("div",{style:m,onMouseEnter:e=>{e.currentTarget.style.background="rgba(255, 255, 255, 0.1)",e.currentTarget.style.transform="translateY(-5px)"},onMouseLeave:e=>{e.currentTarget.style.background="rgba(255, 255, 255, 0.05)",e.currentTarget.style.transform="translateY(0)"},children:[(0,n.jsx)("div",{style:h,children:p(c?"elo":"yourElo")}),(0,n.jsx)("div",{style:b,children:t.elo})]}),(0,n.jsxs)("div",{style:m,onMouseEnter:e=>{e.currentTarget.style.background="rgba(255, 255, 255, 0.1)",e.currentTarget.style.transform="translateY(-5px)"},onMouseLeave:e=>{e.currentTarget.style.background="rgba(255, 255, 255, 0.05)",e.currentTarget.style.transform="translateY(0)"},children:[(0,n.jsx)("div",{style:h,children:p(c?"globalRank":"yourGlobalRank")}),(0,n.jsxs)("div",{style:b,children:["#",t.rank]})]}),(0,n.jsxs)("div",{style:m,onMouseEnter:e=>{e.currentTarget.style.background="rgba(255, 255, 255, 0.1)",e.currentTarget.style.transform="translateY(-5px)"},onMouseLeave:e=>{e.currentTarget.style.background="rgba(255, 255, 255, 0.05)",e.currentTarget.style.transform="translateY(0)"},children:[(0,n.jsx)("div",{style:h,children:p("duels_won")}),(0,n.jsx)("div",{style:b,children:t.duels_wins})]}),(0,n.jsxs)("div",{style:m,onMouseEnter:e=>{e.currentTarget.style.background="rgba(255, 255, 255, 0.1)",e.currentTarget.style.transform="translateY(-5px)"},onMouseLeave:e=>{e.currentTarget.style.background="rgba(255, 255, 255, 0.05)",e.currentTarget.style.transform="translateY(0)"},children:[(0,n.jsx)("div",{style:h,children:p("duels_lost")}),(0,n.jsx)("div",{style:b,children:t.duels_losses})]}),t.duels_tied>0&&(0,n.jsxs)("div",{style:m,onMouseEnter:e=>{e.currentTarget.style.background="rgba(255, 255, 255, 0.1)",e.currentTarget.style.transform="translateY(-5px)"},onMouseLeave:e=>{e.currentTarget.style.background="rgba(255, 255, 255, 0.05)",e.currentTarget.style.transform="translateY(0)"},children:[(0,n.jsx)("div",{style:h,children:p("duels_tied")}),(0,n.jsx)("div",{style:b,children:t.duels_tied})]}),t.win_rate?(0,n.jsxs)("div",{style:m,onMouseEnter:e=>{e.currentTarget.style.background="rgba(255, 255, 255, 0.1)",e.currentTarget.style.transform="translateY(-5px)"},onMouseLeave:e=>{e.currentTarget.style.background="rgba(255, 255, 255, 0.05)",e.currentTarget.style.transform="translateY(0)"},children:[(0,n.jsx)("div",{style:h,children:p("win_rate")}),(0,n.jsxs)("div",{style:b,children:[(100*t.win_rate).toFixed(2),"%"]})]}):null]})]}),(0,n.jsx)(i.A,{session:a,mode:"elo",isPublic:s,username:d})]})}}}]);