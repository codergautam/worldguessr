(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[746],{3783:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>l});var a=n(7876),o=n(4232),r=n(9276),s=n(7328);let l=()=>{let[e,t]=(0,o.useState)({nm:!1,npz:!1,showRoadLabels:!0,lat:null,long:null,panoId:null,heading:null,pitch:null,showAnswer:!1,hidden:!1}),[n,l]=(0,o.useState)(0);return(0,o.useEffect)(()=>{{let e=new URLSearchParams(window.location.search);t({nm:"true"===e.get("nm"),npz:"true"===e.get("npz"),showRoadLabels:"false"!==e.get("showRoadLabels"),lat:parseFloat(e.get("lat")),long:parseFloat(e.get("long")),panoId:e.get("pano")||e.get("panoId"),heading:e.get("heading")?parseFloat(e.get("heading")):null,pitch:e.get("pitch")?parseFloat(e.get("pitch")):null,showAnswer:"true"===e.get("showAnswer"),hidden:"true"===e.get("hidden")})}},[]),(0,o.useEffect)(()=>{let e=e=>{e.data&&"object"==typeof e.data&&"updateProps"===e.data.type&&(t(t=>({...t,...e.data.props})),l(e=>e+1))};return window.addEventListener("message",e),()=>{window.removeEventListener("message",e)}},[]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(s,{}),(0,a.jsx)(r.A,{nm:e.nm,npz:e.npz,showRoadLabels:e.showRoadLabels,lat:e.lat,long:e.long,panoId:e.panoId,heading:e.heading,pitch:e.pitch,showAnswer:e.showAnswer,hidden:e.hidden,refreshKey:n,onLoad:()=>{window.parent.postMessage({type:"onLoad"},"*")}})]})}},7328:(e,t,n)=>{e.exports=n(9836)},7572:(e,t,n)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/svEmbed",function(){return n(3783)}])},9276:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});var a=n(7876),o=n(4232);let r=e=>{let{nm:t=!1,npz:n=!1,showRoadLabels:r=!0,lat:s,long:l,panoId:c,heading:d,pitch:i,showAnswer:w=!1,hidden:p=!1,refreshKey:g=0,onLoad:u}=e,[h,m]=(0,o.useState)(!0),[f,v]=(0,o.useState)(!1),b=(0,o.useRef)(null),y=(0,o.useRef)(null),E=(0,o.useRef)(g);return((0,o.useEffect)(()=>{if(b.current&&(s&&l||c)){let e="https://www.google.com/maps/embed/v1/streetview?location=".concat(s,",").concat(l,"&key=AIzaSyA_t5gb2Mn37dZjhsaJ4F-OPp1PWDxqZyI&fov=100&language=en"),t="".concat(s,"-").concat(l,"-").concat(c),n=null!==y.current&&y.current!==t,a=E.current!==g;(n||a||!y.current)&&(console.log("[PERF] StreetView: Setting Google Maps iframe src for lat=".concat(s,", long=").concat(l)),window.googleMapsIframeStartTime=performance.now(),m(!0),v(!1),b.current.src=e),y.current=t,E.current=g}},[s,l,c,d,i,g]),window.reloadLoc=()=>{let e=document.getElementById("streetview");e&&(e.src=e.src)},s&&l||c)?("https://www.google.com/maps/embed/v1/streetview?location=".concat(s,",").concat(l,"&key=AIzaSyA_t5gb2Mn37dZjhsaJ4F-OPp1PWDxqZyI&fov=100&language=en"),(0,a.jsx)("iframe",{ref:b,className:"".concat(n&&t&&!w?"nmpz":""," ").concat(p?"hidden":""," streetview"),referrerPolicy:"no-referrer-when-downgrade",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; picture-in-picture",onLoad:()=>{window.googleMapsIframeStartTime&&console.log("[PERF] StreetView: Google Maps iframe loaded in ".concat((performance.now()-window.googleMapsIframeStartTime).toFixed(2),"ms")),m(!1),v(!0),u&&(s&&l||c)&&u()},loading:"eager",style:{width:"100vw",height:"calc(100vh + 300px)",zIndex:100,transform:"translateY(-285px)",border:"none"},id:"streetview"})):null}}},e=>{e.O(0,[636,593,792],()=>e(e.s=7572)),_N_E=e.O()}]);