# Internationalization (i18n)

## Supported Languages
| Code | Language |
|------|----------|
| en | English (default, fallback) |
| es | Spanish |
| fr | French |
| de | German |
| ru | Russian |

## Translation File Structure
Location: `/public/locales/{lang}/common.json`

Format: Flat key-value JSON
```json
{
  "singleplayer": "Singleplayer",
  "multiplayer": "Multiplayer",
  "loading": "Loading",
  "onlineCnt": "{{cnt}} online",
  "guestMultiplayer": "Playing as {{name}}"
}
```

## Variable Substitution
Uses `{{variableName}}` placeholders:
```javascript
text("onlineCnt", { cnt: 1234 })
// → "1234 online"

text("guestMultiplayer", { name: "Guest #1234" })
// → "Playing as Guest #1234"
```

## Translation Hook (Web Implementation)
```javascript
const { t: text } = useTranslation("common");
// Usage:
text("singleplayer")           // → "Singleplayer"
text("onlineCnt", { cnt: 5 })  // → "5 online"
```

## Fallback Strategy
1. Look up key in selected language
2. If not found: fall back to English
3. If still not found: return the key itself

## React Native Implementation
Create a similar hook or use `react-i18next`:

```javascript
// Option 1: Custom hook (matches web approach)
import en from './locales/en/common.json';
import es from './locales/es/common.json';
// etc.

const languages = { en, es, fr, de, ru };

function useTranslation() {
  const lang = useLanguageSetting(); // from AsyncStorage or device locale
  return {
    t: (key, vars) => {
      let str = languages[lang]?.[key] || languages.en[key] || key;
      if (vars) {
        Object.keys(vars).forEach(v => {
          str = str.replace(`{{${v}}}`, vars[v]);
        });
      }
      return str;
    }
  };
}

// Option 2: react-i18next (recommended for RN)
// More features: pluralization, nesting, lazy loading
```

## Language Detection
Web app detection order:
1. `localStorage.lang` (user preference)
2. `navigator.language` (browser language)
3. Default: "en"

For React Native:
1. AsyncStorage language preference
2. `expo-localization` or `react-native-localize` for device language
3. Default: "en"

## Key Translation Categories
- **Game UI**: singleplayer, multiplayer, loading, connecting, back, menu
- **Multiplayer**: playOnline, playFriends, rankedDuel, createGame, joinGame, gameCode
- **Gameplay**: guess, nextRound, gameOver, points, distance, round
- **Maps**: maps, communityMaps, searchForMaps, countryMaps, spotlight, popular, recent
- **Profile**: profile, ELO, friends, leaderboard, settings
- **Social**: addFriend, removeFriend, acceptFriend, sendFriendRequest
- **Errors**: connectionLost, gameNotFound, invalidCode

## Total Translation Keys
~402 keys per language file (~15-20KB each)

## Important Notes
- Map names and descriptions are user-generated (not translated)
- Server error messages are in English (translate on client)
- Toast messages use i18n keys (e.g., `key: "reconnected"`)
- Country names use separate country data (not in translation files)
